(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var tg={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function rD(){if(NE)return Vu;NE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Vu.Fragment=t,Vu.jsx=n,Vu.jsxs=n,Vu}var ME;function sD(){return ME||(ME=1,tg.exports=rD()),tg.exports}var C=sD(),eg={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function aD(){if(PE)return Ct;PE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,j={};function k(V,rt,ht){this.props=V,this.context=rt,this.refs=j,this.updater=ht||A}k.prototype.isReactComponent={},k.prototype.setState=function(V,rt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,rt,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=k.prototype;function F(V,rt,ht){this.props=V,this.context=rt,this.refs=j,this.updater=ht||A}var $=F.prototype=new H;$.constructor=F,I($,k.prototype),$.isPureReactComponent=!0;var lt=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function D(V,rt,ht,ot,yt,Dt){return ht=Dt.ref,{$$typeof:e,type:V,key:rt,ref:ht!==void 0?ht:null,props:Dt}}function R(V,rt){return D(V.type,rt,void 0,void 0,void 0,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function M(V){var rt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ht){return rt[ht]})}var L=/\/+/g;function B(V,rt){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):rt.toString(36)}function P(){}function ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(P,P):(V.status="pending",V.then(function(rt){V.status==="pending"&&(V.status="fulfilled",V.value=rt)},function(rt){V.status==="pending"&&(V.status="rejected",V.reason=rt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Lt(V,rt,ht,ot,yt){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var At=!1;if(V===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(V.$$typeof){case e:case t:At=!0;break;case y:return At=V._init,Lt(At(V._payload),rt,ht,ot,yt)}}if(At)return yt=yt(V),At=ot===""?"."+B(V,0):ot,lt(yt)?(ht="",At!=null&&(ht=At.replace(L,"$&/")+"/"),Lt(yt,rt,ht,"",function(gi){return gi})):yt!=null&&(x(yt)&&(yt=R(yt,ht+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(L,"$&/")+"/")+At)),rt.push(yt)),1;At=0;var ze=ot===""?".":ot+":";if(lt(V))for(var re=0;re<V.length;re++)ot=V[re],Dt=ze+B(ot,re),At+=Lt(ot,rt,ht,Dt,yt);else if(re=w(V),typeof re=="function")for(V=re.call(V),re=0;!(ot=V.next()).done;)ot=ot.value,Dt=ze+B(ot,re++),At+=Lt(ot,rt,ht,Dt,yt);else if(Dt==="object"){if(typeof V.then=="function")return Lt(ce(V),rt,ht,ot,yt);throw rt=String(V),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return At}function W(V,rt,ht){if(V==null)return V;var ot=[],yt=0;return Lt(V,ot,"","",function(Dt){return rt.call(ht,Dt,yt++)}),ot}function st(V){if(V._status===-1){var rt=V._result;rt=rt(),rt.then(function(ht){(V._status===0||V._status===-1)&&(V._status=1,V._result=ht)},function(ht){(V._status===0||V._status===-1)&&(V._status=2,V._result=ht)}),V._status===-1&&(V._status=0,V._result=rt)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function xt(){}return Ct.Children={map:W,forEach:function(V,rt,ht){W(V,function(){rt.apply(this,arguments)},ht)},count:function(V){var rt=0;return W(V,function(){rt++}),rt},toArray:function(V){return W(V,function(rt){return rt})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ct.Component=k,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=F,Ct.StrictMode=i,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return it.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cloneElement=function(V,rt,ht){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ot=I({},V.props),yt=V.key,Dt=void 0;if(rt!=null)for(At in rt.ref!==void 0&&(Dt=void 0),rt.key!==void 0&&(yt=""+rt.key),rt)!at.call(rt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&rt.ref===void 0||(ot[At]=rt[At]);var At=arguments.length-2;if(At===1)ot.children=ht;else if(1<At){for(var ze=Array(At),re=0;re<At;re++)ze[re]=arguments[re+2];ot.children=ze}return D(V.type,yt,void 0,void 0,Dt,ot)},Ct.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ct.createElement=function(V,rt,ht){var ot,yt={},Dt=null;if(rt!=null)for(ot in rt.key!==void 0&&(Dt=""+rt.key),rt)at.call(rt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(yt[ot]=rt[ot]);var At=arguments.length-2;if(At===1)yt.children=ht;else if(1<At){for(var ze=Array(At),re=0;re<At;re++)ze[re]=arguments[re+2];yt.children=ze}if(V&&V.defaultProps)for(ot in At=V.defaultProps,At)yt[ot]===void 0&&(yt[ot]=At[ot]);return D(V,Dt,void 0,void 0,null,yt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:f,render:V}},Ct.isValidElement=x,Ct.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:st}},Ct.memo=function(V,rt){return{$$typeof:p,type:V,compare:rt===void 0?null:rt}},Ct.startTransition=function(V){var rt=it.T,ht={};it.T=ht;try{var ot=V(),yt=it.S;yt!==null&&yt(ht,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(xt,ft)}catch(Dt){ft(Dt)}finally{it.T=rt}},Ct.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},Ct.use=function(V){return it.H.use(V)},Ct.useActionState=function(V,rt,ht){return it.H.useActionState(V,rt,ht)},Ct.useCallback=function(V,rt){return it.H.useCallback(V,rt)},Ct.useContext=function(V){return it.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,rt){return it.H.useDeferredValue(V,rt)},Ct.useEffect=function(V,rt,ht){var ot=it.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(V,rt)},Ct.useId=function(){return it.H.useId()},Ct.useImperativeHandle=function(V,rt,ht){return it.H.useImperativeHandle(V,rt,ht)},Ct.useInsertionEffect=function(V,rt){return it.H.useInsertionEffect(V,rt)},Ct.useLayoutEffect=function(V,rt){return it.H.useLayoutEffect(V,rt)},Ct.useMemo=function(V,rt){return it.H.useMemo(V,rt)},Ct.useOptimistic=function(V,rt){return it.H.useOptimistic(V,rt)},Ct.useReducer=function(V,rt,ht){return it.H.useReducer(V,rt,ht)},Ct.useRef=function(V){return it.H.useRef(V)},Ct.useState=function(V){return it.H.useState(V)},Ct.useSyncExternalStore=function(V,rt,ht){return it.H.useSyncExternalStore(V,rt,ht)},Ct.useTransition=function(){return it.H.useTransition()},Ct.version="19.1.1",Ct}var OE;function ky(){return OE||(OE=1,eg.exports=aD()),eg.exports}var O=ky(),ng={exports:{}},ku={},ig={exports:{}},rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function oD(){return VE||(VE=1,(function(e){function t(W,st){var ft=W.length;W.push(st);t:for(;0<ft;){var xt=ft-1>>>1,V=W[xt];if(0<a(V,st))W[xt]=st,W[ft]=V,ft=xt;else break t}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var st=W[0],ft=W.pop();if(ft!==st){W[0]=ft;t:for(var xt=0,V=W.length,rt=V>>>1;xt<rt;){var ht=2*(xt+1)-1,ot=W[ht],yt=ht+1,Dt=W[yt];if(0>a(ot,ft))yt<V&&0>a(Dt,ot)?(W[xt]=Dt,W[yt]=ft,xt=yt):(W[xt]=ot,W[ht]=ft,xt=ht);else if(yt<V&&0>a(Dt,ft))W[xt]=Dt,W[yt]=ft,xt=yt;else break t}}return st}function a(W,st){var ft=W.sortIndex-st.sortIndex;return ft!==0?ft:W.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,w=3,A=!1,I=!1,j=!1,k=!1,H=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function lt(W){for(var st=n(p);st!==null;){if(st.callback===null)i(p);else if(st.startTime<=W)i(p),st.sortIndex=st.expirationTime,t(m,st);else break;st=n(p)}}function it(W){if(j=!1,lt(W),!I)if(n(m)!==null)I=!0,at||(at=!0,B());else{var st=n(p);st!==null&&Lt(it,st.startTime-W)}}var at=!1,D=-1,R=5,x=-1;function M(){return k?!0:!(e.unstable_now()-x<R)}function L(){if(k=!1,at){var W=e.unstable_now();x=W;var st=!0;try{t:{I=!1,j&&(j=!1,F(D),D=-1),A=!0;var ft=w;try{e:{for(lt(W),_=n(m);_!==null&&!(_.expirationTime>W&&M());){var xt=_.callback;if(typeof xt=="function"){_.callback=null,w=_.priorityLevel;var V=xt(_.expirationTime<=W);if(W=e.unstable_now(),typeof V=="function"){_.callback=V,lt(W),st=!0;break e}_===n(m)&&i(m),lt(W)}else i(m);_=n(m)}if(_!==null)st=!0;else{var rt=n(p);rt!==null&&Lt(it,rt.startTime-W),st=!1}}break t}finally{_=null,w=ft,A=!1}st=void 0}}finally{st?B():at=!1}}}var B;if(typeof $=="function")B=function(){$(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ce=P.port2;P.port1.onmessage=L,B=function(){ce.postMessage(null)}}else B=function(){H(L,0)};function Lt(W,st){D=H(function(){W(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(W){switch(w){case 1:case 2:case 3:var st=3;break;default:st=w}var ft=w;w=st;try{return W()}finally{w=ft}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(W,st){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=w;w=W;try{return st()}finally{w=ft}},e.unstable_scheduleCallback=function(W,st,ft){var xt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?xt+ft:xt):ft=xt,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,W={id:y++,callback:st,priorityLevel:W,startTime:ft,expirationTime:V,sortIndex:-1},ft>xt?(W.sortIndex=ft,t(p,W),n(m)===null&&W===n(p)&&(j?(F(D),D=-1):j=!0,Lt(it,ft-xt))):(W.sortIndex=V,t(m,W),I||A||(I=!0,at||(at=!0,B()))),W},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(W){var st=w;return function(){var ft=w;w=st;try{return W.apply(this,arguments)}finally{w=ft}}}})(rg)),rg}var kE;function lD(){return kE||(kE=1,ig.exports=oD()),ig.exports}var sg={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function uD(){if(LE)return on;LE=1;var e=ky();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},on.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},on.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},on.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},on.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:A}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},on.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},on.requestFormReset=function(m){i.d.r(m)},on.unstable_batchedUpdates=function(m,p){return m(p)},on.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.1.1",on}var UE;function cD(){if(UE)return sg.exports;UE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sg.exports=uD(),sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function hD(){if(jE)return ku;jE=1;var e=lD(),t=ky(),n=cD();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),r;if(g===u)return f(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,b=d.child;b;){if(b===o){E=!0,o=d,u=g;break}if(b===u){E=!0,u=d,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,u=d;break}if(b===u){E=!0,u=g,o=d;break}b=b.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function ce(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case it:return"Suspense";case at:return"SuspenseList";case x:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case $:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case lt:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:ce(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return ce(r(s))}catch{}}return null}var Lt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},xt=[],V=-1;function rt(r){return{current:r}}function ht(r){0>V||(r.current=xt[V],xt[V]=null,V--)}function ot(r,s){V++,xt[V]=r.current,r.current=s}var yt=rt(null),Dt=rt(null),At=rt(null),ze=rt(null);function re(r,s){switch(ot(At,s),ot(Dt,r),ot(yt,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?sE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=sE(s),r=aE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ht(yt),ot(yt,r)}function gi(){ht(yt),ht(Dt),ht(At)}function Pr(r){r.memoizedState!==null&&ot(ze,r);var s=yt.current,o=aE(s,r.type);s!==o&&(ot(Dt,r),ot(yt,o))}function $i(r){Dt.current===r&&(ht(yt),ht(Dt)),ze.current===r&&(ht(ze),Du._currentValue=ft)}var Us=Object.prototype.hasOwnProperty,js=e.unstable_scheduleCallback,Bs=e.unstable_cancelCallback,xl=e.unstable_shouldYield,Kc=e.unstable_requestPaint,Bn=e.unstable_now,tm=e.unstable_getCurrentPriorityLevel,Cl=e.unstable_ImmediatePriority,Ya=e.unstable_UserBlockingPriority,zs=e.unstable_NormalPriority,em=e.unstable_LowPriority,$a=e.unstable_IdlePriority,Il=e.log,Qc=e.unstable_setDisableYieldValue,pe=null,Kt=null;function Rn(r){if(typeof Il=="function"&&Qc(r),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(pe,r)}catch{}}var sn=Math.clz32?Math.clz32:Fs,Xc=Math.log,nm=Math.LN2;function Fs(r){return r>>>=0,r===0?32:31-(Xc(r)/nm|0)|0}var qs=256,Hs=4194304;function ii(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ka(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,g=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?d=ii(u):(E&=b,E!==0?d=ii(E):o||(o=b&~r,o!==0&&(d=ii(o))))):(b=u&~g,b!==0?d=ii(b):E!==0?d=ii(E):o||(o=u&~r,o!==0&&(d=ii(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Gs(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Dl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nl(){var r=qs;return qs<<=1,(qs&4194048)===0&&(qs=256),r}function Ml(){var r=Hs;return Hs<<=1,(Hs&62914560)===0&&(Hs=4194304),r}function Ki(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Qi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Pl(r,s,o,u,d,g){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var b=r.entanglements,N=r.expirationTimes,Y=r.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-sn(o),et=1<<Z;b[Z]=0,N[Z]=-1;var K=Y[Z];if(K!==null)for(Y[Z]=null,Z=0;Z<K.length;Z++){var Q=K[Z];Q!==null&&(Q.lane&=-536870913)}o&=~et}u!==0&&yi(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~s))}function yi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-sn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Ol(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-sn(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function Or(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Qa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Vr(){var r=st.p;return r!==0?r:(r=window.event,r===void 0?32:AE(r.type))}function Wc(r,s){var o=st.p;try{return st.p=r,s()}finally{st.p=o}}var oe=Math.random().toString(36).slice(2),Ve="__reactFiber$"+oe,xe="__reactProps$"+oe,zn="__reactContainer$"+oe,Vl="__reactEvents$"+oe,im="__reactListeners$"+oe,kr="__reactHandles$"+oe,Zc="__reactResources$"+oe,Ys="__reactMarker$"+oe;function Lr(r){delete r[Ve],delete r[xe],delete r[Vl],delete r[im],delete r[kr]}function Xi(r){var s=r[Ve];if(s)return s;for(var o=r.parentNode;o;){if(s=o[zn]||o[Ve]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=cE(r);r!==null;){if(o=r[Ve])return o;r=cE(r)}return s}r=o,o=r.parentNode}return null}function vi(r){if(r=r[Ve]||r[zn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function _i(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function dn(r){var s=r[Zc];return s||(s=r[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ee(r){r[Ys]=!0}var kl=new Set,Xa={};function ri(r,s){Wi(r,s),Wi(r+"Capture",s)}function Wi(r,s){for(Xa[r]=s,r=0;r<s.length;r++)kl.add(s[r])}var Jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),th={},$s={};function eh(r){return Us.call($s,r)?!0:Us.call(th,r)?!1:Jc.test(r)?$s[r]=!0:(th[r]=!0,!1)}function Ur(r,s,o){if(eh(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ti(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Qe(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Ks,nh;function Zi(r){if(Ks===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ks=s&&s[1]||"",nh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+r+nh}var Wa=!1;function Za(r,s){if(!r||Wa)return"";Wa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var K=Q}Reflect.construct(r,[],et)}else{try{et.call()}catch(Q){K=Q}r.call(et.prototype)}}else{try{throw Error()}catch(Q){K=Q}(et=r())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var N=E.split(`
`),Y=b.split(`
`);for(d=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(u===N.length||d===Y.length)for(u=N.length-1,d=Y.length-1;1<=u&&0<=d&&N[u]!==Y[d];)d--;for(;1<=u&&0<=d;u--,d--)if(N[u]!==Y[d]){if(u!==1||d!==1)do if(u--,d--,0>d||N[u]!==Y[d]){var Z=`
`+N[u].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Wa=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Zi(o):""}function Ll(r){switch(r.tag){case 26:case 27:case 5:return Zi(r.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return Za(r.type,!1);case 11:return Za(r.type.render,!1);case 1:return Za(r.type,!0);case 31:return Zi("Activity");default:return""}}function Ja(r){try{var s="";do s+=Ll(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ul(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rm(r){var s=Ul(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function to(r){r._valueTracker||(r._valueTracker=rm(r))}function jl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Ul(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Qs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var sm=/[\n"\\]/g;function Ce(r){return r.replace(sm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xn(r,s,o,u,d,g,E,b){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+mn(s)):r.value!==""+mn(s)&&(r.value=""+mn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?jr(r,E,mn(s)):o!=null?jr(r,E,mn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+mn(b):r.removeAttribute("name")}function Xs(r,s,o,u,d,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+mn(o):"",s=s!=null?""+mn(s):o,b||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=b?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function jr(r,s,o){s==="number"&&Qs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ji(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+mn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Zt(r,s,o){if(s!=null&&(s=""+mn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+mn(o):""}function Ws(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Lt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=mn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Fn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ih(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Zs.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Bl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&ih(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&ih(r,g,s[g])}function zl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(r){return om.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var tr=null;function qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var er=null,nr=null;function Fl(r){var s=vi(r);if(s&&(r=s.stateNode)){var o=r[xe]||null;t:switch(r=s.stateNode,s.type){case"input":if(xn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ce(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[xe]||null;if(!d)throw Error(i(90));xn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&jl(u)}break t;case"textarea":Zt(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Ji(r,!!o.multiple,s,!1)}}}var Ei=!1;function rh(r,s,o){if(Ei)return r(s,o);Ei=!0;try{var u=r(s);return u}finally{if(Ei=!1,(er!==null||nr!==null)&&(Wh(),er&&(s=er,r=nr,nr=er=null,Fl(s),r)))for(s=0;s<r.length;s++)Fl(r[s])}}function Js(r,s){var o=r.stateNode;if(o===null)return null;var u=o[xe]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(si)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Hn=!1}var wi=null,Br=null,ir=null;function ql(){if(ir)return ir;var r,s=Br,o=s.length,u,d="value"in wi?wi.value:wi.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===d[g-u];u++);return ir=d.slice(r,1<u?1-u:void 0)}function bi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Si(){return!0}function Hl(){return!1}function Fe(r){function s(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(o=r[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Si:Hl,this.isPropagationStopped=Hl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),s}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=Fe(Yt),ea=y({},Yt,{view:0,detail:0}),sh=Fe(ea),io,ro,Ai,na=y({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ai&&(Ai&&r.type==="mousemove"?(io=r.screenX-Ai.screenX,ro=r.screenY-Ai.screenY):ro=io=0,Ai=r),io)},movementY:function(r){return"movementY"in r?r.movementY:ro}}),Gn=Fe(na),ah=y({},na,{dataTransfer:0}),lm=Fe(ah),ia=y({},ea,{relatedTarget:0}),so=Fe(ia),Gl=y({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),ao=Fe(Gl),oh=y({},Yt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),oo=Fe(oh),um=y({},Yt,{data:0}),Yl=Fe(um),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=uh[r])?!!s[r]:!1}function sa(){return $l}var ch=y({},ea,{key:function(r){if(r.key){var s=ra[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=bi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?lh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(r){return r.type==="keypress"?bi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),lo=Fe(ch),hh=y({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kl=Fe(hh),rr=y({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),fh=Fe(rr),dh=y({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mh=Fe(dh),ph=y({},na,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),uo=Fe(ph),pn=y({},Yt,{newState:0,oldState:0}),gh=Fe(pn),yh=[9,13,27,32],Ri=si&&"CompositionEvent"in window,h=null;si&&"documentMode"in document&&(h=document.documentMode);var v=si&&"TextEvent"in window&&!h,T=si&&(!Ri||h&&8<h&&11>=h),S=" ",q=!1;function X(r,s){switch(r){case"keyup":return yh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ut=!1;function ke(r,s){switch(r){case"compositionend":return ut(s);case"keypress":return s.which!==32?null:(q=!0,S);case"textInput":return r=s.data,r===S&&q?null:r;default:return null}}function jt(r,s){if(Ut)return r==="compositionend"||!Ri&&X(r,s)?(r=ql(),ir=Br=wi=null,Ut=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!qe[r.type]:s==="textarea"}function sr(r,s,o,u){er?nr?nr.push(u):nr=[u]:er=u,s=rf(s,"onChange"),0<s.length&&(o=new no("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Xe=null,xi=null;function Ql(r){tE(r,0)}function vh(r){var s=_i(r);if(jl(s))return r}function E0(r,s){if(r==="change")return s}var w0=!1;if(si){var cm;if(si){var hm="oninput"in document;if(!hm){var b0=document.createElement("div");b0.setAttribute("oninput","return;"),hm=typeof b0.oninput=="function"}cm=hm}else cm=!1;w0=cm&&(!document.documentMode||9<document.documentMode)}function S0(){Xe&&(Xe.detachEvent("onpropertychange",A0),xi=Xe=null)}function A0(r){if(r.propertyName==="value"&&vh(xi)){var s=[];sr(s,xi,r,qn(r)),rh(Ql,s)}}function OC(r,s,o){r==="focusin"?(S0(),Xe=s,xi=o,Xe.attachEvent("onpropertychange",A0)):r==="focusout"&&S0()}function VC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vh(xi)}function kC(r,s){if(r==="click")return vh(s)}function LC(r,s){if(r==="input"||r==="change")return vh(s)}function UC(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Cn=typeof Object.is=="function"?Object.is:UC;function Xl(r,s){if(Cn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Us.call(s,d)||!Cn(r[d],s[d]))return!1}return!0}function R0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function x0(r,s){var o=R0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=R0(o)}}function C0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?C0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function I0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Qs(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Qs(r.document)}return s}function fm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var jC=si&&"documentMode"in document&&11>=document.documentMode,co=null,dm=null,Wl=null,mm=!1;function D0(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;mm||co==null||co!==Qs(u)||(u=co,"selectionStart"in u&&fm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wl&&Xl(Wl,u)||(Wl=u,u=rf(dm,"onSelect"),0<u.length&&(s=new no("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=co)))}function aa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var ho={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},pm={},N0={};si&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function oa(r){if(pm[r])return pm[r];if(!ho[r])return r;var s=ho[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in N0)return pm[r]=s[o];return r}var M0=oa("animationend"),P0=oa("animationiteration"),O0=oa("animationstart"),BC=oa("transitionrun"),zC=oa("transitionstart"),FC=oa("transitioncancel"),V0=oa("transitionend"),k0=new Map,gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gm.push("scrollEnd");function ai(r,s){k0.set(r,s),ri(s,[r])}var L0=new WeakMap;function Yn(r,s){if(typeof r=="object"&&r!==null){var o=L0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ja(s)},L0.set(r,s),s)}return{value:r,source:s,stack:Ja(s)}}var $n=[],fo=0,ym=0;function _h(){for(var r=fo,s=ym=fo=0;s<r;){var o=$n[s];$n[s++]=null;var u=$n[s];$n[s++]=null;var d=$n[s];$n[s++]=null;var g=$n[s];if($n[s++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&U0(o,d,g)}}function Th(r,s,o,u){$n[fo++]=r,$n[fo++]=s,$n[fo++]=o,$n[fo++]=u,ym|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function vm(r,s,o,u){return Th(r,s,o,u),Eh(r)}function mo(r,s){return Th(r,null,null,s),Eh(r)}function U0(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&s!==null&&(d=31-sn(o),r=g.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Eh(r){if(50<wu)throw wu=0,Sp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var po={};function qC(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,s,o,u){return new qC(r,s,o,u)}function _m(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ar(r,s){var o=r.alternate;return o===null?(o=In(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function j0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function wh(r,s,o,u,d,g){var E=0;if(u=r,typeof r=="function")_m(r)&&(E=1);else if(typeof r=="string")E=GI(r,o,yt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case x:return r=In(31,o,s,d),r.elementType=x,r.lanes=g,r;case I:return la(o.children,d,g,s);case j:E=8,d|=24;break;case k:return r=In(12,o,s,d|2),r.elementType=k,r.lanes=g,r;case it:return r=In(13,o,s,d),r.elementType=it,r.lanes=g,r;case at:return r=In(19,o,s,d),r.elementType=at,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:case $:E=10;break t;case F:E=9;break t;case lt:E=11;break t;case D:E=14;break t;case R:E=16,u=null;break t}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=In(E,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function la(r,s,o,u){return r=In(7,r,u,s),r.lanes=o,r}function Tm(r,s,o){return r=In(6,r,null,s),r.lanes=o,r}function Em(r,s,o){return s=In(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var go=[],yo=0,bh=null,Sh=0,Kn=[],Qn=0,ua=null,or=1,lr="";function ca(r,s){go[yo++]=Sh,go[yo++]=bh,bh=r,Sh=s}function B0(r,s,o){Kn[Qn++]=or,Kn[Qn++]=lr,Kn[Qn++]=ua,ua=r;var u=or;r=lr;var d=32-sn(u)-1;u&=~(1<<d),o+=1;var g=32-sn(s)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,or=1<<32-sn(s)+d|o<<d|u,lr=g+r}else or=1<<g|o<<d|u,lr=r}function wm(r){r.return!==null&&(ca(r,1),B0(r,1,0))}function bm(r){for(;r===bh;)bh=go[--yo],go[yo]=null,Sh=go[--yo],go[yo]=null;for(;r===ua;)ua=Kn[--Qn],Kn[Qn]=null,lr=Kn[--Qn],Kn[Qn]=null,or=Kn[--Qn],Kn[Qn]=null}var gn=null,ge=null,Gt=!1,ha=null,Ci=!1,Sm=Error(i(519));function fa(r){var s=Error(i(418,""));throw tu(Yn(s,r)),Sm}function z0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ve]=r,s[xe]=u,o){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(o=0;o<Su.length;o++)Pt(Su[o],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Pt("invalid",s),Xs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),to(s);break;case"select":Pt("invalid",s);break;case"textarea":Pt("invalid",s),Ws(s,u.value,u.defaultValue,u.children),to(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||rE(s.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",s),Pt("toggle",s)),u.onScroll!=null&&Pt("scroll",s),u.onScrollEnd!=null&&Pt("scrollend",s),u.onClick!=null&&(s.onclick=sf),s=!0):s=!1,s||fa(r)}function F0(r){for(gn=r.return;gn;)switch(gn.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:gn=gn.return}}function Zl(r){if(r!==gn)return!1;if(!Gt)return F0(r),Gt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Bp(r.type,r.memoizedProps)),o=!o),o&&ge&&fa(r),F0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){ge=li(r.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}ge=null}}else s===27?(s=ge,ns(r.type)?(r=Hp,Hp=null,ge=r):ge=s):ge=gn?li(r.stateNode.nextSibling):null;return!0}function Jl(){ge=gn=null,Gt=!1}function q0(){var r=ha;return r!==null&&(wn===null?wn=r:wn.push.apply(wn,r),ha=null),r}function tu(r){ha===null?ha=[r]:ha.push(r)}var Am=rt(null),da=null,ur=null;function zr(r,s,o){ot(Am,s._currentValue),s._currentValue=o}function cr(r){r._currentValue=Am.current,ht(Am)}function Rm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function xm(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=d;for(var N=0;N<s.length;N++)if(b.context===s[N]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),Rm(g.return,o,r),u||(E=null);break t}g=b.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(i(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Rm(E,o,r),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===r){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function eu(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var b=d.type;Cn(d.pendingProps.value,E.value)||(r!==null?r.push(b):r=[b])}}else if(d===ze.current){if(E=d.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Du):r=[Du])}d=d.return}r!==null&&xm(s,r,o,u),s.flags|=262144}function Ah(r){for(r=r.firstContext;r!==null;){if(!Cn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ma(r){da=r,ur=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function an(r){return H0(da,r)}function Rh(r,s){return da===null&&ma(r),H0(r,s)}function H0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ur===null){if(r===null)throw Error(i(308));ur=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ur=ur.next=s;return o}var HC=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},GC=e.unstable_scheduleCallback,YC=e.unstable_NormalPriority,Ue={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cm(){return{controller:new HC,data:new Map,refCount:0}}function nu(r){r.refCount--,r.refCount===0&&GC(YC,function(){r.controller.abort()})}var iu=null,Im=0,vo=0,_o=null;function $C(r,s){if(iu===null){var o=iu=[];Im=0,vo=Np(),_o={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Im++,s.then(G0,G0),s}function G0(){if(--Im===0&&iu!==null){_o!==null&&(_o.status="fulfilled");var r=iu;iu=null,vo=0,_o=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function KC(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Y0=W.S;W.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&$C(r,s),Y0!==null&&Y0(r,s)};var pa=rt(null);function Dm(){var r=pa.current;return r!==null?r:se.pooledCache}function xh(r,s){s===null?ot(pa,pa.current):ot(pa,s.pool)}function $0(){var r=Dm();return r===null?null:{parent:Ue._currentValue,pool:r}}var ru=Error(i(460)),K0=Error(i(474)),Ch=Error(i(542)),Nm={then:function(){}};function Q0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ih(){}function X0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Ih,Ih),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Z0(r),r;default:if(typeof s.status=="string")s.then(Ih,Ih);else{if(r=se,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Z0(r),r}throw su=s,ru}}var su=null;function W0(){if(su===null)throw Error(i(459));var r=su;return su=null,r}function Z0(r){if(r===ru||r===Ch)throw Error(i(483))}var Fr=!1;function Mm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function qr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Hr(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Eh(r),U0(r,null,o),s}return Th(r,u,s,o),Eh(r)}function au(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ol(r,o)}}function Om(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Vm=!1;function ou(){if(Vm){var r=_o;if(r!==null)throw r}}function lu(r,s,o,u){Vm=!1;var d=r.updateQueue;Fr=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var N=b,Y=N.next;N.next=null,E===null?g=Y:E.next=Y,E=N;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==E&&(b===null?Z.firstBaseUpdate=Y:b.next=Y,Z.lastBaseUpdate=N))}if(g!==null){var et=d.baseState;E=0,Z=Y=N=null,b=g;do{var K=b.lane&-536870913,Q=K!==b.lane;if(Q?(Bt&K)===K:(u&K)===K){K!==0&&K===vo&&(Vm=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var bt=r,_t=b;K=s;var ee=o;switch(_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){et=bt.call(ee,et,K);break t}et=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,K=typeof bt=="function"?bt.call(ee,et,K):bt,K==null)break t;et=y({},et,K);break t;case 2:Fr=!0}}K=b.callback,K!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(Y=Z=Q,N=et):Z=Z.next=Q,E|=K;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);Z===null&&(N=et),d.baseState=N,d.firstBaseUpdate=Y,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),Zr|=E,r.lanes=E,r.memoizedState=et}}function J0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function t_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)J0(o[r],s)}var To=rt(null),Dh=rt(0);function e_(r,s){r=yr,ot(Dh,r),ot(To,s),yr=r|s.baseLanes}function km(){ot(Dh,yr),ot(To,To.current)}function Lm(){yr=Dh.current,ht(To),ht(Dh)}var Gr=0,It=null,Jt=null,Ie=null,Nh=!1,Eo=!1,ga=!1,Mh=0,uu=0,wo=null,QC=0;function we(){throw Error(i(321))}function Um(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Cn(r[o],s[o]))return!1;return!0}function jm(r,s,o,u,d,g){return Gr=g,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=r===null||r.memoizedState===null?U_:j_,ga=!1,g=o(u,d),ga=!1,Eo&&(g=i_(s,o,u,d)),n_(r),g}function n_(r){W.H=Uh;var s=Jt!==null&&Jt.next!==null;if(Gr=0,Ie=Jt=It=null,Nh=!1,uu=0,wo=null,s)throw Error(i(300));r===null||He||(r=r.dependencies,r!==null&&Ah(r)&&(He=!0))}function i_(r,s,o,u){It=r;var d=0;do{if(Eo&&(wo=null),uu=0,Eo=!1,25<=d)throw Error(i(301));if(d+=1,Ie=Jt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=nI,g=s(o,u)}while(Eo);return g}function XC(){var r=W.H,s=r.useState()[0];return s=typeof s.then=="function"?cu(s):s,r=r.useState()[0],(Jt!==null?Jt.memoizedState:null)!==r&&(It.flags|=1024),s}function Bm(){var r=Mh!==0;return Mh=0,r}function zm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Fm(r){if(Nh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nh=!1}Gr=0,Ie=Jt=It=null,Eo=!1,uu=Mh=0,wo=null}function Tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?It.memoizedState=Ie=r:Ie=Ie.next=r,Ie}function De(){if(Jt===null){var r=It.alternate;r=r!==null?r.memoizedState:null}else r=Jt.next;var s=Ie===null?It.memoizedState:Ie.next;if(s!==null)Ie=s,Jt=r;else{if(r===null)throw It.alternate===null?Error(i(467)):Error(i(310));Jt=r,r={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ie===null?It.memoizedState=Ie=r:Ie=Ie.next=r}return Ie}function qm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(r){var s=uu;return uu+=1,wo===null&&(wo=[]),r=X0(wo,r,s),s=It,(Ie===null?s.memoizedState:Ie.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?U_:j_),r}function Ph(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return cu(r);if(r.$$typeof===$)return an(r)}throw Error(i(438,String(r)))}function Hm(r){var s=null,o=It.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=qm(),It.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=M;return s.index++,o}function hr(r,s){return typeof s=="function"?s(r):s}function Oh(r){var s=De();return Gm(s,Jt,r)}function Gm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var b=E=null,N=null,Y=s,Z=!1;do{var et=Y.lane&-536870913;if(et!==Y.lane?(Bt&et)===et:(Gr&et)===et){var K=Y.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),et===vo&&(Z=!0);else if((Gr&K)===K){Y=Y.next,K===vo&&(Z=!0);continue}else et={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(b=N=et,E=g):N=N.next=et,It.lanes|=K,Zr|=K;et=Y.action,ga&&o(g,et),g=Y.hasEagerState?Y.eagerState:o(g,et)}else K={lane:et,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(b=N=K,E=g):N=N.next=K,It.lanes|=et,Zr|=et;Y=Y.next}while(Y!==null&&Y!==s);if(N===null?E=g:N.next=b,!Cn(g,r.memoizedState)&&(He=!0,Z&&(o=_o,o!==null)))throw o;r.memoizedState=g,r.baseState=E,r.baseQueue=N,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Ym(r){var s=De(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=r(g,E.action),E=E.next;while(E!==d);Cn(g,s.memoizedState)||(He=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function r_(r,s,o){var u=It,d=De(),g=Gt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Cn((Jt||d).memoizedState,o);E&&(d.memoizedState=o,He=!0),d=d.queue;var b=o_.bind(null,u,d,r);if(hu(2048,8,b,[r]),d.getSnapshot!==s||E||Ie!==null&&Ie.memoizedState.tag&1){if(u.flags|=2048,bo(9,Vh(),a_.bind(null,u,d,o,s),null),se===null)throw Error(i(349));g||(Gr&124)!==0||s_(u,s,o)}return o}function s_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=It.updateQueue,s===null?(s=qm(),It.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function a_(r,s,o,u){s.value=o,s.getSnapshot=u,l_(s)&&u_(r)}function o_(r,s,o){return o(function(){l_(s)&&u_(r)})}function l_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Cn(r,o)}catch{return!0}}function u_(r){var s=mo(r,2);s!==null&&On(s,r,2)}function $m(r){var s=Tn();if(typeof r=="function"){var o=r;if(r=o(),ga){Rn(!0);try{o()}finally{Rn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:r},s}function c_(r,s,o,u){return r.baseState=o,Gm(r,Jt,typeof u=="function"?u:hr)}function WC(r,s,o,u,d){if(Lh(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,h_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function h_(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=W.T,E={};W.T=E;try{var b=o(d,u),N=W.S;N!==null&&N(E,b),f_(r,s,b)}catch(Y){Km(r,s,Y)}finally{W.T=g}}else try{g=o(d,u),f_(r,s,g)}catch(Y){Km(r,s,Y)}}function f_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){d_(r,s,u)},function(u){return Km(r,s,u)}):d_(r,s,o)}function d_(r,s,o){s.status="fulfilled",s.value=o,m_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,h_(r,o)))}function Km(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,m_(s),s=s.next;while(s!==u)}r.action=null}function m_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function p_(r,s){return s}function g_(r,s){if(Gt){var o=se.formState;if(o!==null){t:{var u=It;if(Gt){if(ge){e:{for(var d=ge,g=Ci;d.nodeType!==8;){if(!g){d=null;break e}if(d=li(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ge=li(d.nextSibling),u=d.data==="F!";break t}}fa(u)}u=!1}u&&(s=o[0])}}return o=Tn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p_,lastRenderedState:s},o.queue=u,o=V_.bind(null,It,u),u.dispatch=o,u=$m(!1),g=Jm.bind(null,It,!1,u.queue),u=Tn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=WC.bind(null,It,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function y_(r){var s=De();return v_(s,Jt,r)}function v_(r,s,o){if(s=Gm(r,s,p_)[0],r=Oh(hr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=cu(s)}catch(E){throw E===ru?Ch:E}else u=s;s=De();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(It.flags|=2048,bo(9,Vh(),ZC.bind(null,d,o),null)),[u,g,r]}function ZC(r,s){r.action=s}function __(r){var s=De(),o=Jt;if(o!==null)return v_(s,o,r);De(),s=s.memoizedState,o=De();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function bo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=It.updateQueue,s===null&&(s=qm(),It.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Vh(){return{destroy:void 0,resource:void 0}}function T_(){return De().memoizedState}function kh(r,s,o,u){var d=Tn();u=u===void 0?null:u,It.flags|=r,d.memoizedState=bo(1|s,Vh(),o,u)}function hu(r,s,o,u){var d=De();u=u===void 0?null:u;var g=d.memoizedState.inst;Jt!==null&&u!==null&&Um(u,Jt.memoizedState.deps)?d.memoizedState=bo(s,g,o,u):(It.flags|=r,d.memoizedState=bo(1|s,g,o,u))}function E_(r,s){kh(8390656,8,r,s)}function w_(r,s){hu(2048,8,r,s)}function b_(r,s){return hu(4,2,r,s)}function S_(r,s){return hu(4,4,r,s)}function A_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function R_(r,s,o){o=o!=null?o.concat([r]):null,hu(4,4,A_.bind(null,s,r),o)}function Qm(){}function x_(r,s){var o=De();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Um(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function C_(r,s){var o=De();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Um(s,u[1]))return u[0];if(u=r(),ga){Rn(!0);try{r()}finally{Rn(!1)}}return o.memoizedState=[u,s],u}function Xm(r,s,o){return o===void 0||(Gr&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=NT(),It.lanes|=r,Zr|=r,o)}function I_(r,s,o,u){return Cn(o,s)?o:To.current!==null?(r=Xm(r,o,u),Cn(r,s)||(He=!0),r):(Gr&42)===0?(He=!0,r.memoizedState=o):(r=NT(),It.lanes|=r,Zr|=r,s)}function D_(r,s,o,u,d){var g=st.p;st.p=g!==0&&8>g?g:8;var E=W.T,b={};W.T=b,Jm(r,!1,s,o);try{var N=d(),Y=W.S;if(Y!==null&&Y(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=KC(N,u);fu(r,s,Z,Pn(r))}else fu(r,s,u,Pn(r))}catch(et){fu(r,s,{then:function(){},status:"rejected",reason:et},Pn())}finally{st.p=g,W.T=E}}function JC(){}function Wm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=N_(r).queue;D_(r,d,s,ft,o===null?JC:function(){return M_(r),o(u)})}function N_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:ft},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function M_(r){var s=N_(r).next.queue;fu(r,s,{},Pn())}function Zm(){return an(Du)}function P_(){return De().memoizedState}function O_(){return De().memoizedState}function tI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Pn();r=qr(o);var u=Hr(s,r,o);u!==null&&(On(u,s,o),au(u,s,o)),s={cache:Cm()},r.payload=s;return}s=s.return}}function eI(r,s,o){var u=Pn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Lh(r)?k_(s,o):(o=vm(r,s,o,u),o!==null&&(On(o,r,u),L_(o,s,u)))}function V_(r,s,o){var u=Pn();fu(r,s,o,u)}function fu(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lh(r))k_(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,b=g(E,o);if(d.hasEagerState=!0,d.eagerState=b,Cn(b,E))return Th(r,s,d,0),se===null&&_h(),!1}catch{}finally{}if(o=vm(r,s,d,u),o!==null)return On(o,r,u),L_(o,s,u),!0}return!1}function Jm(r,s,o,u){if(u={lane:2,revertLane:Np(),action:u,hasEagerState:!1,eagerState:null,next:null},Lh(r)){if(s)throw Error(i(479))}else s=vm(r,o,u,2),s!==null&&On(s,r,2)}function Lh(r){var s=r.alternate;return r===It||s!==null&&s===It}function k_(r,s){Eo=Nh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function L_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ol(r,o)}}var Uh={readContext:an,use:Ph,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we},U_={readContext:an,use:Ph,useCallback:function(r,s){return Tn().memoizedState=[r,s===void 0?null:s],r},useContext:an,useEffect:E_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,kh(4194308,4,A_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return kh(4194308,4,r,s)},useInsertionEffect:function(r,s){kh(4,2,r,s)},useMemo:function(r,s){var o=Tn();s=s===void 0?null:s;var u=r();if(ga){Rn(!0);try{r()}finally{Rn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Tn();if(o!==void 0){var d=o(s);if(ga){Rn(!0);try{o(s)}finally{Rn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=eI.bind(null,It,r),[u.memoizedState,r]},useRef:function(r){var s=Tn();return r={current:r},s.memoizedState=r},useState:function(r){r=$m(r);var s=r.queue,o=V_.bind(null,It,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Qm,useDeferredValue:function(r,s){var o=Tn();return Xm(o,r,s)},useTransition:function(){var r=$m(!1);return r=D_.bind(null,It,r.queue,!0,!1),Tn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=It,d=Tn();if(Gt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),se===null)throw Error(i(349));(Bt&124)!==0||s_(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,E_(o_.bind(null,u,g,r),[r]),u.flags|=2048,bo(9,Vh(),a_.bind(null,u,g,o,s),null),o},useId:function(){var r=Tn(),s=se.identifierPrefix;if(Gt){var o=lr,u=or;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Mh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=QC++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Zm,useFormState:g_,useActionState:g_,useOptimistic:function(r){var s=Tn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Jm.bind(null,It,!0,o),o.dispatch=s,[r,s]},useMemoCache:Hm,useCacheRefresh:function(){return Tn().memoizedState=tI.bind(null,It)}},j_={readContext:an,use:Ph,useCallback:x_,useContext:an,useEffect:w_,useImperativeHandle:R_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:C_,useReducer:Oh,useRef:T_,useState:function(){return Oh(hr)},useDebugValue:Qm,useDeferredValue:function(r,s){var o=De();return I_(o,Jt.memoizedState,r,s)},useTransition:function(){var r=Oh(hr)[0],s=De().memoizedState;return[typeof r=="boolean"?r:cu(r),s]},useSyncExternalStore:r_,useId:P_,useHostTransitionStatus:Zm,useFormState:y_,useActionState:y_,useOptimistic:function(r,s){var o=De();return c_(o,Jt,r,s)},useMemoCache:Hm,useCacheRefresh:O_},nI={readContext:an,use:Ph,useCallback:x_,useContext:an,useEffect:w_,useImperativeHandle:R_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:C_,useReducer:Ym,useRef:T_,useState:function(){return Ym(hr)},useDebugValue:Qm,useDeferredValue:function(r,s){var o=De();return Jt===null?Xm(o,r,s):I_(o,Jt.memoizedState,r,s)},useTransition:function(){var r=Ym(hr)[0],s=De().memoizedState;return[typeof r=="boolean"?r:cu(r),s]},useSyncExternalStore:r_,useId:P_,useHostTransitionStatus:Zm,useFormState:__,useActionState:__,useOptimistic:function(r,s){var o=De();return Jt!==null?c_(o,Jt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:O_},So=null,du=0;function jh(r){var s=du;return du+=1,So===null&&(So=[]),X0(So,r,s)}function mu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Bh(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function B_(r){var s=r._init;return s(r._payload)}function z_(r){function s(z,U){if(r){var G=z.deletions;G===null?(z.deletions=[U],z.flags|=16):G.push(U)}}function o(z,U){if(!r)return null;for(;U!==null;)s(z,U),U=U.sibling;return null}function u(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function d(z,U){return z=ar(z,U),z.index=0,z.sibling=null,z}function g(z,U,G){return z.index=G,r?(G=z.alternate,G!==null?(G=G.index,G<U?(z.flags|=67108866,U):G):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function E(z){return r&&z.alternate===null&&(z.flags|=67108866),z}function b(z,U,G,tt){return U===null||U.tag!==6?(U=Tm(G,z.mode,tt),U.return=z,U):(U=d(U,G),U.return=z,U)}function N(z,U,G,tt){var mt=G.type;return mt===I?Z(z,U,G.props.children,tt,G.key):U!==null&&(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&B_(mt)===U.type)?(U=d(U,G.props),mu(U,G),U.return=z,U):(U=wh(G.type,G.key,G.props,null,z.mode,tt),mu(U,G),U.return=z,U)}function Y(z,U,G,tt){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Em(G,z.mode,tt),U.return=z,U):(U=d(U,G.children||[]),U.return=z,U)}function Z(z,U,G,tt,mt){return U===null||U.tag!==7?(U=la(G,z.mode,tt,mt),U.return=z,U):(U=d(U,G),U.return=z,U)}function et(z,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Tm(""+U,z.mode,G),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return G=wh(U.type,U.key,U.props,null,z.mode,G),mu(G,U),G.return=z,G;case A:return U=Em(U,z.mode,G),U.return=z,U;case R:var tt=U._init;return U=tt(U._payload),et(z,U,G)}if(Lt(U)||B(U))return U=la(U,z.mode,G,null),U.return=z,U;if(typeof U.then=="function")return et(z,jh(U),G);if(U.$$typeof===$)return et(z,Rh(z,U),G);Bh(z,U)}return null}function K(z,U,G,tt){var mt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return mt!==null?null:b(z,U,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===mt?N(z,U,G,tt):null;case A:return G.key===mt?Y(z,U,G,tt):null;case R:return mt=G._init,G=mt(G._payload),K(z,U,G,tt)}if(Lt(G)||B(G))return mt!==null?null:Z(z,U,G,tt,null);if(typeof G.then=="function")return K(z,U,jh(G),tt);if(G.$$typeof===$)return K(z,U,Rh(z,G),tt);Bh(z,G)}return null}function Q(z,U,G,tt,mt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(G)||null,b(U,z,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case w:return z=z.get(tt.key===null?G:tt.key)||null,N(U,z,tt,mt);case A:return z=z.get(tt.key===null?G:tt.key)||null,Y(U,z,tt,mt);case R:var Nt=tt._init;return tt=Nt(tt._payload),Q(z,U,G,tt,mt)}if(Lt(tt)||B(tt))return z=z.get(G)||null,Z(U,z,tt,mt,null);if(typeof tt.then=="function")return Q(z,U,G,jh(tt),mt);if(tt.$$typeof===$)return Q(z,U,G,Rh(U,tt),mt);Bh(U,tt)}return null}function bt(z,U,G,tt){for(var mt=null,Nt=null,pt=U,Tt=U=0,Ye=null;pt!==null&&Tt<G.length;Tt++){pt.index>Tt?(Ye=pt,pt=null):Ye=pt.sibling;var Ht=K(z,pt,G[Tt],tt);if(Ht===null){pt===null&&(pt=Ye);break}r&&pt&&Ht.alternate===null&&s(z,pt),U=g(Ht,U,Tt),Nt===null?mt=Ht:Nt.sibling=Ht,Nt=Ht,pt=Ye}if(Tt===G.length)return o(z,pt),Gt&&ca(z,Tt),mt;if(pt===null){for(;Tt<G.length;Tt++)pt=et(z,G[Tt],tt),pt!==null&&(U=g(pt,U,Tt),Nt===null?mt=pt:Nt.sibling=pt,Nt=pt);return Gt&&ca(z,Tt),mt}for(pt=u(pt);Tt<G.length;Tt++)Ye=Q(pt,z,Tt,G[Tt],tt),Ye!==null&&(r&&Ye.alternate!==null&&pt.delete(Ye.key===null?Tt:Ye.key),U=g(Ye,U,Tt),Nt===null?mt=Ye:Nt.sibling=Ye,Nt=Ye);return r&&pt.forEach(function(os){return s(z,os)}),Gt&&ca(z,Tt),mt}function _t(z,U,G,tt){if(G==null)throw Error(i(151));for(var mt=null,Nt=null,pt=U,Tt=U=0,Ye=null,Ht=G.next();pt!==null&&!Ht.done;Tt++,Ht=G.next()){pt.index>Tt?(Ye=pt,pt=null):Ye=pt.sibling;var os=K(z,pt,Ht.value,tt);if(os===null){pt===null&&(pt=Ye);break}r&&pt&&os.alternate===null&&s(z,pt),U=g(os,U,Tt),Nt===null?mt=os:Nt.sibling=os,Nt=os,pt=Ye}if(Ht.done)return o(z,pt),Gt&&ca(z,Tt),mt;if(pt===null){for(;!Ht.done;Tt++,Ht=G.next())Ht=et(z,Ht.value,tt),Ht!==null&&(U=g(Ht,U,Tt),Nt===null?mt=Ht:Nt.sibling=Ht,Nt=Ht);return Gt&&ca(z,Tt),mt}for(pt=u(pt);!Ht.done;Tt++,Ht=G.next())Ht=Q(pt,z,Tt,Ht.value,tt),Ht!==null&&(r&&Ht.alternate!==null&&pt.delete(Ht.key===null?Tt:Ht.key),U=g(Ht,U,Tt),Nt===null?mt=Ht:Nt.sibling=Ht,Nt=Ht);return r&&pt.forEach(function(iD){return s(z,iD)}),Gt&&ca(z,Tt),mt}function ee(z,U,G,tt){if(typeof G=="object"&&G!==null&&G.type===I&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:t:{for(var mt=G.key;U!==null;){if(U.key===mt){if(mt=G.type,mt===I){if(U.tag===7){o(z,U.sibling),tt=d(U,G.props.children),tt.return=z,z=tt;break t}}else if(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&B_(mt)===U.type){o(z,U.sibling),tt=d(U,G.props),mu(tt,G),tt.return=z,z=tt;break t}o(z,U);break}else s(z,U);U=U.sibling}G.type===I?(tt=la(G.props.children,z.mode,tt,G.key),tt.return=z,z=tt):(tt=wh(G.type,G.key,G.props,null,z.mode,tt),mu(tt,G),tt.return=z,z=tt)}return E(z);case A:t:{for(mt=G.key;U!==null;){if(U.key===mt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(z,U.sibling),tt=d(U,G.children||[]),tt.return=z,z=tt;break t}else{o(z,U);break}else s(z,U);U=U.sibling}tt=Em(G,z.mode,tt),tt.return=z,z=tt}return E(z);case R:return mt=G._init,G=mt(G._payload),ee(z,U,G,tt)}if(Lt(G))return bt(z,U,G,tt);if(B(G)){if(mt=B(G),typeof mt!="function")throw Error(i(150));return G=mt.call(G),_t(z,U,G,tt)}if(typeof G.then=="function")return ee(z,U,jh(G),tt);if(G.$$typeof===$)return ee(z,U,Rh(z,G),tt);Bh(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(z,U.sibling),tt=d(U,G),tt.return=z,z=tt):(o(z,U),tt=Tm(G,z.mode,tt),tt.return=z,z=tt),E(z)):o(z,U)}return function(z,U,G,tt){try{du=0;var mt=ee(z,U,G,tt);return So=null,mt}catch(pt){if(pt===ru||pt===Ch)throw pt;var Nt=In(29,pt,null,z.mode);return Nt.lanes=tt,Nt.return=z,Nt}finally{}}}var Ao=z_(!0),F_=z_(!1),Xn=rt(null),Ii=null;function Yr(r){var s=r.alternate;ot(je,je.current&1),ot(Xn,r),Ii===null&&(s===null||To.current!==null||s.memoizedState!==null)&&(Ii=r)}function q_(r){if(r.tag===22){if(ot(je,je.current),ot(Xn,r),Ii===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ii=r)}}else $r()}function $r(){ot(je,je.current),ot(Xn,Xn.current)}function fr(r){ht(Xn),Ii===r&&(Ii=null),ht(je)}var je=rt(0);function zh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||qp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function tp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ep={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Pn(),d=qr(u);d.payload=s,o!=null&&(d.callback=o),s=Hr(r,d,u),s!==null&&(On(s,r,u),au(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Pn(),d=qr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Hr(r,d,u),s!==null&&(On(s,r,u),au(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Pn(),u=qr(o);u.tag=2,s!=null&&(u.callback=s),s=Hr(r,u,o),s!==null&&(On(s,r,o),au(s,r,o))}};function H_(r,s,o,u,d,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Xl(o,u)||!Xl(d,g):!0}function G_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&ep.enqueueReplaceState(s,s.state,null)}function ya(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Fh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Y_(r){Fh(r)}function $_(r){console.error(r)}function K_(r){Fh(r)}function qh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Q_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function np(r,s,o){return o=qr(o),o.tag=3,o.payload={element:null},o.callback=function(){qh(r,s)},o}function X_(r){return r=qr(r),r.tag=3,r}function W_(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){Q_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Q_(s,o,u),typeof d!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function iI(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&eu(s,o,d,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return Ii===null?Rp():o.alternate===null&&ye===0&&(ye=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Nm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Cp(r,u,d)),!1;case 22:return o.flags|=65536,u===Nm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Cp(r,u,d)),!1}throw Error(i(435,o.tag))}return Cp(r,u,d),Rp(),!1}if(Gt)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Sm&&(r=Error(i(422),{cause:u}),tu(Yn(r,o)))):(u!==Sm&&(s=Error(i(423),{cause:u}),tu(Yn(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=Yn(u,o),d=np(r.stateNode,u,d),Om(r,d),ye!==4&&(ye=2)),!1;var g=Error(i(520),{cause:u});if(g=Yn(g,o),Eu===null?Eu=[g]:Eu.push(g),ye!==4&&(ye=2),s===null)return!0;u=Yn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=np(o.stateNode,u,r),Om(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jr===null||!Jr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=X_(d),W_(d,r,o,u),Om(o,d),!1}o=o.return}while(o!==null);return!1}var Z_=Error(i(461)),He=!1;function We(r,s,o,u){s.child=r===null?F_(s,null,o,u):Ao(s,r.child,o,u)}function J_(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return ma(s),u=jm(r,s,o,E,g,d),b=Bm(),r!==null&&!He?(zm(r,s,d),dr(r,s,d)):(Gt&&b&&wm(s),s.flags|=1,We(r,s,u,d),s.child)}function tT(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!_m(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,eT(r,s,g,u,d)):(r=wh(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!cp(r,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Xl,o(E,u)&&r.ref===s.ref)return dr(r,s,d)}return s.flags|=1,r=ar(g,u),r.ref=s.ref,r.return=s,s.child=r}function eT(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(Xl(g,u)&&r.ref===s.ref)if(He=!1,s.pendingProps=u=g,cp(r,d))(r.flags&131072)!==0&&(He=!0);else return s.lanes=r.lanes,dr(r,s,d)}return ip(r,s,o,u,d)}function nT(r,s,o){var u=s.pendingProps,d=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return iT(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&xh(s,g!==null?g.cachePool:null),g!==null?e_(s,g):km(),q_(s);else return s.lanes=s.childLanes=536870912,iT(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(xh(s,g.cachePool),e_(s,g),$r(),s.memoizedState=null):(r!==null&&xh(s,null),km(),$r());return We(r,s,d,o),s.child}function iT(r,s,o,u){var d=Dm();return d=d===null?null:{parent:Ue._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&xh(s,null),km(),q_(s),r!==null&&eu(r,s,u,!0),null}function Hh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function ip(r,s,o,u,d){return ma(s),o=jm(r,s,o,u,void 0,d),u=Bm(),r!==null&&!He?(zm(r,s,d),dr(r,s,d)):(Gt&&u&&wm(s),s.flags|=1,We(r,s,o,d),s.child)}function rT(r,s,o,u,d,g){return ma(s),s.updateQueue=null,o=i_(s,u,o,d),n_(r),u=Bm(),r!==null&&!He?(zm(r,s,g),dr(r,s,g)):(Gt&&u&&wm(s),s.flags|=1,We(r,s,o,g),s.child)}function sT(r,s,o,u,d){if(ma(s),s.stateNode===null){var g=po,E=o.contextType;typeof E=="object"&&E!==null&&(g=an(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ep,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Mm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?an(E):po,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(tp(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&ep.enqueueReplaceState(g,g.state,null),lu(s,u,g,d),ou(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var b=s.memoizedProps,N=ya(o,b);g.props=N;var Y=g.context,Z=o.contextType;E=po,typeof Z=="object"&&Z!==null&&(E=an(Z));var et=o.getDerivedStateFromProps;Z=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||Y!==E)&&G_(s,g,u,E),Fr=!1;var K=s.memoizedState;g.state=K,lu(s,u,g,d),ou(),Y=s.memoizedState,b||K!==Y||Fr?(typeof et=="function"&&(tp(s,o,et,u),Y=s.memoizedState),(N=Fr||H_(s,o,N,u,K,Y,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),g.props=u,g.state=Y,g.context=E,u=N):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Pm(r,s),E=s.memoizedProps,Z=ya(o,E),g.props=Z,et=s.pendingProps,K=g.context,Y=o.contextType,N=po,typeof Y=="object"&&Y!==null&&(N=an(Y)),b=o.getDerivedStateFromProps,(Y=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==et||K!==N)&&G_(s,g,u,N),Fr=!1,K=s.memoizedState,g.state=K,lu(s,u,g,d),ou();var Q=s.memoizedState;E!==et||K!==Q||Fr||r!==null&&r.dependencies!==null&&Ah(r.dependencies)?(typeof b=="function"&&(tp(s,o,b,u),Q=s.memoizedState),(Z=Fr||H_(s,o,Z,u,K,Q,N)||r!==null&&r.dependencies!==null&&Ah(r.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,N)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=N,u=Z):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Hh(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Ao(s,r.child,null,d),s.child=Ao(s,null,o,d)):We(r,s,o,d),s.memoizedState=g.state,r=s.child):r=dr(r,s,d),r}function aT(r,s,o,u){return Jl(),s.flags|=256,We(r,s,o,u),s.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(r){return{baseLanes:r,cachePool:$0()}}function ap(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Wn),r}function oT(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(je.current&2)!==0),E&&(d=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(Gt){if(d?Yr(s):$r(),Gt){var b=ge,N;if(N=b){t:{for(N=b,b=Ci;N.nodeType!==8;){if(!b){b=null;break t}if(N=li(N.nextSibling),N===null){b=null;break t}}b=N}b!==null?(s.memoizedState={dehydrated:b,treeContext:ua!==null?{id:or,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},N=In(18,null,null,0),N.stateNode=b,N.return=s,s.child=N,gn=s,ge=null,N=!0):N=!1}N||fa(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return qp(b)?s.lanes=32:s.lanes=536870912,null;fr(s)}return b=u.children,u=u.fallback,d?($r(),d=s.mode,b=Gh({mode:"hidden",children:b},d),u=la(u,d,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,d=s.child,d.memoizedState=sp(o),d.childLanes=ap(r,E,o),s.memoizedState=rp,u):(Yr(s),op(s,b))}if(N=r.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(g)s.flags&256?(Yr(s),s.flags&=-257,s=lp(r,s,o)):s.memoizedState!==null?($r(),s.child=r.child,s.flags|=128,s=null):($r(),d=u.fallback,b=s.mode,u=Gh({mode:"visible",children:u.children},b),d=la(d,b,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,Ao(s,r.child,null,o),u=s.child,u.memoizedState=sp(o),u.childLanes=ap(r,E,o),s.memoizedState=rp,s=d);else if(Yr(s),qp(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(i(419)),u.stack="",u.digest=E,tu({value:u,source:null,stack:null}),s=lp(r,s,o)}else if(He||eu(r,s,o,!1),E=(o&r.childLanes)!==0,He||E){if(E=se,E!==null&&(u=o&-o,u=(u&42)!==0?1:Or(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,mo(r,u),On(E,r,u),Z_;b.data==="$?"||Rp(),s=lp(r,s,o)}else b.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=N.treeContext,ge=li(b.nextSibling),gn=s,Gt=!0,ha=null,Ci=!1,r!==null&&(Kn[Qn++]=or,Kn[Qn++]=lr,Kn[Qn++]=ua,or=r.id,lr=r.overflow,ua=s),s=op(s,u.children),s.flags|=4096);return s}return d?($r(),d=u.fallback,b=s.mode,N=r.child,Y=N.sibling,u=ar(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,Y!==null?d=ar(Y,d):(d=la(d,b,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,b=r.child.memoizedState,b===null?b=sp(o):(N=b.cachePool,N!==null?(Y=Ue._currentValue,N=N.parent!==Y?{parent:Y,pool:Y}:N):N=$0(),b={baseLanes:b.baseLanes|o,cachePool:N}),d.memoizedState=b,d.childLanes=ap(r,E,o),s.memoizedState=rp,u):(Yr(s),o=r.child,r=o.sibling,o=ar(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function op(r,s){return s=Gh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Gh(r,s){return r=In(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function lp(r,s,o){return Ao(s,r.child,null,o),r=op(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function lT(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Rm(r.return,s,o)}function up(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function uT(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(We(r,s,u.children,o),u=je.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lT(r,o,s);else if(r.tag===19)lT(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ot(je,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&zh(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),up(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&zh(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}up(s,!0,o,null,g);break;case"together":up(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function dr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Zr|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(eu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ar(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ar(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function cp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Ah(r)))}function rI(r,s,o){switch(s.tag){case 3:re(s,s.stateNode.containerInfo),zr(s,Ue,r.memoizedState.cache),Jl();break;case 27:case 5:Pr(s);break;case 4:re(s,s.stateNode.containerInfo);break;case 10:zr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Yr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?oT(r,s,o):(Yr(s),r=dr(r,s,o),r!==null?r.sibling:null);Yr(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(eu(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return uT(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ot(je,je.current),u)break;return null;case 22:case 23:return s.lanes=0,nT(r,s,o);case 24:zr(s,Ue,r.memoizedState.cache)}return dr(r,s,o)}function cT(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)He=!0;else{if(!cp(r,o)&&(s.flags&128)===0)return He=!1,rI(r,s,o);He=(r.flags&131072)!==0}else He=!1,Gt&&(s.flags&1048576)!==0&&B0(s,Sh,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")_m(u)?(r=ya(u,r),s.tag=1,s=sT(null,s,u,r,o)):(s.tag=0,s=ip(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===lt){s.tag=11,s=J_(null,s,u,r,o);break t}else if(d===D){s.tag=14,s=tT(null,s,u,r,o);break t}}throw s=ce(u)||u,Error(i(306,s,""))}}return s;case 0:return ip(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ya(u,s.pendingProps),sT(r,s,u,d,o);case 3:t:{if(re(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,Pm(r,s),lu(s,u,null,o);var E=s.memoizedState;if(u=E.cache,zr(s,Ue,u),u!==g.cache&&xm(s,[Ue],o,!0),ou(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=aT(r,s,u,o);break t}else if(u!==d){d=Yn(Error(i(424)),s),tu(d),s=aT(r,s,u,o);break t}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ge=li(r.firstChild),gn=s,Gt=!0,ha=null,Ci=!0,o=F_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Jl(),u===d){s=dr(r,s,o);break t}We(r,s,u,o)}s=s.child}return s;case 26:return Hh(r,s),r===null?(o=mE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Gt||(o=s.type,r=s.pendingProps,u=af(At.current).createElement(o),u[Ve]=s,u[xe]=r,Je(u,o,r),Ee(u),s.stateNode=u):s.memoizedState=mE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Pr(s),r===null&&Gt&&(u=s.stateNode=hE(s.type,s.pendingProps,At.current),gn=s,Ci=!0,d=ge,ns(s.type)?(Hp=d,ge=li(u.firstChild)):ge=d),We(r,s,s.pendingProps.children,o),Hh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Gt&&((d=u=ge)&&(u=MI(u,s.type,s.pendingProps,Ci),u!==null?(s.stateNode=u,gn=s,ge=li(u.firstChild),Ci=!1,d=!0):d=!1),d||fa(s)),Pr(s),d=s.type,g=s.pendingProps,E=r!==null?r.memoizedProps:null,u=g.children,Bp(d,g)?u=null:E!==null&&Bp(d,E)&&(s.flags|=32),s.memoizedState!==null&&(d=jm(r,s,XC,null,null,o),Du._currentValue=d),Hh(r,s),We(r,s,u,o),s.child;case 6:return r===null&&Gt&&((r=o=ge)&&(o=PI(o,s.pendingProps,Ci),o!==null?(s.stateNode=o,gn=s,ge=null,r=!0):r=!1),r||fa(s)),null;case 13:return oT(r,s,o);case 4:return re(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ao(s,null,u,o):We(r,s,u,o),s.child;case 11:return J_(r,s,s.type,s.pendingProps,o);case 7:return We(r,s,s.pendingProps,o),s.child;case 8:return We(r,s,s.pendingProps.children,o),s.child;case 12:return We(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,zr(s,s.type,u.value),We(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ma(s),d=an(d),u=u(d),s.flags|=1,We(r,s,u,o),s.child;case 14:return tT(r,s,s.type,s.pendingProps,o);case 15:return eT(r,s,s.type,s.pendingProps,o);case 19:return uT(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Gh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=ar(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return nT(r,s,o);case 24:return ma(s),u=an(Ue),r===null?(d=Dm(),d===null&&(d=se,g=Cm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Mm(s),zr(s,Ue,d)):((r.lanes&o)!==0&&(Pm(r,s),lu(s,null,null,o),ou()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),zr(s,Ue,u)):(u=g.cache,zr(s,Ue,u),u!==d.cache&&xm(s,[Ue],o,!0))),We(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function mr(r){r.flags|=4}function hT(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!_E(s)){if(s=Xn.current,s!==null&&((Bt&4194048)===Bt?Ii!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==Ii))throw su=Nm,K0;r.flags|=8192}}function Yh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ml():536870912,r.lanes|=s,Io|=s)}function pu(r,s){if(!Gt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function he(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function sI(r,s,o){var u=s.pendingProps;switch(bm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(s),null;case 1:return he(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),cr(Ue),gi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Zl(s)?mr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,q0())),he(s),null;case 26:return o=s.memoizedState,r===null?(mr(s),o!==null?(he(s),hT(s,o)):(he(s),s.flags&=-16777217)):o?o!==r.memoizedState?(mr(s),he(s),hT(s,o)):(he(s),s.flags&=-16777217):(r.memoizedProps!==u&&mr(s),he(s),s.flags&=-16777217),null;case 27:$i(s),o=At.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&mr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return he(s),null}r=yt.current,Zl(s)?z0(s):(r=hE(d,u,o),s.stateNode=r,mr(s))}return he(s),null;case 5:if($i(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&mr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return he(s),null}if(r=yt.current,Zl(s))z0(s);else{switch(d=af(At.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Ve]=s,r[xe]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;t:switch(Je(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&mr(s)}}return he(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&mr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=At.current,Zl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=gn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Ve]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||rE(r.nodeValue,o)),r||fa(s)}else r=af(r).createTextNode(u),r[Ve]=s,s.stateNode=r}return he(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Zl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ve]=s}else Jl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;he(s),d=!1}else d=q0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(fr(s),s):(fr(s),null)}if(fr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Yh(s,s.updateQueue),he(s),null;case 4:return gi(),r===null&&Vp(s.stateNode.containerInfo),he(s),null;case 10:return cr(s.type),he(s),null;case 19:if(ht(je),d=s.memoizedState,d===null)return he(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)pu(d,!1);else{if(ye!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=zh(r),g!==null){for(s.flags|=128,pu(d,!1),r=g.updateQueue,s.updateQueue=r,Yh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)j0(o,r),o=o.sibling;return ot(je,je.current&1|2),s.child}r=r.sibling}d.tail!==null&&Bn()>Qh&&(s.flags|=128,u=!0,pu(d,!1),s.lanes=4194304)}else{if(!u)if(r=zh(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Yh(s,r),pu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Gt)return he(s),null}else 2*Bn()-d.renderingStartTime>Qh&&o!==536870912&&(s.flags|=128,u=!0,pu(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Bn(),s.sibling=null,r=je.current,ot(je,u?r&1|2:r&1),s):(he(s),null);case 22:case 23:return fr(s),Lm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(he(s),s.subtreeFlags&6&&(s.flags|=8192)):he(s),o=s.updateQueue,o!==null&&Yh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ht(pa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),cr(Ue),he(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function aI(r,s){switch(bm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return cr(Ue),gi(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return $i(s),null;case 13:if(fr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Jl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ht(je),null;case 4:return gi(),null;case 10:return cr(s.type),null;case 22:case 23:return fr(s),Lm(),r!==null&&ht(pa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return cr(Ue),null;case 25:return null;default:return null}}function fT(r,s){switch(bm(s),s.tag){case 3:cr(Ue),gi();break;case 26:case 27:case 5:$i(s);break;case 4:gi();break;case 13:fr(s);break;case 19:ht(je);break;case 10:cr(s.type);break;case 22:case 23:fr(s),Lm(),r!==null&&ht(pa);break;case 24:cr(Ue)}}function gu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(b){ie(s,s.return,b)}}function Kr(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,d=s;var N=o,Y=b;try{Y()}catch(Z){ie(d,N,Z)}}}u=u.next}while(u!==g)}}catch(Z){ie(s,s.return,Z)}}function dT(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{t_(s,o)}catch(u){ie(r,r.return,u)}}}function mT(r,s,o){o.props=ya(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ie(r,s,u)}}function yu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){ie(r,s,d)}}function Di(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ie(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ie(r,s,d)}else o.current=null}function pT(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ie(r,r.return,d)}}function hp(r,s,o){try{var u=r.stateNode;xI(u,r.type,o,s),u[xe]=s}catch(d){ie(r,r.return,d)}}function gT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ns(r.type)||r.tag===4}function fp(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||gT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ns(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=sf));else if(u!==4&&(u===27&&ns(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(dp(r,s,o),r=r.sibling;r!==null;)dp(r,s,o),r=r.sibling}function $h(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&ns(r.type)&&(o=r.stateNode),r=r.child,r!==null))for($h(r,s,o),r=r.sibling;r!==null;)$h(r,s,o),r=r.sibling}function yT(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Je(s,u,o),s[Ve]=r,s[xe]=o}catch(g){ie(r,r.return,g)}}var pr=!1,be=!1,mp=!1,vT=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function oI(r,s){if(r=r.containerInfo,Up=ff,r=I0(r),fm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,b=-1,N=-1,Y=0,Z=0,et=r,K=null;e:for(;;){for(var Q;et!==o||d!==0&&et.nodeType!==3||(b=E+d),et!==g||u!==0&&et.nodeType!==3||(N=E+u),et.nodeType===3&&(E+=et.nodeValue.length),(Q=et.firstChild)!==null;)K=et,et=Q;for(;;){if(et===r)break e;if(K===o&&++Y===d&&(b=E),K===g&&++Z===u&&(N=E),(Q=et.nextSibling)!==null)break;et=K,K=et.parentNode}et=Q}o=b===-1||N===-1?null:{start:b,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(jp={focusedElem:r,selectionRange:o},ff=!1,Ge=s;Ge!==null;)if(s=Ge,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Ge=r;else for(;Ge!==null;){switch(s=Ge,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var bt=ya(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(bt,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(_t){ie(o,o.return,_t)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Fp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Fp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Ge=r;break}Ge=s.return}}function _T(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Qr(r,o),u&4&&gu(5,o);break;case 1:if(Qr(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){ie(o,o.return,E)}else{var d=ya(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ie(o,o.return,E)}}u&64&&dT(o),u&512&&yu(o,o.return);break;case 3:if(Qr(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{t_(r,s)}catch(E){ie(o,o.return,E)}}break;case 27:s===null&&u&4&&yT(o);case 26:case 5:Qr(r,o),s===null&&u&4&&pT(o),u&512&&yu(o,o.return);break;case 12:Qr(r,o);break;case 13:Qr(r,o),u&4&&wT(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=gI.bind(null,o),OI(r,o))));break;case 22:if(u=o.memoizedState!==null||pr,!u){s=s!==null&&s.memoizedState!==null||be,d=pr;var g=be;pr=u,(be=s)&&!g?Xr(r,o,(o.subtreeFlags&8772)!==0):Qr(r,o),pr=d,be=g}break;case 30:break;default:Qr(r,o)}}function TT(r){var s=r.alternate;s!==null&&(r.alternate=null,TT(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Lr(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var le=null,En=!1;function gr(r,s,o){for(o=o.child;o!==null;)ET(r,s,o),o=o.sibling}function ET(r,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(pe,o)}catch{}switch(o.tag){case 26:be||Di(o,s),gr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:be||Di(o,s);var u=le,d=En;ns(o.type)&&(le=o.stateNode,En=!1),gr(r,s,o),Ru(o.stateNode),le=u,En=d;break;case 5:be||Di(o,s);case 6:if(u=le,d=En,le=null,gr(r,s,o),le=u,En=d,le!==null)if(En)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(o.stateNode)}catch(g){ie(o,s,g)}else try{le.removeChild(o.stateNode)}catch(g){ie(o,s,g)}break;case 18:le!==null&&(En?(r=le,uE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ou(r)):uE(le,o.stateNode));break;case 4:u=le,d=En,le=o.stateNode.containerInfo,En=!0,gr(r,s,o),le=u,En=d;break;case 0:case 11:case 14:case 15:be||Kr(2,o,s),be||Kr(4,o,s),gr(r,s,o);break;case 1:be||(Di(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&mT(o,s,u)),gr(r,s,o);break;case 21:gr(r,s,o);break;case 22:be=(u=be)||o.memoizedState!==null,gr(r,s,o),be=u;break;default:gr(r,s,o)}}function wT(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ou(r)}catch(o){ie(s,s.return,o)}}function lI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new vT),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new vT),s;default:throw Error(i(435,r.tag))}}function pp(r,s){var o=lI(r);s.forEach(function(u){var d=yI.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function Dn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,E=s,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(ns(b.type)){le=b.stateNode,En=!1;break t}break;case 5:le=b.stateNode,En=!1;break t;case 3:case 4:le=b.stateNode.containerInfo,En=!0;break t}b=b.return}if(le===null)throw Error(i(160));ET(g,E,d),le=null,En=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)bT(s,r),s=s.sibling}var oi=null;function bT(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Dn(s,r),Nn(r),u&4&&(Kr(3,r,r.return),gu(3,r),Kr(5,r,r.return));break;case 1:Dn(s,r),Nn(r),u&512&&(be||o===null||Di(o,o.return)),u&64&&pr&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=oi;if(Dn(s,r),Nn(r),u&512&&(be||o===null||Di(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){t:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ys]||g[Ve]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Je(g,u,o),g[Ve]=r,Ee(g),u=g;break t;case"link":var E=yE("link","href",d).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break e}}g=d.createElement(u),Je(g,u,o),d.head.appendChild(g);break;case"meta":if(E=yE("meta","content",d).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break e}}g=d.createElement(u),Je(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Ve]=r,Ee(g),u=g}r.stateNode=u}else vE(d,r.type,r.stateNode);else r.stateNode=gE(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?vE(d,r.type,r.stateNode):gE(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&hp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Dn(s,r),Nn(r),u&512&&(be||o===null||Di(o,o.return)),o!==null&&u&4&&hp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Dn(s,r),Nn(r),u&512&&(be||o===null||Di(o,o.return)),r.flags&32){d=r.stateNode;try{Fn(d,"")}catch(Q){ie(r,r.return,Q)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,hp(r,d,o!==null?o.memoizedProps:d)),u&1024&&(mp=!0);break;case 6:if(Dn(s,r),Nn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Q){ie(r,r.return,Q)}}break;case 3:if(uf=null,d=oi,oi=of(s.containerInfo),Dn(s,r),oi=d,Nn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ou(s.containerInfo)}catch(Q){ie(r,r.return,Q)}mp&&(mp=!1,ST(r));break;case 4:u=oi,oi=of(r.stateNode.containerInfo),Dn(s,r),Nn(r),oi=u;break;case 12:Dn(s,r),Nn(r);break;case 13:Dn(s,r),Nn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ep=Bn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pp(r,u)));break;case 22:d=r.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,Y=pr,Z=be;if(pr=Y||d,be=Z||N,Dn(s,r),be=Z,pr=Y,Nn(r),u&8192)t:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||N||pr||be||va(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){N=o=s;try{if(g=N.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var et=N.memoizedProps.style,K=et!=null&&et.hasOwnProperty("display")?et.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){ie(N,N.return,Q)}}}else if(s.tag===6){if(o===null){N=s;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(Q){ie(N,N.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,pp(r,o))));break;case 19:Dn(s,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pp(r,u)));break;case 30:break;case 21:break;default:Dn(s,r),Nn(r)}}function Nn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(gT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=fp(r);$h(r,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(Fn(E,""),o.flags&=-33);var b=fp(r);$h(r,b,E);break;case 3:case 4:var N=o.stateNode.containerInfo,Y=fp(r);dp(r,Y,N);break;default:throw Error(i(161))}}catch(Z){ie(r,r.return,Z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ST(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;ST(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Qr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_T(r,s.alternate,s),s=s.sibling}function va(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Kr(4,s,s.return),va(s);break;case 1:Di(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&mT(s,s.return,o),va(s);break;case 27:Ru(s.stateNode);case 26:case 5:Di(s,s.return),va(s);break;case 22:s.memoizedState===null&&va(s);break;case 30:va(s);break;default:va(s)}r=r.sibling}}function Xr(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Xr(d,g,o),gu(4,g);break;case 1:if(Xr(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){ie(u,u.return,Y)}if(u=g,d=u.updateQueue,d!==null){var b=u.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)J0(N[d],b)}catch(Y){ie(u,u.return,Y)}}o&&E&64&&dT(g),yu(g,g.return);break;case 27:yT(g);case 26:case 5:Xr(d,g,o),o&&u===null&&E&4&&pT(g),yu(g,g.return);break;case 12:Xr(d,g,o);break;case 13:Xr(d,g,o),o&&E&4&&wT(d,g);break;case 22:g.memoizedState===null&&Xr(d,g,o),yu(g,g.return);break;case 30:break;default:Xr(d,g,o)}s=s.sibling}}function gp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&nu(o))}function yp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&nu(r))}function Ni(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)AT(r,s,o,u),s=s.sibling}function AT(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ni(r,s,o,u),d&2048&&gu(9,s);break;case 1:Ni(r,s,o,u);break;case 3:Ni(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&nu(r)));break;case 12:if(d&2048){Ni(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){ie(s,s.return,N)}}else Ni(r,s,o,u);break;case 13:Ni(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Ni(r,s,o,u):vu(r,s):g._visibility&2?Ni(r,s,o,u):(g._visibility|=2,Ro(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&gp(E,s);break;case 24:Ni(r,s,o,u),d&2048&&yp(s.alternate,s);break;default:Ni(r,s,o,u)}}function Ro(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,E=s,b=o,N=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Ro(g,E,b,N,d),gu(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?Ro(g,E,b,N,d):vu(g,E):(Z._visibility|=2,Ro(g,E,b,N,d)),d&&Y&2048&&gp(E.alternate,E);break;case 24:Ro(g,E,b,N,d),d&&Y&2048&&yp(E.alternate,E);break;default:Ro(g,E,b,N,d)}s=s.sibling}}function vu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:vu(o,u),d&2048&&gp(u.alternate,u);break;case 24:vu(o,u),d&2048&&yp(u.alternate,u);break;default:vu(o,u)}s=s.sibling}}var _u=8192;function xo(r){if(r.subtreeFlags&_u)for(r=r.child;r!==null;)RT(r),r=r.sibling}function RT(r){switch(r.tag){case 26:xo(r),r.flags&_u&&r.memoizedState!==null&&$I(oi,r.memoizedState,r.memoizedProps);break;case 5:xo(r);break;case 3:case 4:var s=oi;oi=of(r.stateNode.containerInfo),xo(r),oi=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=_u,_u=16777216,xo(r),_u=s):xo(r));break;default:xo(r)}}function xT(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Tu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ge=u,IT(u,r)}xT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)CT(r),r=r.sibling}function CT(r){switch(r.tag){case 0:case 11:case 15:Tu(r),r.flags&2048&&Kr(9,r,r.return);break;case 3:Tu(r);break;case 12:Tu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Kh(r)):Tu(r);break;default:Tu(r)}}function Kh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ge=u,IT(u,r)}xT(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Kr(8,s,s.return),Kh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Kh(s));break;default:Kh(s)}r=r.sibling}}function IT(r,s){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:Kr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:nu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ge=u;else t:for(o=r;Ge!==null;){u=Ge;var d=u.sibling,g=u.return;if(TT(u),u===o){Ge=null;break t}if(d!==null){d.return=g,Ge=d;break t}Ge=g}}}var uI={getCacheForType:function(r){var s=an(Ue),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},cI=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,Mt=null,Bt=0,Xt=0,Mn=null,Wr=!1,Co=!1,vp=!1,yr=0,ye=0,Zr=0,_a=0,_p=0,Wn=0,Io=0,Eu=null,wn=null,Tp=!1,Ep=0,Qh=1/0,Xh=null,Jr=null,Ze=0,ts=null,Do=null,No=0,wp=0,bp=null,DT=null,wu=0,Sp=null;function Pn(){if((Qt&2)!==0&&Bt!==0)return Bt&-Bt;if(W.T!==null){var r=vo;return r!==0?r:Np()}return Vr()}function NT(){Wn===0&&(Wn=(Bt&536870912)===0||Gt?Nl():536870912);var r=Xn.current;return r!==null&&(r.flags|=32),Wn}function On(r,s,o){(r===se&&(Xt===2||Xt===9)||r.cancelPendingCommit!==null)&&(Mo(r,0),es(r,Bt,Wn,!1)),Qi(r,o),((Qt&2)===0||r!==se)&&(r===se&&((Qt&2)===0&&(_a|=o),ye===4&&es(r,Bt,Wn,!1)),Mi(r))}function MT(r,s,o){if((Qt&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Gs(r,s),d=u?dI(r,s):xp(r,s,!0),g=u;do{if(d===0){Co&&!u&&es(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!hI(o)){d=xp(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var b=r;d=Eu;var N=b.current.memoizedState.isDehydrated;if(N&&(Mo(b,E).flags|=256),E=xp(b,E,!1),E!==2){if(vp&&!N){b.errorRecoveryDisabledLanes|=g,_a|=g,d=4;break t}g=wn,wn=d,g!==null&&(wn===null?wn=g:wn.push.apply(wn,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){Mo(r,0),es(r,s,0,!0);break}t:{switch(u=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:es(u,s,Wn,!Wr);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Ep+300-Bn(),10<d)){if(es(u,s,Wn,!Wr),Ka(u,0,!0)!==0)break t;u.timeoutHandle=oE(PT.bind(null,u,o,wn,Xh,Tp,s,Wn,_a,Io,Wr,g,2,-0,0),d);break t}PT(u,o,wn,Xh,Tp,s,Wn,_a,Io,Wr,g,0,-0,0)}}break}while(!0);Mi(r)}function PT(r,s,o,u,d,g,E,b,N,Y,Z,et,K,Q){if(r.timeoutHandle=-1,et=s.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(Iu={stylesheets:null,count:0,unsuspend:YI},RT(s),et=KI(),et!==null)){r.cancelPendingCommit=et(BT.bind(null,r,s,g,o,u,d,E,b,N,Z,1,K,Q)),es(r,g,E,!Y);return}BT(r,s,g,o,u,d,E,b,N)}function hI(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Cn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function es(r,s,o,u){s&=~_p,s&=~_a,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-sn(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&yi(r,o,s)}function Wh(){return(Qt&6)===0?(bu(0),!1):!0}function Ap(){if(Mt!==null){if(Xt===0)var r=Mt.return;else r=Mt,ur=da=null,Fm(r),So=null,du=0,r=Mt;for(;r!==null;)fT(r.alternate,r),r=r.return;Mt=null}}function Mo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,II(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ap(),se=r,Mt=o=ar(r.current,null),Bt=s,Xt=0,Mn=null,Wr=!1,Co=Gs(r,s),vp=!1,Io=Wn=_p=_a=Zr=ye=0,wn=Eu=null,Tp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-sn(u),g=1<<d;s|=r[d],u&=~g}return yr=s,_h(),o}function OT(r,s){It=null,W.H=Uh,s===ru||s===Ch?(s=W0(),Xt=3):s===K0?(s=W0(),Xt=4):Xt=s===Z_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Mn=s,Mt===null&&(ye=1,qh(r,Yn(s,r.current)))}function VT(){var r=W.H;return W.H=Uh,r===null?Uh:r}function kT(){var r=W.A;return W.A=uI,r}function Rp(){ye=4,Wr||(Bt&4194048)!==Bt&&Xn.current!==null||(Co=!0),(Zr&134217727)===0&&(_a&134217727)===0||se===null||es(se,Bt,Wn,!1)}function xp(r,s,o){var u=Qt;Qt|=2;var d=VT(),g=kT();(se!==r||Bt!==s)&&(Xh=null,Mo(r,s)),s=!1;var E=ye;t:do try{if(Xt!==0&&Mt!==null){var b=Mt,N=Mn;switch(Xt){case 8:Ap(),E=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(s=!0);var Y=Xt;if(Xt=0,Mn=null,Po(r,b,N,Y),o&&Co){E=0;break t}break;default:Y=Xt,Xt=0,Mn=null,Po(r,b,N,Y)}}fI(),E=ye;break}catch(Z){OT(r,Z)}while(!0);return s&&r.shellSuspendCounter++,ur=da=null,Qt=u,W.H=d,W.A=g,Mt===null&&(se=null,Bt=0,_h()),E}function fI(){for(;Mt!==null;)LT(Mt)}function dI(r,s){var o=Qt;Qt|=2;var u=VT(),d=kT();se!==r||Bt!==s?(Xh=null,Qh=Bn()+500,Mo(r,s)):Co=Gs(r,s);t:do try{if(Xt!==0&&Mt!==null){s=Mt;var g=Mn;e:switch(Xt){case 1:Xt=0,Mn=null,Po(r,s,g,1);break;case 2:case 9:if(Q0(g)){Xt=0,Mn=null,UT(s);break}s=function(){Xt!==2&&Xt!==9||se!==r||(Xt=7),Mi(r)},g.then(s,s);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Q0(g)?(Xt=0,Mn=null,UT(s)):(Xt=0,Mn=null,Po(r,s,g,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var b=Mt;if(!E||_E(E)){Xt=0,Mn=null;var N=b.sibling;if(N!==null)Mt=N;else{var Y=b.return;Y!==null?(Mt=Y,Zh(Y)):Mt=null}break e}}Xt=0,Mn=null,Po(r,s,g,5);break;case 6:Xt=0,Mn=null,Po(r,s,g,6);break;case 8:Ap(),ye=6;break t;default:throw Error(i(462))}}mI();break}catch(Z){OT(r,Z)}while(!0);return ur=da=null,W.H=u,W.A=d,Qt=o,Mt!==null?0:(se=null,Bt=0,_h(),ye)}function mI(){for(;Mt!==null&&!xl();)LT(Mt)}function LT(r){var s=cT(r.alternate,r,yr);r.memoizedProps=r.pendingProps,s===null?Zh(r):Mt=s}function UT(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=rT(o,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=rT(o,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:Fm(s);default:fT(o,s),s=Mt=j0(s,yr),s=cT(o,s,yr)}r.memoizedProps=r.pendingProps,s===null?Zh(r):Mt=s}function Po(r,s,o,u){ur=da=null,Fm(s),So=null,du=0;var d=s.return;try{if(iI(r,d,s,o,Bt)){ye=1,qh(r,Yn(o,r.current)),Mt=null;return}}catch(g){if(d!==null)throw Mt=d,g;ye=1,qh(r,Yn(o,r.current)),Mt=null;return}s.flags&32768?(Gt||u===1?r=!0:Co||(Bt&536870912)!==0?r=!1:(Wr=r=!0,(u===2||u===9||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),jT(s,r)):Zh(s)}function Zh(r){var s=r;do{if((s.flags&32768)!==0){jT(s,Wr);return}r=s.return;var o=sI(s.alternate,s,yr);if(o!==null){Mt=o;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=r}while(s!==null);ye===0&&(ye=5)}function jT(r,s){do{var o=aI(r.alternate,r);if(o!==null){o.flags&=32767,Mt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Mt=r;return}Mt=r=o}while(r!==null);ye=6,Mt=null}function BT(r,s,o,u,d,g,E,b,N){r.cancelPendingCommit=null;do Jh();while(Ze!==0);if((Qt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=ym,Pl(r,o,g,E,b,N),r===se&&(Mt=se=null,Bt=0),Do=s,ts=r,No=o,wp=g,bp=d,DT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,vI(zs,function(){return GT(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=st.p,st.p=2,E=Qt,Qt|=4;try{oI(r,s,o)}finally{Qt=E,st.p=d,W.T=u}}Ze=1,zT(),FT(),qT()}}function zT(){if(Ze===1){Ze=0;var r=ts,s=Do,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=st.p;st.p=2;var d=Qt;Qt|=4;try{bT(s,r);var g=jp,E=I0(r.containerInfo),b=g.focusedElem,N=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&C0(b.ownerDocument.documentElement,b)){if(N!==null&&fm(b)){var Y=N.start,Z=N.end;if(Z===void 0&&(Z=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(Z,b.value.length);else{var et=b.ownerDocument||document,K=et&&et.defaultView||window;if(K.getSelection){var Q=K.getSelection(),bt=b.textContent.length,_t=Math.min(N.start,bt),ee=N.end===void 0?_t:Math.min(N.end,bt);!Q.extend&&_t>ee&&(E=ee,ee=_t,_t=E);var z=x0(b,_t),U=x0(b,ee);if(z&&U&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var G=et.createRange();G.setStart(z.node,z.offset),Q.removeAllRanges(),_t>ee?(Q.addRange(G),Q.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),Q.addRange(G))}}}}for(et=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<et.length;b++){var tt=et[b];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}ff=!!Up,jp=Up=null}finally{Qt=d,st.p=u,W.T=o}}r.current=s,Ze=2}}function FT(){if(Ze===2){Ze=0;var r=ts,s=Do,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=st.p;st.p=2;var d=Qt;Qt|=4;try{_T(r,s.alternate,s)}finally{Qt=d,st.p=u,W.T=o}}Ze=3}}function qT(){if(Ze===4||Ze===3){Ze=0,Kc();var r=ts,s=Do,o=No,u=DT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ze=5:(Ze=0,Do=ts=null,HT(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Jr=null),Qa(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(pe,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,d=st.p,st.p=2,W.T=null;try{for(var g=r.onRecoverableError,E=0;E<u.length;E++){var b=u[E];g(b.value,{componentStack:b.stack})}}finally{W.T=s,st.p=d}}(No&3)!==0&&Jh(),Mi(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===Sp?wu++:(wu=0,Sp=r):wu=0,bu(0)}}function HT(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,nu(s)))}function Jh(r){return zT(),FT(),qT(),GT()}function GT(){if(Ze!==5)return!1;var r=ts,s=wp;wp=0;var o=Qa(No),u=W.T,d=st.p;try{st.p=32>o?32:o,W.T=null,o=bp,bp=null;var g=ts,E=No;if(Ze=0,Do=ts=null,No=0,(Qt&6)!==0)throw Error(i(331));var b=Qt;if(Qt|=4,CT(g.current),AT(g,g.current,E,o),Qt=b,bu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(pe,g)}catch{}return!0}finally{st.p=d,W.T=u,HT(r,s)}}function YT(r,s,o){s=Yn(o,s),s=np(r.stateNode,s,2),r=Hr(r,s,2),r!==null&&(Qi(r,2),Mi(r))}function ie(r,s,o){if(r.tag===3)YT(r,r,o);else for(;s!==null;){if(s.tag===3){YT(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Jr===null||!Jr.has(u))){r=Yn(o,r),o=X_(2),u=Hr(s,o,2),u!==null&&(W_(o,u,s,r),Qi(u,2),Mi(u));break}}s=s.return}}function Cp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new cI;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(vp=!0,d.add(o),r=pI.bind(null,r,s,o),s.then(r,r))}function pI(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,se===r&&(Bt&o)===o&&(ye===4||ye===3&&(Bt&62914560)===Bt&&300>Bn()-Ep?(Qt&2)===0&&Mo(r,0):_p|=o,Io===Bt&&(Io=0)),Mi(r)}function $T(r,s){s===0&&(s=Ml()),r=mo(r,s),r!==null&&(Qi(r,s),Mi(r))}function gI(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),$T(r,o)}function yI(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),$T(r,o)}function vI(r,s){return js(r,s)}var tf=null,Oo=null,Ip=!1,ef=!1,Dp=!1,Ta=0;function Mi(r){r!==Oo&&r.next===null&&(Oo===null?tf=Oo=r:Oo=Oo.next=r),ef=!0,Ip||(Ip=!0,TI())}function bu(r,s){if(!Dp&&ef){Dp=!0;do for(var o=!1,u=tf;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-sn(42|r)+1)-1,g&=d&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,WT(u,g))}else g=Bt,g=Ka(u,u===se?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Gs(u,g)||(o=!0,WT(u,g));u=u.next}while(o);Dp=!1}}function _I(){KT()}function KT(){ef=Ip=!1;var r=0;Ta!==0&&(CI()&&(r=Ta),Ta=0);for(var s=Bn(),o=null,u=tf;u!==null;){var d=u.next,g=QT(u,s);g===0?(u.next=null,o===null?tf=d:o.next=d,d===null&&(Oo=o)):(o=u,(r!==0||(g&3)!==0)&&(ef=!0)),u=d}bu(r)}function QT(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-sn(g),b=1<<E,N=d[E];N===-1?((b&o)===0||(b&u)!==0)&&(d[E]=Dl(b,s)):N<=s&&(r.expiredLanes|=b),g&=~b}if(s=se,o=Bt,o=Ka(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(Xt===2||Xt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Bs(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Gs(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Bs(u),Qa(o)){case 2:case 8:o=Ya;break;case 32:o=zs;break;case 268435456:o=$a;break;default:o=zs}return u=XT.bind(null,r),o=js(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Bs(u),r.callbackPriority=2,r.callbackNode=null,2}function XT(r,s){if(Ze!==0&&Ze!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Jh()&&r.callbackNode!==o)return null;var u=Bt;return u=Ka(r,r===se?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(MT(r,u,s),QT(r,Bn()),r.callbackNode!=null&&r.callbackNode===o?XT.bind(null,r):null)}function WT(r,s){if(Jh())return null;MT(r,s,!0)}function TI(){DI(function(){(Qt&6)!==0?js(Cl,_I):KT()})}function Np(){return Ta===0&&(Ta=Nl()),Ta}function ZT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:eo(""+r)}function JT(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function EI(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=ZT((d[xe]||null).action),E=u.submitter;E&&(s=(s=E[xe]||null)?ZT(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var b=new no("action","action",null,u,d);r.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ta!==0){var N=E?JT(d,E):new FormData(d);Wm(o,{pending:!0,data:N,method:d.method,action:g},null,N)}}else typeof g=="function"&&(b.preventDefault(),N=E?JT(d,E):new FormData(d),Wm(o,{pending:!0,data:N,method:d.method,action:g},g,N))},currentTarget:d}]})}}for(var Mp=0;Mp<gm.length;Mp++){var Pp=gm[Mp],wI=Pp.toLowerCase(),bI=Pp[0].toUpperCase()+Pp.slice(1);ai(wI,"on"+bI)}ai(M0,"onAnimationEnd"),ai(P0,"onAnimationIteration"),ai(O0,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(BC,"onTransitionRun"),ai(zC,"onTransitionStart"),ai(FC,"onTransitionCancel"),ai(V0,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function tE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var b=u[E],N=b.instance,Y=b.currentTarget;if(b=b.listener,N!==g&&d.isPropagationStopped())break t;g=b,d.currentTarget=Y;try{g(d)}catch(Z){Fh(Z)}d.currentTarget=null,g=N}else for(E=0;E<u.length;E++){if(b=u[E],N=b.instance,Y=b.currentTarget,b=b.listener,N!==g&&d.isPropagationStopped())break t;g=b,d.currentTarget=Y;try{g(d)}catch(Z){Fh(Z)}d.currentTarget=null,g=N}}}}function Pt(r,s){var o=s[Vl];o===void 0&&(o=s[Vl]=new Set);var u=r+"__bubble";o.has(u)||(eE(s,r,2,!1),o.add(u))}function Op(r,s,o){var u=0;s&&(u|=4),eE(o,r,u,s)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Vp(r){if(!r[nf]){r[nf]=!0,kl.forEach(function(o){o!=="selectionchange"&&(SI.has(o)||Op(o,!1,r),Op(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[nf]||(s[nf]=!0,Op("selectionchange",!1,s))}}function eE(r,s,o,u){switch(AE(s)){case 2:var d=WI;break;case 8:d=ZI;break;default:d=Qp}o=d.bind(null,s,o,r),d=void 0,!Hn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function kp(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===d)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;b!==null;){if(E=Xi(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=g=E;continue t}b=b.parentNode}}u=u.return}rh(function(){var Y=g,Z=qn(o),et=[];t:{var K=k0.get(r);if(K!==void 0){var Q=no,bt=r;switch(r){case"keypress":if(bi(o)===0)break t;case"keydown":case"keyup":Q=lo;break;case"focusin":bt="focus",Q=so;break;case"focusout":bt="blur",Q=so;break;case"beforeblur":case"afterblur":Q=so;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=fh;break;case M0:case P0:case O0:Q=ao;break;case V0:Q=mh;break;case"scroll":case"scrollend":Q=sh;break;case"wheel":Q=uo;break;case"copy":case"cut":case"paste":Q=oo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Kl;break;case"toggle":case"beforetoggle":Q=gh}var _t=(s&4)!==0,ee=!_t&&(r==="scroll"||r==="scrollend"),z=_t?K!==null?K+"Capture":null:K;_t=[];for(var U=Y,G;U!==null;){var tt=U;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||z===null||(tt=Js(U,z),tt!=null&&_t.push(Au(U,tt,G))),ee)break;U=U.return}0<_t.length&&(K=new Q(K,bt,null,o,Z),et.push({event:K,listeners:_t}))}}if((s&7)===0){t:{if(K=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",K&&o!==tr&&(bt=o.relatedTarget||o.fromElement)&&(Xi(bt)||bt[zn]))break t;if((Q||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(bt=o.relatedTarget||o.toElement,Q=Y,bt=bt?Xi(bt):null,bt!==null&&(ee=l(bt),_t=bt.tag,bt!==ee||_t!==5&&_t!==27&&_t!==6)&&(bt=null)):(Q=null,bt=Y),Q!==bt)){if(_t=Gn,tt="onMouseLeave",z="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(_t=Kl,tt="onPointerLeave",z="onPointerEnter",U="pointer"),ee=Q==null?K:_i(Q),G=bt==null?K:_i(bt),K=new _t(tt,U+"leave",Q,o,Z),K.target=ee,K.relatedTarget=G,tt=null,Xi(Z)===Y&&(_t=new _t(z,U+"enter",bt,o,Z),_t.target=G,_t.relatedTarget=ee,tt=_t),ee=tt,Q&&bt)e:{for(_t=Q,z=bt,U=0,G=_t;G;G=Vo(G))U++;for(G=0,tt=z;tt;tt=Vo(tt))G++;for(;0<U-G;)_t=Vo(_t),U--;for(;0<G-U;)z=Vo(z),G--;for(;U--;){if(_t===z||z!==null&&_t===z.alternate)break e;_t=Vo(_t),z=Vo(z)}_t=null}else _t=null;Q!==null&&nE(et,K,Q,_t,!1),bt!==null&&ee!==null&&nE(et,ee,bt,_t,!0)}}t:{if(K=Y?_i(Y):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var mt=E0;else if(Le(K))if(w0)mt=LC;else{mt=VC;var Nt=OC}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&zl(Y.elementType)&&(mt=E0):mt=kC;if(mt&&(mt=mt(r,Y))){sr(et,mt,o,Z);break t}Nt&&Nt(r,K,Y),r==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&jr(K,"number",K.value)}switch(Nt=Y?_i(Y):window,r){case"focusin":(Le(Nt)||Nt.contentEditable==="true")&&(co=Nt,dm=Y,Wl=null);break;case"focusout":Wl=dm=co=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,D0(et,o,Z);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":D0(et,o,Z)}var pt;if(Ri)t:{switch(r){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ut?X(r,o)&&(Tt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Tt="onCompositionStart");Tt&&(T&&o.locale!=="ko"&&(Ut||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ut&&(pt=ql()):(wi=Z,Br="value"in wi?wi.value:wi.textContent,Ut=!0)),Nt=rf(Y,Tt),0<Nt.length&&(Tt=new Yl(Tt,r,null,o,Z),et.push({event:Tt,listeners:Nt}),pt?Tt.data=pt:(pt=ut(o),pt!==null&&(Tt.data=pt)))),(pt=v?ke(r,o):jt(r,o))&&(Tt=rf(Y,"onBeforeInput"),0<Tt.length&&(Nt=new Yl("onBeforeInput","beforeinput",null,o,Z),et.push({event:Nt,listeners:Tt}),Nt.data=pt)),EI(et,r,Y,o,Z)}tE(et,s)})}function Au(r,s,o){return{instance:r,listener:s,currentTarget:o}}function rf(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Js(r,o),d!=null&&u.unshift(Au(r,d,g)),d=Js(r,s),d!=null&&u.push(Au(r,d,g))),r.tag===3)return u;r=r.return}return[]}function Vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function nE(r,s,o,u,d){for(var g=s._reactName,E=[];o!==null&&o!==u;){var b=o,N=b.alternate,Y=b.stateNode;if(b=b.tag,N!==null&&N===u)break;b!==5&&b!==26&&b!==27||Y===null||(N=Y,d?(Y=Js(o,g),Y!=null&&E.unshift(Au(o,Y,N))):d||(Y=Js(o,g),Y!=null&&E.push(Au(o,Y,N)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var AI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function iE(r){return(typeof r=="string"?r:""+r).replace(AI,`
`).replace(RI,"")}function rE(r,s){return s=iE(s),iE(r)===s}function sf(){}function te(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Fn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Fn(r,""+u);break;case"className":Ti(r,"class",u);break;case"tabIndex":Ti(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(r,o,u);break;case"style":Bl(r,u,g);break;case"data":if(s!=="object"){Ti(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=eo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&te(r,s,"name",d.name,d,null),te(r,s,"formEncType",d.formEncType,d,null),te(r,s,"formMethod",d.formMethod,d,null),te(r,s,"formTarget",d.formTarget,d,null)):(te(r,s,"encType",d.encType,d,null),te(r,s,"method",d.method,d,null),te(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=eo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=sf);break;case"onScroll":u!=null&&Pt("scroll",r);break;case"onScrollEnd":u!=null&&Pt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=eo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Pt("beforetoggle",r),Pt("toggle",r),Ur(r,"popover",u);break;case"xlinkActuate":Qe(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qe(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qe(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qe(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qe(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qe(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qe(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qe(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qe(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ur(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=am.get(o)||o,Ur(r,o,u))}}function Lp(r,s,o,u,d,g){switch(o){case"style":Bl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Fn(r,u):(typeof u=="number"||typeof u=="bigint")&&Fn(r,""+u);break;case"onScroll":u!=null&&Pt("scroll",r);break;case"onScrollEnd":u!=null&&Pt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xa.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[xe]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break t}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Ur(r,o,u)}}}function Je(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",r),Pt("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:te(r,s,g,E,o,null)}}d&&te(r,s,"srcSet",o.srcSet,o,null),u&&te(r,s,"src",o.src,o,null);return;case"input":Pt("invalid",r);var b=g=E=d=null,N=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":E=Z;break;case"checked":N=Z;break;case"defaultChecked":Y=Z;break;case"value":g=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:te(r,s,u,Z,o,null)}}Xs(r,g,b,N,Y,E,d,!1),to(r);return;case"select":Pt("invalid",r),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(b=o[d],b!=null))switch(d){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:te(r,s,d,b,o,null)}s=g,o=E,r.multiple=!!u,s!=null?Ji(r,!!u,s,!1):o!=null&&Ji(r,!!u,o,!0);return;case"textarea":Pt("invalid",r),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":d=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:te(r,s,E,b,o,null)}Ws(r,u,d,g),to(r);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(r,s,N,u,o,null)}return;case"dialog":Pt("beforetoggle",r),Pt("toggle",r),Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":Pt("load",r);break;case"video":case"audio":for(u=0;u<Su.length;u++)Pt(Su[u],r);break;case"image":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"embed":case"source":case"link":Pt("error",r),Pt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:te(r,s,Y,u,o,null)}return;default:if(zl(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Lp(r,s,Z,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&te(r,s,b,u,o,null))}function xI(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,b=null,N=null,Y=null,Z=null;for(Q in o){var et=o[Q];if(o.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=et;default:u.hasOwnProperty(Q)||te(r,s,Q,null,u,et)}}for(var K in u){var Q=u[K];if(et=o[K],u.hasOwnProperty(K)&&(Q!=null||et!=null))switch(K){case"type":g=Q;break;case"name":d=Q;break;case"checked":Y=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Q!==et&&te(r,s,K,Q,u,et)}}xn(r,E,b,N,Y,Z,g,d);return;case"select":Q=E=b=K=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":Q=N;default:u.hasOwnProperty(g)||te(r,s,g,null,u,N)}for(d in u)if(g=u[d],N=o[d],u.hasOwnProperty(d)&&(g!=null||N!=null))switch(d){case"value":K=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==N&&te(r,s,d,g,u,N)}s=b,o=E,u=Q,K!=null?Ji(r,!!o,K,!1):!!u!=!!o&&(s!=null?Ji(r,!!o,s,!0):Ji(r,!!o,o?[]:"",!1));return;case"textarea":Q=K=null;for(b in o)if(d=o[b],o.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:te(r,s,b,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":K=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&te(r,s,E,d,u,g)}Zt(r,K,Q);return;case"option":for(var bt in o)if(K=o[bt],o.hasOwnProperty(bt)&&K!=null&&!u.hasOwnProperty(bt))switch(bt){case"selected":r.selected=!1;break;default:te(r,s,bt,null,u,K)}for(N in u)if(K=u[N],Q=o[N],u.hasOwnProperty(N)&&K!==Q&&(K!=null||Q!=null))switch(N){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:te(r,s,N,K,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)K=o[_t],o.hasOwnProperty(_t)&&K!=null&&!u.hasOwnProperty(_t)&&te(r,s,_t,null,u,K);for(Y in u)if(K=u[Y],Q=o[Y],u.hasOwnProperty(Y)&&K!==Q&&(K!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:te(r,s,Y,K,u,Q)}return;default:if(zl(s)){for(var ee in o)K=o[ee],o.hasOwnProperty(ee)&&K!==void 0&&!u.hasOwnProperty(ee)&&Lp(r,s,ee,void 0,u,K);for(Z in u)K=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||K===Q||K===void 0&&Q===void 0||Lp(r,s,Z,K,u,Q);return}}for(var z in o)K=o[z],o.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&te(r,s,z,null,u,K);for(et in u)K=u[et],Q=o[et],!u.hasOwnProperty(et)||K===Q||K==null&&Q==null||te(r,s,et,K,u,Q)}var Up=null,jp=null;function af(r){return r.nodeType===9?r:r.ownerDocument}function sE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Bp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zp=null;function CI(){var r=window.event;return r&&r.type==="popstate"?r===zp?!1:(zp=r,!0):(zp=null,!1)}var oE=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,DI=typeof queueMicrotask=="function"?queueMicrotask:typeof lE<"u"?function(r){return lE.resolve(null).then(r).catch(NI)}:oE;function NI(r){setTimeout(function(){throw r})}function ns(r){return r==="head"}function uE(r,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&Ru(E.documentElement),o&2&&Ru(E.body),o&4)for(o=E.head,Ru(o),E=o.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[Ys]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(d===0){r.removeChild(g),Ou(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Ou(s)}function Fp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fp(o),Lr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function MI(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ys])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=li(r.nextSibling),r===null)break}return null}function PI(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=li(r.nextSibling),r===null))return null;return r}function qp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function OI(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function li(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Hp=null;function cE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function hE(r,s,o){switch(s=af(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ru(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Lr(r)}var Zn=new Map,fE=new Set;function of(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var vr=st.d;st.d={f:VI,r:kI,D:LI,C:UI,L:jI,m:BI,X:FI,S:zI,M:qI};function VI(){var r=vr.f(),s=Wh();return r||s}function kI(r){var s=vi(r);s!==null&&s.tag===5&&s.type==="form"?M_(s):vr.r(r)}var ko=typeof document>"u"?null:document;function dE(r,s,o){var u=ko;if(u&&typeof s=="string"&&s){var d=Ce(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),fE.has(d)||(fE.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Je(s,"link",r),Ee(s),u.head.appendChild(s)))}}function LI(r){vr.D(r),dE("dns-prefetch",r,null)}function UI(r,s){vr.C(r,s),dE("preconnect",r,s)}function jI(r,s,o){vr.L(r,s,o);var u=ko;if(u&&r&&s){var d='link[rel="preload"][as="'+Ce(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ce(o.imageSizes)+'"]')):d+='[href="'+Ce(r)+'"]';var g=d;switch(s){case"style":g=Lo(r);break;case"script":g=Uo(r)}Zn.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Zn.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(xu(g))||s==="script"&&u.querySelector(Cu(g))||(s=u.createElement("link"),Je(s,"link",r),Ee(s),u.head.appendChild(s)))}}function BI(r,s){vr.m(r,s);var o=ko;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ce(u)+'"][href="'+Ce(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Uo(r)}if(!Zn.has(g)&&(r=y({rel:"modulepreload",href:r},s),Zn.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Cu(g)))return}u=o.createElement("link"),Je(u,"link",r),Ee(u),o.head.appendChild(u)}}}function zI(r,s,o){vr.S(r,s,o);var u=ko;if(u&&r){var d=dn(u).hoistableStyles,g=Lo(r);s=s||"default";var E=d.get(g);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(xu(g)))b.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Zn.get(g))&&Gp(r,o);var N=E=u.createElement("link");Ee(N),Je(N,"link",r),N._p=new Promise(function(Y,Z){N.onload=Y,N.onerror=Z}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,lf(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:b},d.set(g,E)}}}function FI(r,s){vr.X(r,s);var o=ko;if(o&&r){var u=dn(o).hoistableScripts,d=Uo(r),g=u.get(d);g||(g=o.querySelector(Cu(d)),g||(r=y({src:r,async:!0},s),(s=Zn.get(d))&&Yp(r,s),g=o.createElement("script"),Ee(g),Je(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function qI(r,s){vr.M(r,s);var o=ko;if(o&&r){var u=dn(o).hoistableScripts,d=Uo(r),g=u.get(d);g||(g=o.querySelector(Cu(d)),g||(r=y({src:r,async:!0,type:"module"},s),(s=Zn.get(d))&&Yp(r,s),g=o.createElement("script"),Ee(g),Je(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function mE(r,s,o,u){var d=(d=At.current)?of(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Lo(o.href),o=dn(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Lo(o.href);var g=dn(d).hoistableStyles,E=g.get(r);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=d.querySelector(xu(r)))&&!g._p&&(E.instance=g,E.state.loading=5),Zn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(r,o),g||HI(d,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Uo(o),o=dn(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Lo(r){return'href="'+Ce(r)+'"'}function xu(r){return'link[rel="stylesheet"]['+r+"]"}function pE(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function HI(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Je(s,"link",o),Ee(s),r.head.appendChild(s))}function Uo(r){return'[src="'+Ce(r)+'"]'}function Cu(r){return"script[async]"+r}function gE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Ce(o.href)+'"]');if(u)return s.instance=u,Ee(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ee(u),Je(u,"style",d),lf(u,o.precedence,r),s.instance=u;case"stylesheet":d=Lo(o.href);var g=r.querySelector(xu(d));if(g)return s.state.loading|=4,s.instance=g,Ee(g),g;u=pE(o),(d=Zn.get(d))&&Gp(u,d),g=(r.ownerDocument||r).createElement("link"),Ee(g);var E=g;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),Je(g,"link",u),s.state.loading|=4,lf(g,o.precedence,r),s.instance=g;case"script":return g=Uo(o.src),(d=r.querySelector(Cu(g)))?(s.instance=d,Ee(d),d):(u=o,(d=Zn.get(g))&&(u=y({},o),Yp(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),Ee(d),Je(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,lf(u,o.precedence,r));return s.instance}function lf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===s)g=b;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Gp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Yp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var uf=null;function yE(r,s,o){if(uf===null){var u=new Map,d=uf=new Map;d.set(o,u)}else d=uf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Ys]||g[Ve]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=r+E;var b=u.get(E);b?b.push(g):u.set(E,[g])}}return u}function vE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function GI(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _E(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Iu=null;function YI(){}function $I(r,s,o){if(Iu===null)throw Error(i(475));var u=Iu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Lo(o.href),g=r.querySelector(xu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=cf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,Ee(g);return}g=r.ownerDocument||r,o=pE(o),(d=Zn.get(d))&&Gp(o,d),g=g.createElement("link"),Ee(g);var E=g;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),Je(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=cf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function KI(){if(Iu===null)throw Error(i(475));var r=Iu;return r.stylesheets&&r.count===0&&$p(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&$p(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function cf(){if(this.count--,this.count===0){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var hf=null;function $p(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,hf=new Map,s.forEach(QI,r),hf=null,cf.call(r))}function QI(r,s){if(!(s.state.loading&4)){var o=hf.get(r);if(o)var u=o.get(null);else{o=new Map,hf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=s.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=cf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Du={$$typeof:$,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function XI(r,s,o,u,d,g,E,b){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function TE(r,s,o,u,d,g,E,b,N,Y,Z,et){return r=new XI(r,s,o,E,b,N,Y,et),s=1,g===!0&&(s|=24),g=In(3,null,null,s),r.current=g,g.stateNode=r,s=Cm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Mm(g),r}function EE(r){return r?(r=po,r):po}function wE(r,s,o,u,d,g){d=EE(d),u.context===null?u.context=d:u.pendingContext=d,u=qr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Hr(r,u,s),o!==null&&(On(o,r,s),au(o,r,s))}function bE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Kp(r,s){bE(r,s),(r=r.alternate)&&bE(r,s)}function SE(r){if(r.tag===13){var s=mo(r,67108864);s!==null&&On(s,r,67108864),Kp(r,67108864)}}var ff=!0;function WI(r,s,o,u){var d=W.T;W.T=null;var g=st.p;try{st.p=2,Qp(r,s,o,u)}finally{st.p=g,W.T=d}}function ZI(r,s,o,u){var d=W.T;W.T=null;var g=st.p;try{st.p=8,Qp(r,s,o,u)}finally{st.p=g,W.T=d}}function Qp(r,s,o,u){if(ff){var d=Xp(u);if(d===null)kp(r,s,u,df,o),RE(r,u);else if(tD(d,r,s,o,u))u.stopPropagation();else if(RE(r,u),s&4&&-1<JI.indexOf(r)){for(;d!==null;){var g=vi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ii(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-sn(E);b.entanglements[1]|=N,E&=~N}Mi(g),(Qt&6)===0&&(Qh=Bn()+500,bu(0))}}break;case 13:b=mo(g,2),b!==null&&On(b,g,2),Wh(),Kp(g,2)}if(g=Xp(u),g===null&&kp(r,s,u,df,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else kp(r,s,u,null,o)}}function Xp(r){return r=qn(r),Wp(r)}var df=null;function Wp(r){if(df=null,r=Xi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return df=r,null}function AE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tm()){case Cl:return 2;case Ya:return 8;case zs:case em:return 32;case $a:return 268435456;default:return 32}default:return 32}}var Zp=!1,is=null,rs=null,ss=null,Nu=new Map,Mu=new Map,as=[],JI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RE(r,s){switch(r){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Nu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(s.pointerId)}}function Pu(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=vi(s),s!==null&&SE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function tD(r,s,o,u,d){switch(s){case"focusin":return is=Pu(is,r,s,o,u,d),!0;case"dragenter":return rs=Pu(rs,r,s,o,u,d),!0;case"mouseover":return ss=Pu(ss,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Nu.set(g,Pu(Nu.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Mu.set(g,Pu(Mu.get(g)||null,r,s,o,u,d)),!0}return!1}function xE(r){var s=Xi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Wc(r.priority,function(){if(o.tag===13){var u=Pn();u=Or(u);var d=mo(o,u);d!==null&&On(d,o,u),Kp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function mf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Xp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);tr=u,o.target.dispatchEvent(u),tr=null}else return s=vi(o),s!==null&&SE(s),r.blockedOn=o,!1;s.shift()}return!0}function CE(r,s,o){mf(r)&&o.delete(s)}function eD(){Zp=!1,is!==null&&mf(is)&&(is=null),rs!==null&&mf(rs)&&(rs=null),ss!==null&&mf(ss)&&(ss=null),Nu.forEach(CE),Mu.forEach(CE)}function pf(r,s){r.blockedOn===s&&(r.blockedOn=null,Zp||(Zp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eD)))}var gf=null;function IE(r){gf!==r&&(gf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gf===r&&(gf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Wp(u||o)===null)continue;break}var g=vi(o);g!==null&&(r.splice(s,3),s-=3,Wm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Ou(r){function s(N){return pf(N,r)}is!==null&&pf(is,r),rs!==null&&pf(rs,r),ss!==null&&pf(ss,r),Nu.forEach(s),Mu.forEach(s);for(var o=0;o<as.length;o++){var u=as[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<as.length&&(o=as[0],o.blockedOn===null);)xE(o),o.blockedOn===null&&as.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[xe]||null;if(typeof g=="function")E||IE(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[xe]||null)b=E.formAction;else if(Wp(d)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),IE(o)}}}function Jp(r){this._internalRoot=r}yf.prototype.render=Jp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Pn();wE(o,u,r,s,null,null)},yf.prototype.unmount=Jp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;wE(r.current,2,null,r,null,null),Wh(),s[zn]=null}};function yf(r){this._internalRoot=r}yf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Vr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<as.length&&s!==0&&s<as[o].priority;o++);as.splice(o,0,r),o===0&&xE(r)}};var DE=t.version;if(DE!=="19.1.1")throw Error(i(527,DE,"19.1.1"));st.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var nD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{pe=vf.inject(nD),Kt=vf}catch{}}return ku.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=Y_,g=$_,E=K_,b=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=TE(r,1,!1,null,null,o,u,d,g,E,b,null),r[zn]=s.current,Vp(r),new Jp(s)},ku.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=Y_,E=$_,b=K_,N=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=TE(r,1,!0,s,o??null,u,d,g,E,b,N,Y),s.context=EE(null),o=s.current,u=Pn(),u=Or(u),d=qr(u),d.callback=null,Hr(o,d,u),o=u,s.current.lanes=o,Qi(s,o),Mi(s),r[zn]=s.current,Vp(r),new yf(s)},ku.version="19.1.1",ku}var BE;function fD(){if(BE)return ng.exports;BE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ng.exports=hD(),ng.exports}var dD=fD();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zE="popstate";function mD(e={}){function t(i,a){let{pathname:l,search:c,hash:f}=i.location;return Bg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:ac(a)}return gD(t,n,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pD(){return Math.random().toString(36).substring(2,10)}function FE(e,t){return{usr:e.state,key:e.key,idx:t}}function Bg(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ml(t):t,state:n,key:t&&t.key||i||pD()}}function ac({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ml(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function gD(e,t,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let k=y(),H=k==null?null:k-p;p=k,m&&m({action:f,location:j.location,delta:H})}function w(k,H){f="PUSH";let F=Bg(j.location,k,H);p=y()+1;let $=FE(F,p),lt=j.createHref(F);try{c.pushState($,"",lt)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;a.location.assign(lt)}l&&m&&m({action:f,location:j.location,delta:1})}function A(k,H){f="REPLACE";let F=Bg(j.location,k,H);p=y();let $=FE(F,p),lt=j.createHref(F);c.replaceState($,"",lt),l&&m&&m({action:f,location:j.location,delta:0})}function I(k){return yD(k)}let j={get action(){return f},get location(){return e(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(zE,_),m=k,()=>{a.removeEventListener(zE,_),m=null}},createHref(k){return t(a,k)},createURL:I,encodeLocation(k){let H=I(k);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:A,go(k){return c.go(k)}};return j}function yD(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),de(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:ac(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ZS(e,t,n="/"){return vD(e,t,n,!1)}function vD(e,t,n,i){let a=typeof t=="string"?ml(t):t,l=Ar(a.pathname||"/",n);if(l==null)return null;let c=JS(e);_D(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=DD(l);f=CD(c[m],p,i)}return f}function JS(e,t=[],n=[],i="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&m)return;de(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=wr([i,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(de(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),JS(c.children,t,w,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:RD(_,c.index),routesMeta:w})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of tA(c.path))l(c,f,!0,m)}),t}function tA(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=tA(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function _D(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xD(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var TD=/^:[\w-]+$/,ED=3,wD=2,bD=1,SD=10,AD=-2,qE=e=>e==="*";function RD(e,t){let n=e.split("/"),i=n.length;return n.some(qE)&&(i+=AD),t&&(i+=wD),n.filter(a=>!qE(a)).reduce((a,l)=>a+(TD.test(l)?ED:l===""?bD:SD),i)}function xD(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function CD(e,t,n=!1){let{routesMeta:i}=e,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],p=f===i.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Kf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=Kf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:wr([l,_.pathname]),pathnameBase:OD(wr([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=wr([l,_.pathnameBase]))}return c}function Kf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=ID(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},w)=>{if(y==="*"){let I=f[w]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const A=f[w];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function ID(e,t=!1,n=!0){qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function DD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ar(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function ND(e,t="/"){let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?ml(e):e;return{pathname:n?n.startsWith("/")?n:MD(n,t):t,search:VD(i),hash:kD(a)}}function MD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ag(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function eA(e){let t=PD(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function nA(e,t,n,i=!1){let a;typeof e=="string"?a=ml(e):(a={...e},de(!a.pathname||!a.pathname.includes("?"),ag("?","pathname","search",a)),de(!a.pathname||!a.pathname.includes("#"),ag("#","pathname","hash",a)),de(!a.search||!a.search.includes("#"),ag("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}f=_>=0?t[_]:"/"}let m=ND(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var wr=e=>e.join("/").replace(/\/\/+/g,"/"),OD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var iA=["POST","PUT","PATCH","DELETE"];new Set(iA);var UD=["GET",...iA];new Set(UD);var pl=O.createContext(null);pl.displayName="DataRouter";var bd=O.createContext(null);bd.displayName="DataRouterState";O.createContext(!1);var rA=O.createContext({isTransitioning:!1});rA.displayName="ViewTransition";var jD=O.createContext(new Map);jD.displayName="Fetchers";var BD=O.createContext(null);BD.displayName="Await";var Gi=O.createContext(null);Gi.displayName="Navigation";var Rc=O.createContext(null);Rc.displayName="Location";var Yi=O.createContext({outlet:null,matches:[],isDataRoute:!1});Yi.displayName="Route";var Ly=O.createContext(null);Ly.displayName="RouteError";function zD(e,{relative:t}={}){de(xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(Gi),{hash:a,pathname:l,search:c}=Cc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:wr([n,l])),i.createHref({pathname:f,search:c,hash:a})}function xc(){return O.useContext(Rc)!=null}function Ba(){return de(xc(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Rc).location}var sA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aA(e){O.useContext(Gi).static||O.useLayoutEffect(e)}function za(){let{isDataRoute:e}=O.useContext(Yi);return e?t2():FD()}function FD(){de(xc(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(pl),{basename:t,navigator:n}=O.useContext(Gi),{matches:i}=O.useContext(Yi),{pathname:a}=Ba(),l=JSON.stringify(eA(i)),c=O.useRef(!1);return aA(()=>{c.current=!0}),O.useCallback((m,p={})=>{if(qi(c.current,sA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=nA(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:wr([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}O.createContext(null);function oA(){let{matches:e}=O.useContext(Yi),t=e[e.length-1];return t?t.params:{}}function Cc(e,{relative:t}={}){let{matches:n}=O.useContext(Yi),{pathname:i}=Ba(),a=JSON.stringify(eA(n));return O.useMemo(()=>nA(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function qD(e,t){return lA(e,t)}function lA(e,t,n,i,a){de(xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Gi),{matches:c}=O.useContext(Yi),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let F=_&&_.path||"";uA(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Ba(),A;if(t){let F=typeof t=="string"?ml(t):t;de(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),A=F}else A=w;let I=A.pathname||"/",j=I;if(y!=="/"){let F=y.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=ZS(e,{pathname:j});qi(_||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),qi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=KD(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:wr([y,l.encodeLocation?l.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:wr([y,l.encodeLocation?l.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),c,n,i,a);return t&&H?O.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},H):H}function HD(){let e=JD(),t=LD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,c)}var GD=O.createElement(HD,null),YD=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?O.createElement(Yi.Provider,{value:this.props.routeContext},O.createElement(Ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $D({routeContext:e,match:t,children:n}){let i=O.useContext(pl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Yi.Provider,{value:e},n)}function KD(e,t=[],n=null,i=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);de(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:w}=n,A=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,_)=>{let w,A=!1,I=null,j=null;n&&(w=c&&y.route.id?c[y.route.id]:void 0,I=y.route.errorElement||GD,f&&(m<0&&_===0?(uA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,j=null):m===_&&(A=!0,j=y.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,_+1)),H=()=>{let F;return w?F=I:A?F=j:y.route.Component?F=O.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=p,O.createElement($D,{match:y,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:F})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?O.createElement(YD,{location:n.location,revalidation:n.revalidation,component:I,error:w,children:H(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):H()},null)}function Uy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QD(e){let t=O.useContext(pl);return de(t,Uy(e)),t}function XD(e){let t=O.useContext(bd);return de(t,Uy(e)),t}function WD(e){let t=O.useContext(Yi);return de(t,Uy(e)),t}function jy(e){let t=WD(e),n=t.matches[t.matches.length-1];return de(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ZD(){return jy("useRouteId")}function JD(){let e=O.useContext(Ly),t=XD("useRouteError"),n=jy("useRouteError");return e!==void 0?e:t.errors?.[n]}function t2(){let{router:e}=QD("useNavigate"),t=jy("useNavigate"),n=O.useRef(!1);return aA(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{qi(n.current,sA),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var HE={};function uA(e,t,n){!t&&!HE[e]&&(HE[e]=!0,qi(!1,n))}O.memo(e2);function e2({routes:e,future:t,state:n,unstable_onError:i}){return lA(e,void 0,n,i,t)}function cs(e){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n2({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){de(!xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=ml(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:w="default"}=n,A=O.useMemo(()=>{let I=Ar(m,c);return I==null?null:{location:{pathname:I,search:p,hash:y,state:_,key:w},navigationType:i}},[c,m,p,y,_,w,i]);return qi(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:O.createElement(Gi.Provider,{value:f},O.createElement(Rc.Provider,{children:t,value:A}))}function i2({children:e,location:t}){return qD(zg(e),t)}function zg(e,t=[]){let n=[];return O.Children.forEach(e,(i,a)=>{if(!O.isValidElement(i))return;let l=[...t,a];if(i.type===O.Fragment){n.push.apply(n,zg(i.props.children,l));return}de(i.type===cs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=zg(i.props.children,l)),n.push(c)}),n}var Nf="get",Mf="application/x-www-form-urlencoded";function Sd(e){return e!=null&&typeof e.tagName=="string"}function r2(e){return Sd(e)&&e.tagName.toLowerCase()==="button"}function s2(e){return Sd(e)&&e.tagName.toLowerCase()==="form"}function a2(e){return Sd(e)&&e.tagName.toLowerCase()==="input"}function o2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l2(e,t){return e.button===0&&(!t||t==="_self")&&!o2(e)}var _f=null;function u2(){if(_f===null)try{new FormData(document.createElement("form"),0),_f=!1}catch{_f=!0}return _f}var c2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function og(e){return e!=null&&!c2.has(e)?(qi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mf}"`),null):e}function h2(e,t){let n,i,a,l,c;if(s2(e)){let f=e.getAttribute("action");i=f?Ar(f,t):null,n=e.getAttribute("method")||Nf,a=og(e.getAttribute("enctype"))||Mf,l=new FormData(e)}else if(r2(e)||a2(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(i=m?Ar(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||Nf,a=og(e.getAttribute("formenctype"))||og(f.getAttribute("enctype"))||Mf,l=new FormData(f,e),!u2()){let{name:p,type:y,value:_}=e;if(y==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,_)}}else{if(Sd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nf,i=null,a=Mf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function By(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function f2(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Ar(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function d2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p2(e,t,n){let i=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await d2(l,n);return c.links?c.links():[]}return[]}));return _2(i.flat(1).filter(m2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function GE(e,t,n,i,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function g2(e,t,{includeHydrateFallback:n}={}){return y2(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function y2(e){return[...new Set(e)]}function v2(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function _2(e,t){let n=new Set;return new Set(t),e.reduce((i,a)=>{let l=JSON.stringify(v2(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function cA(){let e=O.useContext(pl);return By(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function T2(){let e=O.useContext(bd);return By(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var zy=O.createContext(void 0);zy.displayName="FrameworkContext";function hA(){let e=O.useContext(zy);return By(e,"You must render this element inside a <HydratedRouter> element"),e}function E2(e,t){let n=O.useContext(zy),[i,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,w=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=H=>{H.forEach(F=>{c(F.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[e]),O.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let A=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,w,{}]:[l,w,{onFocus:Lu(f,A),onBlur:Lu(m,I),onMouseEnter:Lu(p,A),onMouseLeave:Lu(y,I),onTouchStart:Lu(_,A)}]:[!1,w,{}]}function Lu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function w2({page:e,...t}){let{router:n}=cA(),i=O.useMemo(()=>ZS(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?O.createElement(S2,{page:e,matches:i,...t}):null}function b2(e){let{manifest:t,routeModules:n}=hA(),[i,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return p2(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),i}function S2({page:e,matches:t,...n}){let i=Ba(),{manifest:a,routeModules:l}=hA(),{basename:c}=cA(),{loaderData:f,matches:m}=T2(),p=O.useMemo(()=>GE(e,t,m,a,i,"data"),[e,t,m,a,i]),y=O.useMemo(()=>GE(e,t,m,a,i,"assets"),[e,t,m,a,i]),_=O.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let I=new Set,j=!1;if(t.forEach(H=>{let F=a.routes[H.route.id];!F||!F.hasLoader||(!p.some($=>$.route.id===H.route.id)&&H.route.id in f&&l[H.route.id]?.shouldRevalidate||F.hasClientLoader?j=!0:I.add(H.route.id))}),I.size===0)return[];let k=f2(e,c,"data");return j&&I.size>0&&k.searchParams.set("_routes",t.filter(H=>I.has(H.route.id)).map(H=>H.route.id).join(",")),[k.pathname+k.search]},[c,f,i,a,p,t,e,l]),w=O.useMemo(()=>g2(y,a),[y,a]),A=b2(y);return O.createElement(O.Fragment,null,_.map(I=>O.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),w.map(I=>O.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),A.map(({key:I,link:j})=>O.createElement("link",{key:I,nonce:n.nonce,...j})))}function A2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fA&&(window.__reactRouterVersion="7.8.2")}catch{}function R2({basename:e,children:t,window:n}){let i=O.useRef();i.current==null&&(i.current=mD({window:n,v5Compat:!0}));let a=i.current,[l,c]=O.useState({action:a.action,location:a.location}),f=O.useCallback(m=>{O.startTransition(()=>c(m))},[c]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(n2,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var dA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zo=O.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...w},A){let{basename:I}=O.useContext(Gi),j=typeof p=="string"&&dA.test(p),k,H=!1;if(typeof p=="string"&&j&&(k=p,fA))try{let x=new URL(window.location.href),M=p.startsWith("//")?new URL(x.protocol+p):new URL(p),L=Ar(M.pathname,I);M.origin===x.origin&&L!=null?p=L+M.search+M.hash:H=!0}catch{qi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=zD(p,{relative:a}),[$,lt,it]=E2(i,w),at=D2(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function D(x){t&&t(x),x.defaultPrevented||at(x)}let R=O.createElement("a",{...w,...it,href:k||F,onClick:H||l?t:D,ref:A2(A,lt),target:m,"data-discover":!j&&n==="render"?"true":void 0});return $&&!j?O.createElement(O.Fragment,null,R,O.createElement(w2,{page:F})):R});Zo.displayName="Link";var x2=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=Cc(c,{relative:p.relative}),w=Ba(),A=O.useContext(bd),{navigator:I,basename:j}=O.useContext(Gi),k=A!=null&&V2(_)&&f===!0,H=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,F=w.pathname,$=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(F=F.toLowerCase(),$=$?$.toLowerCase():null,H=H.toLowerCase()),$&&j&&($=Ar($,j)||$);const lt=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let it=F===H||!a&&F.startsWith(H)&&F.charAt(lt)==="/",at=$!=null&&($===H||!a&&$.startsWith(H)&&$.charAt(H.length)==="/"),D={isActive:it,isPending:at,isTransitioning:k},R=it?t:void 0,x;typeof i=="function"?x=i(D):x=[i,it?"active":null,at?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(D):l;return O.createElement(Zo,{...p,"aria-current":R,className:x,ref:y,style:M,to:c,viewTransition:f},typeof m=="function"?m(D):m)});x2.displayName="NavLink";var C2=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Nf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...w},A)=>{let I=P2(),j=O2(f,{relative:p}),k=c.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&dA.test(f),F=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let lt=$.nativeEvent.submitter,it=lt?.getAttribute("formmethod")||c;I(lt||$.currentTarget,{fetcherKey:t,method:it,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:A,method:k,action:j,onSubmit:i?m:F,...w,"data-discover":!H&&e==="render"?"true":void 0})});C2.displayName="Form";function I2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mA(e){let t=O.useContext(pl);return de(t,I2(e)),t}function D2(e,{target:t,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=za(),m=Ba(),p=Cc(e,{relative:l});return O.useCallback(y=>{if(l2(y,t)){y.preventDefault();let _=n!==void 0?n:ac(m)===ac(p);f(e,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,i,t,e,a,l,c])}var N2=0,M2=()=>`__${String(++N2)}__`;function P2(){let{router:e}=mA("useSubmit"),{basename:t}=O.useContext(Gi),n=ZD();return O.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=h2(i,t);if(a.navigate===!1){let y=a.fetcherKey||M2();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function O2(e,{relative:t}={}){let{basename:n}=O.useContext(Gi),i=O.useContext(Yi);de(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Cc(e||".",{relative:t})},c=Ba();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:wr([n,l.pathname])),ac(l)}function V2(e,{relative:t}={}){let n=O.useContext(rA);de(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mA("useViewTransitionState"),a=Cc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Ar(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ar(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Kf(a.pathname,c)!=null||Kf(a.pathname,l)!=null}const Fy=O.createContext({});function qy(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const Hy=typeof window<"u",pA=Hy?O.useLayoutEffect:O.useEffect,Ad=O.createContext(null);function Gy(e,t){e.indexOf(t)===-1&&e.push(t)}function Yy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Rr=(e,t,n)=>n>t?t:n<e?e:n;let $y=()=>{};const xr={},gA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function yA(e){return typeof e=="object"&&e!==null}const vA=e=>/^0[^.\s]+$/u.test(e);function Ky(e){let t;return()=>(t===void 0&&(t=e()),t)}const ni=e=>e,k2=(e,t)=>n=>t(e(n)),Ic=(...e)=>e.reduce(k2),oc=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Qy{constructor(){this.subscriptions=[]}add(t){return Gy(this.subscriptions,t),()=>Yy(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=e=>e*1e3,Vi=e=>e/1e3;function _A(e,t){return t?e*(1e3/t):0}const TA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,L2=1e-7,U2=12;function j2(e,t,n,i,a){let l,c,f=0;do c=t+(n-t)/2,l=TA(c,i,a)-e,l>0?n=c:t=c;while(Math.abs(l)>L2&&++f<U2);return c}function Dc(e,t,n,i){if(e===t&&n===i)return ni;const a=l=>j2(l,0,1,e,n);return l=>l===0||l===1?l:TA(a(l),t,i)}const EA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wA=e=>t=>1-e(1-t),bA=Dc(.33,1.53,.69,.99),Xy=wA(bA),SA=EA(Xy),AA=e=>(e*=2)<1?.5*Xy(e):.5*(2-Math.pow(2,-10*(e-1))),Wy=e=>1-Math.sin(Math.acos(e)),RA=wA(Wy),xA=EA(Wy),B2=Dc(.42,0,1,1),z2=Dc(0,0,.58,1),CA=Dc(.42,0,.58,1),F2=e=>Array.isArray(e)&&typeof e[0]!="number",IA=e=>Array.isArray(e)&&typeof e[0]=="number",q2={linear:ni,easeIn:B2,easeInOut:CA,easeOut:z2,circIn:Wy,circInOut:xA,circOut:RA,backIn:Xy,backInOut:SA,backOut:bA,anticipate:AA},H2=e=>typeof e=="string",YE=e=>{if(IA(e)){$y(e.length===4);const[t,n,i,a]=e;return Dc(t,n,i,a)}else if(H2(e))return q2[e];return e},Tf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function G2(e,t){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(f)}const p={schedule:(y,_=!1,w=!1)=>{const I=w&&a?n:i;return _&&c.add(y),I.has(y)||I.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const Y2=40;function DA(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Tf.reduce(($,lt)=>($[lt]=G2(l),$),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:w,render:A,postRender:I}=c,j=()=>{const $=xr.useManualTiming?a.timestamp:performance.now();n=!1,xr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min($-a.timestamp,Y2),1)),a.timestamp=$,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),w.process(a),A.process(a),I.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(j))},k=()=>{n=!0,i=!0,a.isProcessing||e(j)};return{schedule:Tf.reduce(($,lt)=>{const it=c[lt];return $[lt]=(at,D=!1,R=!1)=>(n||k(),it.schedule(at,D,R)),$},{}),cancel:$=>{for(let lt=0;lt<Tf.length;lt++)c[Tf[lt]].cancel($)},state:a,steps:c}}const{schedule:ue,cancel:bs,state:tn,steps:lg}=DA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0);let Pf;function $2(){Pf=void 0}const An={now:()=>(Pf===void 0&&An.set(tn.isProcessing||xr.useManualTiming?tn.timestamp:performance.now()),Pf),set:e=>{Pf=e,queueMicrotask($2)}},NA=e=>t=>typeof t=="string"&&t.startsWith(e),Zy=NA("--"),K2=NA("var(--"),Jy=e=>K2(e)?Q2.test(e.split("/*")[0].trim()):!1,Q2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lc={...gl,transform:e=>Rr(0,1,e)},Ef={...gl,default:1},Ku=e=>Math.round(e*1e5)/1e5,tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function X2(e){return e==null}const W2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ev=(e,t)=>n=>!!(typeof n=="string"&&W2.test(n)&&n.startsWith(e)||t&&!X2(n)&&Object.prototype.hasOwnProperty.call(n,t)),MA=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,f]=i.match(tv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},Z2=e=>Rr(0,255,e),ug={...gl,transform:e=>Math.round(Z2(e))},Aa={test:ev("rgb","red"),parse:MA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+ug.transform(e)+", "+ug.transform(t)+", "+ug.transform(n)+", "+Ku(lc.transform(i))+")"};function J2(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Fg={test:ev("#"),parse:J2,transform:Aa.transform},Nc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hs=Nc("deg"),ki=Nc("%"),St=Nc("px"),tN=Nc("vh"),eN=Nc("vw"),$E={...ki,parse:e=>ki.parse(e)/100,transform:e=>ki.transform(e*100)},Go={test:ev("hsl","hue"),parse:MA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ki.transform(Ku(t))+", "+ki.transform(Ku(n))+", "+Ku(lc.transform(i))+")"},Me={test:e=>Aa.test(e)||Fg.test(e)||Go.test(e),parse:e=>Aa.test(e)?Aa.parse(e):Go.test(e)?Go.parse(e):Fg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Aa.transform(e):Go.transform(e),getAnimatableNone:e=>{const t=Me.parse(e);return t.alpha=0,Me.transform(t)}},nN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iN(e){return isNaN(e)&&typeof e=="string"&&(e.match(tv)?.length||0)+(e.match(nN)?.length||0)>0}const PA="number",OA="color",rN="var",sN="var(",KE="${}",aN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uc(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(aN,m=>(Me.test(m)?(i.color.push(l),a.push(OA),n.push(Me.parse(m))):m.startsWith(sN)?(i.var.push(l),a.push(rN),n.push(m)):(i.number.push(l),a.push(PA),n.push(parseFloat(m))),++l,KE)).split(KE);return{values:n,split:f,indexes:i,types:a}}function VA(e){return uc(e).values}function kA(e){const{split:t,types:n}=uc(e),i=t.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===PA?l+=Ku(a[c]):f===OA?l+=Me.transform(a[c]):l+=a[c]}return l}}const oN=e=>typeof e=="number"?0:Me.test(e)?Me.getAnimatableNone(e):e;function lN(e){const t=VA(e);return kA(e)(t.map(oN))}const Ss={test:iN,parse:VA,createTransformer:kA,getAnimatableNone:lN};function cg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uN({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=cg(m,f,e+1/3),l=cg(m,f,e),c=cg(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Qf(e,t){return n=>n>0?t:e}const fe=(e,t,n)=>e+(t-e)*n,hg=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},cN=[Fg,Aa,Go],hN=e=>cN.find(t=>t.test(e));function QE(e){const t=hN(e);if(!t)return!1;let n=t.parse(e);return t===Go&&(n=uN(n)),n}const XE=(e,t)=>{const n=QE(e),i=QE(t);if(!n||!i)return Qf(e,t);const a={...n};return l=>(a.red=hg(n.red,i.red,l),a.green=hg(n.green,i.green,l),a.blue=hg(n.blue,i.blue,l),a.alpha=fe(n.alpha,i.alpha,l),Aa.transform(a))},qg=new Set(["none","hidden"]);function fN(e,t){return qg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function dN(e,t){return n=>fe(e,t,n)}function nv(e){return typeof e=="number"?dN:typeof e=="string"?Jy(e)?Qf:Me.test(e)?XE:gN:Array.isArray(e)?LA:typeof e=="object"?Me.test(e)?XE:mN:Qf}function LA(e,t){const n=[...e],i=n.length,a=e.map((l,c)=>nv(l)(l,t[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function mN(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=nv(e[a])(e[a],t[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function pN(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][i[l]],f=e.values[c]??0;n[a]=f,i[l]++}return n}const gN=(e,t)=>{const n=Ss.createTransformer(t),i=uc(e),a=uc(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?qg.has(e)&&!a.values.length||qg.has(t)&&!i.values.length?fN(e,t):Ic(LA(pN(i,a),a.values),n):Qf(e,t)};function UA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fe(e,t,n):nv(e)(e,t)}const yN=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>bs(t),now:()=>tn.isProcessing?tn.timestamp:An.now()}},jA=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)i+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Xf=2e4;function iv(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Xf;)t+=n,i=e.next(t);return t>=Xf?1/0:t}function vN(e,t=100,n){const i=n({...e,keyframes:[0,t]}),a=Math.min(iv(i),Xf);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:Vi(a)}}const _N=5;function BA(e,t,n){const i=Math.max(t-_N,0);return _A(n-e(i),t-i)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fg=.001;function TN({duration:e=ve.duration,bounce:t=ve.bounce,velocity:n=ve.velocity,mass:i=ve.mass}){let a,l,c=1-t;c=Rr(ve.minDamping,ve.maxDamping,c),e=Rr(ve.minDuration,ve.maxDuration,Vi(e)),c<1?(a=p=>{const y=p*c,_=y*e,w=y-n,A=Hg(p,c),I=Math.exp(-_);return fg-w/A*I},l=p=>{const _=p*c*e,w=_*n+n,A=Math.pow(c,2)*Math.pow(p,2)*e,I=Math.exp(-_),j=Hg(Math.pow(p,2),c);return(-a(p)+fg>0?-1:1)*((w-A)*I)/j}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-fg+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=wN(a,l,f);if(e=Oi(e),isNaN(m))return{stiffness:ve.stiffness,damping:ve.damping,duration:e};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:e}}}const EN=12;function wN(e,t,n){let i=n;for(let a=1;a<EN;a++)i=i-e(i)/t(i);return i}function Hg(e,t){return e*Math.sqrt(1-t*t)}const bN=["duration","bounce"],SN=["stiffness","damping","mass"];function WE(e,t){return t.some(n=>e[n]!==void 0)}function AN(e){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...e};if(!WE(e,SN)&&WE(e,bN))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Rr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ve.mass,stiffness:a,damping:l}}else{const n=TN(e);t={...t,...n,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function Wf(e=ve.visualDuration,t=ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:w,isResolvedFromDuration:A}=AN({...n,velocity:-Vi(n.velocity||0)}),I=w||0,j=p/(2*Math.sqrt(m*y)),k=c-l,H=Vi(Math.sqrt(m/y)),F=Math.abs(k)<5;i||(i=F?ve.restSpeed.granular:ve.restSpeed.default),a||(a=F?ve.restDelta.granular:ve.restDelta.default);let $;if(j<1){const it=Hg(H,j);$=at=>{const D=Math.exp(-j*H*at);return c-D*((I+j*H*k)/it*Math.sin(it*at)+k*Math.cos(it*at))}}else if(j===1)$=it=>c-Math.exp(-H*it)*(k+(I+H*k)*it);else{const it=H*Math.sqrt(j*j-1);$=at=>{const D=Math.exp(-j*H*at),R=Math.min(it*at,300);return c-D*((I+j*H*k)*Math.sinh(R)+it*k*Math.cosh(R))/it}}const lt={calculatedDuration:A&&_||null,next:it=>{const at=$(it);if(A)f.done=it>=_;else{let D=it===0?I:0;j<1&&(D=it===0?Oi(I):BA($,it,at));const R=Math.abs(D)<=i,x=Math.abs(c-at)<=a;f.done=R&&x}return f.value=f.done?c:at,f},toString:()=>{const it=Math.min(iv(lt),Xf),at=jA(D=>lt.next(it*D).value,it,30);return it+"ms "+at},toTransition:()=>{}};return lt}Wf.applyToOptions=e=>{const t=vN(e,100,Wf);return e.ease=t.ease,e.duration=Oi(t.duration),e.type="keyframes",e};function Gg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],w={done:!1,value:_},A=R=>f!==void 0&&R<f||m!==void 0&&R>m,I=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let j=n*t;const k=_+j,H=c===void 0?k:c(k);H!==k&&(j=H-_);const F=R=>-j*Math.exp(-R/i),$=R=>H+F(R),lt=R=>{const x=F(R),M=$(R);w.done=Math.abs(x)<=p,w.value=w.done?H:M};let it,at;const D=R=>{A(w.value)&&(it=R,at=Wf({keyframes:[w.value,I(w.value)],velocity:BA($,R,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return D(0),{calculatedDuration:null,next:R=>{let x=!1;return!at&&it===void 0&&(x=!0,lt(R),D(R)),it!==void 0&&R>=it?at.next(R-it):(!x&&lt(R),w)}}}function RN(e,t,n){const i=[],a=n||xr.mix||UA,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||ni:t;f=Ic(m,f)}i.push(f)}return i}function xN(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const l=e.length;if($y(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=RN(t,i,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const w=oc(e[_],e[_+1],y);return f[_](w)};return n?y=>p(Rr(e[0],e[l-1],y)):p}function CN(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=oc(0,t,i);e.push(fe(n,1,a))}}function IN(e){const t=[0];return CN(t,e.length-1),t}function DN(e,t){return e.map(n=>n*t)}function NN(e,t){return e.map(()=>t||CA).splice(0,e.length-1)}function Qu({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=F2(i)?i.map(YE):YE(i),l={done:!1,value:t[0]},c=DN(n&&n.length===t.length?n:IN(t),e),f=xN(c,t,{ease:Array.isArray(a)?a:NN(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const MN=e=>e!==null;function rv(e,{repeat:t,repeatType:n="loop"},i,a=1){const l=e.filter(MN),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const PN={decay:Gg,inertia:Gg,tween:Qu,keyframes:Qu,spring:Wf};function zA(e){typeof e.type=="string"&&(e.type=PN[e.type])}class sv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const ON=e=>e/100;class av extends sv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;zA(t);const{type:n=Qu,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=n||Qu;m!==Qu&&typeof f[0]!="number"&&(this.mixKeyframes=Ic(ON,UA(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=iv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:w,repeatDelay:A,type:I,onUpdate:j,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const H=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?H<0:H>a;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,lt=i;if(_){const R=Math.min(this.currentTime,a)/f;let x=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&x--,x=Math.min(x,_+1),!!(x%2)&&(w==="reverse"?(M=1-M,A&&(M-=A/f)):w==="mirror"&&(lt=c)),$=Rr(0,1,M)*f}const it=F?{done:!1,value:y[0]}:lt.next($);l&&(it.value=l(it.value));let{done:at}=it;!F&&m!==null&&(at=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return D&&I!==Gg&&(it.value=rv(y,this.options,k,this.speed)),j&&j(it.value),D&&this.finish(),it}then(t,n){return this.finished.then(t,n)}get duration(){return Vi(this.calculatedDuration)}get time(){return Vi(this.currentTime)}set time(t){t=Oi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(An.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=yN,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function VN(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ra=e=>e*180/Math.PI,Yg=e=>{const t=Ra(Math.atan2(e[1],e[0]));return $g(t)},kN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yg,rotateZ:Yg,skewX:e=>Ra(Math.atan(e[1])),skewY:e=>Ra(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$g=e=>(e=e%360,e<0&&(e+=360),e),ZE=Yg,JE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),LN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JE,scaleY:tw,scale:e=>(JE(e)+tw(e))/2,rotateX:e=>$g(Ra(Math.atan2(e[6],e[5]))),rotateY:e=>$g(Ra(Math.atan2(-e[2],e[0]))),rotateZ:ZE,rotate:ZE,skewX:e=>Ra(Math.atan(e[4])),skewY:e=>Ra(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Kg(e){return e.includes("scale")?1:0}function Qg(e,t){if(!e||e==="none")return Kg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=LN,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=kN,a=f}if(!a)return Kg(t);const l=i[t],c=a[1].split(",").map(jN);return typeof l=="function"?l(c):c[l]}const UN=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Qg(n,t)};function jN(e){return parseFloat(e.trim())}const yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vl=new Set(yl),ew=e=>e===gl||e===St,BN=new Set(["x","y","z"]),zN=yl.filter(e=>!BN.has(e));function FN(e){const t=[];return zN.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Ca={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Qg(t,"x"),y:(e,{transform:t})=>Qg(t,"y")};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const Ia=new Set;let Xg=!1,Wg=!1,Zg=!1;function FA(){if(Wg){const e=Array.from(Ia).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=FN(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Wg=!1,Xg=!1,Ia.forEach(e=>e.complete(Zg)),Ia.clear()}function qA(){Ia.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wg=!0)})}function qN(){Zg=!0,qA(),FA(),Zg=!1}class ov{constructor(t,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ia.add(this),Xg||(Xg=!0,ue.read(qA),ue.resolveKeyframes(FA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const f=i.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}VN(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ia.delete(this)}cancel(){this.state==="scheduled"&&(Ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HN=e=>e.startsWith("--");function GN(e,t,n){HN(t)?e.style.setProperty(t,n):e.style[t]=n}const YN=Ky(()=>window.ScrollTimeline!==void 0),$N={};function KN(e,t){const n=Ky(e);return()=>$N[t]??n()}const HA=KN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zu=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,nw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zu([0,.65,.55,1]),circOut:zu([.55,0,1,.45]),backIn:zu([.31,.01,.66,-.59]),backOut:zu([.33,1.53,.69,.99])};function GA(e,t){if(e)return typeof e=="function"?HA()?jA(e,t):"ease-out":IA(e)?zu(e):Array.isArray(e)?e.map(n=>GA(n,t)||nw.easeOut):nw[e]}function QN(e,t,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=GA(f,a);Array.isArray(_)&&(y.easing=_);const w={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),e.animate(y,w)}function YA(e){return typeof e=="function"&&"applyToOptions"in e}function XN({type:e,...t}){return YA(e)&&HA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class WN extends sv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,$y(typeof t.type!="string");const p=XN(t);this.animation=QN(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=rv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):GN(n,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Vi(Number(t))}get time(){return Vi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Oi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&YN()?(this.animation.timeline=t,ni):n(this)}}const $A={anticipate:AA,backInOut:SA,circInOut:xA};function ZN(e){return e in $A}function JN(e){typeof e.ease=="string"&&ZN(e.ease)&&(e.ease=$A[e.ease])}const iw=10;class tM extends WN{constructor(t){JN(t),zA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new av({...c,autoplay:!1}),m=Oi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-iw).value,f.sample(m).value,iw),f.stop()}}const rw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ss.test(e)||e==="0")&&!e.startsWith("url("));function eM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function nM(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=rw(a,t),f=rw(l,t);return!c||!f?!1:eM(e)||(n==="spring"||YA(n))&&i}function Jg(e){e.duration=0,e.type}const iM=new Set(["opacity","clipPath","filter","transform"]),rM=Ky(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sM(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return rM()&&n&&iM.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const aM=40;class oM extends sv{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const w={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},A=y?.KeyframeResolver||ov;this.keyframeResolver=new A(f,(I,j,k)=>this.onKeyframesResolved(I,j,w,!k),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=i;this.resolvedAt=An.now(),nM(t,l,c,f)||((xr.instantAnimations||!m)&&y?.(rv(t,i,n)),t[0]=t[t.length-1],Jg(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>aM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},A=!p&&sM(w)?new tM({...w,element:w.motionValue.owner.current}):new av(w);A.finished.then(()=>this.notifyFinished()).catch(ni),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const lM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uM(e){const t=lM.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function KA(e,t,n=1){const[i,a]=uM(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const c=l.trim();return gA(c)?parseFloat(c):c}return Jy(a)?KA(a,t,n+1):a}function lv(e,t){return e?.[t]??e?.default??e}const QA=new Set(["width","height","top","left","right","bottom",...yl]),cM={test:e=>e==="auto",parse:e=>e},XA=e=>t=>t.test(e),WA=[gl,St,ki,hs,eN,tN,cM],sw=e=>WA.find(XA(e));function hM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vA(e):!0}const fM=new Set(["brightness","contrast","saturate","opacity"]);function dM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(tv)||[];if(!i)return e;const a=n.replace(i,"");let l=fM.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+a+")"}const mM=/\b([a-z-]*)\(.*?\)/gu,ty={...Ss,getAnimatableNone:e=>{const t=e.match(mM);return t?t.map(dM).join(" "):e}},aw={...gl,transform:Math.round},pM={rotate:hs,rotateX:hs,rotateY:hs,rotateZ:hs,scale:Ef,scaleX:Ef,scaleY:Ef,scaleZ:Ef,skew:hs,skewX:hs,skewY:hs,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:lc,originX:$E,originY:$E,originZ:St},uv={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...pM,zIndex:aw,fillOpacity:lc,strokeOpacity:lc,numOctaves:aw},gM={...uv,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:ty,WebkitFilter:ty},ZA=e=>gM[e];function JA(e,t){let n=ZA(e);return n!==ty&&(n=Ss),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yM=new Set(["auto","none","0"]);function vM(e,t,n){let i=0,a;for(;i<e.length&&!a;){const l=e[i];typeof l=="string"&&!yM.has(l)&&uc(l).values.length&&(a=e[i]),i++}if(a&&n)for(const l of t)e[l]=JA(n,a)}class _M extends ov{constructor(t,n,i,a,l){super(t,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Jy(p))){const y=KA(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!QA.has(i)||t.length!==2)return;const[a,l]=t,c=sw(a),f=sw(l);if(c!==f)if(ew(c)&&ew(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Ca[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||hM(t[a]))&&i.push(a);i.length&&vM(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Ca[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function TM(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=n?.[e]??i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const t1=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function e1(e){return yA(e)&&"offsetHeight"in e}const ow=30,EM=e=>!isNaN(parseFloat(e));class wM{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=An.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=EM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Qy);const i=this.events[t].add(n);return t==="change"?()=>{i(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ow)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ow);return _A(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sl(e,t){return new wM(e,t)}const{schedule:cv}=DA(queueMicrotask,!1),ui={x:!1,y:!1};function n1(){return ui.x||ui.y}function bM(e){return e==="x"||e==="y"?ui[e]?null:(ui[e]=!0,()=>{ui[e]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function i1(e,t){const n=TM(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function lw(e){return!(e.pointerType==="touch"||n1())}function SM(e,t,n={}){const[i,a,l]=i1(e,n),c=f=>{if(!lw(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=_=>{lw(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return i.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const r1=(e,t)=>t?e===t?!0:r1(e,t.parentElement):!1,hv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,AM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RM(e){return AM.has(e.tagName)||e.tabIndex!==-1}const Of=new WeakSet;function uw(e){return t=>{t.key==="Enter"&&e(t)}}function dg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xM=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=uw(()=>{if(Of.has(n))return;dg(n,"down");const a=uw(()=>{dg(n,"up")}),l=()=>dg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function cw(e){return hv(e)&&!n1()}function CM(e,t,n={}){const[i,a,l]=i1(e,n),c=f=>{const m=f.currentTarget;if(!cw(f))return;Of.add(m);const p=t(m,f),y=(A,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),Of.has(m)&&Of.delete(m),cw(A)&&typeof p=="function"&&p(A,{success:I})},_=A=>{y(A,m===window||m===document||n.useGlobalTarget||r1(m,A.target))},w=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",w,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),e1(f)&&(f.addEventListener("focus",p=>xM(p,a)),!RM(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function s1(e){return yA(e)&&"ownerSVGElement"in e}function IM(e){return s1(e)&&e.tagName==="svg"}const hn=e=>!!(e&&e.getVelocity),DM=[...WA,Me,Ss],NM=e=>DM.find(XA(e)),fv=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class MM extends O.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=e1(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PM({children:e,isPresent:t,anchorX:n,root:i}){const a=O.useId(),l=O.useRef(null),c=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=O.useContext(fv);return O.useInsertionEffect(()=>{const{width:m,height:p,top:y,left:_,right:w}=c.current;if(t||!l.current||!m||!p)return;const A=n==="left"?`left: ${_}`:`right: ${w}`;l.current.dataset.motionPopId=a;const I=document.createElement("style");f&&(I.nonce=f);const j=i??document.head;return j.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${A}px !important;
            top: ${y}px !important;
          }
        `),()=>{j.contains(I)&&j.removeChild(I)}},[t]),C.jsx(MM,{isPresent:t,childRef:l,sizeRef:c,children:O.cloneElement(e,{ref:l})})}const OM=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const p=qy(VM),y=O.useId();let _=!0,w=O.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:A=>{p.set(A,!0);for(const I of p.values())if(!I)return;i&&i()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,i]);return l&&_&&(w={...w}),O.useMemo(()=>{p.forEach((A,I)=>p.set(I,!1))},[n]),O.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),c==="popLayout"&&(e=C.jsx(PM,{isPresent:n,anchorX:f,root:m,children:e})),C.jsx(Ad.Provider,{value:w,children:e})};function VM(){return new Map}function a1(e=!0){const t=O.useContext(Ad);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,l=O.useId();O.useEffect(()=>{if(e)return a(l)},[e]);const c=O.useCallback(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,c]:[!0]}const wf=e=>e.key||"";function hw(e){const t=[];return O.Children.forEach(e,n=>{O.isValidElement(n)&&t.push(n)}),t}const o1=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,y]=a1(c),_=O.useMemo(()=>hw(e),[e]),w=c&&!p?[]:_.map(wf),A=O.useRef(!0),I=O.useRef(_),j=qy(()=>new Map),[k,H]=O.useState(_),[F,$]=O.useState(_);pA(()=>{A.current=!1,I.current=_;for(let at=0;at<F.length;at++){const D=wf(F[at]);w.includes(D)?j.delete(D):j.get(D)!==!0&&j.set(D,!1)}},[F,w.length,w.join("-")]);const lt=[];if(_!==k){let at=[..._];for(let D=0;D<F.length;D++){const R=F[D],x=wf(R);w.includes(x)||(at.splice(D,0,R),lt.push(R))}return l==="wait"&&lt.length&&(at=lt),$(hw(at)),H(_),null}const{forceRender:it}=O.useContext(Fy);return C.jsx(C.Fragment,{children:F.map(at=>{const D=wf(at),R=c&&!p?!1:_===F||w.includes(D),x=()=>{if(j.has(D))j.set(D,!0);else return;let M=!0;j.forEach(L=>{L||(M=!1)}),M&&(it?.(),$(I.current),c&&y?.(),i&&i())};return C.jsx(OM,{isPresent:R,initial:!A.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:R?void 0:x,anchorX:f,children:at},D)})})},l1=O.createContext({strict:!1}),fw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},al={};for(const e in fw)al[e]={isEnabled:t=>fw[e].some(n=>!!t[n])};function kM(e){for(const t in e)al[t]={...al[t],...e[t]}}const LM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||LM.has(e)}let u1=e=>!Zf(e);function UM(e){typeof e=="function"&&(u1=t=>t.startsWith("on")?!Zf(t):e(t))}try{UM(require("@emotion/is-prop-valid").default)}catch{}function jM(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(u1(a)||n===!0&&Zf(a)||!t&&!Zf(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}const Rd=O.createContext({});function xd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function cc(e){return typeof e=="string"||Array.isArray(e)}const dv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mv=["initial",...dv];function Cd(e){return xd(e.animate)||mv.some(t=>cc(e[t]))}function c1(e){return!!(Cd(e)||e.variants)}function BM(e,t){if(Cd(e)){const{initial:n,animate:i}=e;return{initial:n===!1||cc(n)?n:void 0,animate:cc(i)?i:void 0}}return e.inherit!==!1?t:{}}function zM(e){const{initial:t,animate:n}=BM(e,O.useContext(Rd));return O.useMemo(()=>({initial:t,animate:n}),[dw(t),dw(n)])}function dw(e){return Array.isArray(e)?e.join(" "):e}const hc={};function FM(e){for(const t in e)hc[t]=e[t],Zy(t)&&(hc[t].isCSSVariable=!0)}function h1(e,{layout:t,layoutId:n}){return vl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!hc[e]||e==="opacity")}const qM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HM=yl.length;function GM(e,t,n){let i="",a=!0;for(let l=0;l<HM;l++){const c=yl[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=t1(f,uv[c]);if(!m){a=!1;const y=qM[c]||c;i+=`${y}(${p}) `}n&&(t[c]=p)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function pv(e,t,n){const{style:i,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(vl.has(m)){c=!0;continue}else if(Zy(m)){a[m]=p;continue}else{const y=t1(p,uv[m]);m.startsWith("origin")?(f=!0,l[m]=y):i[m]=y}}if(t.transform||(c||n?i.transform=GM(t,e.transform,n):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${p} ${y}`}}const gv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function f1(e,t,n){for(const i in t)!hn(t[i])&&!h1(i,n)&&(e[i]=t[i])}function YM({transformTemplate:e},t){return O.useMemo(()=>{const n=gv();return pv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function $M(e,t){const n=e.style||{},i={};return f1(i,n,e),Object.assign(i,YM(e,t)),i}function KM(e,t){const n={},i=$M(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const QM={offset:"stroke-dashoffset",array:"stroke-dasharray"},XM={offset:"strokeDashoffset",array:"strokeDasharray"};function WM(e,t,n=1,i=0,a=!0){e.pathLength=1;const l=a?QM:XM;e[l.offset]=St.transform(-i);const c=St.transform(t),f=St.transform(n);e[l.array]=`${c} ${f}`}function d1(e,{attrX:t,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(pv(e,f,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:w}=e;_.transform&&(w.transform=_.transform,delete _.transform),(w.transform||_.transformOrigin)&&(w.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),a!==void 0&&WM(_,a,l,c,!1)}const m1=()=>({...gv(),attrs:{}}),p1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZM(e,t,n,i){const a=O.useMemo(()=>{const l=m1();return d1(l,t,p1(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};f1(l,e.style,e),a.style={...l,...a.style}}return a}const JM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yv(e){return typeof e!="string"||e.includes("-")?!1:!!(JM.indexOf(e)>-1||/[A-Z]/u.test(e))}function tP(e,t,n,{latestValues:i},a,l=!1){const f=(yv(e)?ZM:KM)(t,i,a,e),m=jM(t,typeof e=="string",l),p=e!==O.Fragment?{...m,...f,ref:n}:{},{children:y}=t,_=O.useMemo(()=>hn(y)?y.get():y,[y]);return O.createElement(e,{...p,children:_})}function mw(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function vv(e,t,n,i){if(typeof t=="function"){const[a,l]=mw(i);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=mw(i);t=t(n!==void 0?n:e.custom,a,l)}return t}function Vf(e){return hn(e)?e.get():e}function eP({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,a){return{latestValues:nP(n,i,a,e),renderState:t()}}function nP(e,t,n,i){const a={},l=i(e,{});for(const w in l)a[w]=Vf(l[w]);let{initial:c,animate:f}=e;const m=Cd(e),p=c1(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!xd(_)){const w=Array.isArray(_)?_:[_];for(let A=0;A<w.length;A++){const I=vv(e,w[A]);if(I){const{transitionEnd:j,transition:k,...H}=I;for(const F in H){let $=H[F];if(Array.isArray($)){const lt=y?$.length-1:0;$=$[lt]}$!==null&&(a[F]=$)}for(const F in j)a[F]=j[F]}}}return a}const g1=e=>(t,n)=>{const i=O.useContext(Rd),a=O.useContext(Ad),l=()=>eP(e,t,i,a);return n?l():qy(l)};function _v(e,t,n){const{style:i}=e,a={};for(const l in i)(hn(i[l])||t.style&&hn(t.style[l])||h1(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const iP=g1({scrapeMotionValuesFromProps:_v,createRenderState:gv});function y1(e,t,n){const i=_v(e,t,n);for(const a in e)if(hn(e[a])||hn(t[a])){const l=yl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=e[a]}return i}const rP=g1({scrapeMotionValuesFromProps:y1,createRenderState:m1}),sP=Symbol.for("motionComponentSymbol");function Yo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aP(e,t,n){return O.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Yo(n)&&(n.current=i))},[t])}const Tv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oP="framerAppearId",v1="data-"+Tv(oP),_1=O.createContext({});function lP(e,t,n,i,a){const{visualElement:l}=O.useContext(Rd),c=O.useContext(l1),f=O.useContext(Ad),m=O.useContext(fv).reducedMotion,p=O.useRef(null);i=i||c.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=O.useContext(_1);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&uP(p.current,n,a,_);const w=O.useRef(!1);O.useInsertionEffect(()=>{y&&w.current&&y.update(n,f)});const A=n[v1],I=O.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return pA(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),I.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),I.current=!1),y.enteringChildren=void 0)}),y}function uP(e,t,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:T1(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Yo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:p})}function T1(e){if(e)return e.options.allowProjection!==!1?e.projection:T1(e.parent)}function mg(e,{forwardMotionProps:t=!1}={},n,i){n&&kM(n);const a=yv(e)?rP:iP;function l(f,m){let p;const y={...O.useContext(fv),...f,layoutId:cP(f)},{isStatic:_}=y,w=zM(f),A=a(f,_);if(!_&&Hy){hP();const I=fP(y);p=I.MeasureLayout,w.visualElement=lP(e,A,y,i,I.ProjectionNode)}return C.jsxs(Rd.Provider,{value:w,children:[p&&w.visualElement?C.jsx(p,{visualElement:w.visualElement,...y}):null,tP(e,f,aP(A,w.visualElement,m),A,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=O.forwardRef(l);return c[sP]=e,c}function cP({layoutId:e}){const t=O.useContext(Fy).id;return t&&e!==void 0?t+"-"+e:e}function hP(e,t){O.useContext(l1).strict}function fP(e){const{drag:t,layout:n}=al;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function dP(e,t){if(typeof Proxy>"u")return mg;const n=new Map,i=(l,c)=>mg(l,c,e,t),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,mg(c,void 0,e,t)),n.get(c))})}function E1({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function mP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function pg(e){return e===void 0||e===1}function ey({scale:e,scaleX:t,scaleY:n}){return!pg(e)||!pg(t)||!pg(n)}function wa(e){return ey(e)||w1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function w1(e){return pw(e.x)||pw(e.y)}function pw(e){return e&&e!=="0%"}function Jf(e,t,n){const i=e-n,a=t*i;return n+a}function gw(e,t,n,i,a){return a!==void 0&&(e=Jf(e,a,i)),Jf(e,n,i)+t}function ny(e,t=0,n=1,i,a){e.min=gw(e.min,t,n,i,a),e.max=gw(e.max,t,n,i,a)}function b1(e,{x:t,y:n}){ny(e.x,t.translate,t.scale,t.originPoint),ny(e.y,n.translate,n.scale,n.originPoint)}const yw=.999999999999,vw=1.0000000000001;function gP(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ko(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,b1(e,c)),i&&wa(l.latestValues)&&Ko(e,l.latestValues))}t.x<vw&&t.x>yw&&(t.x=1),t.y<vw&&t.y>yw&&(t.y=1)}function $o(e,t){e.min=e.min+t,e.max=e.max+t}function _w(e,t,n,i,a=.5){const l=fe(e.min,e.max,a);ny(e,t,n,l,i)}function Ko(e,t){_w(e.x,t.x,t.scaleX,t.scale,t.originX),_w(e.y,t.y,t.scaleY,t.scale,t.originY)}function S1(e,t){return E1(pP(e.getBoundingClientRect(),t))}function yP(e,t,n){const i=S1(e,n),{scroll:a}=t;return a&&($o(i.x,a.offset.x),$o(i.y,a.offset.y)),i}const Tw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:Tw(),y:Tw()}),Ew=()=>({min:0,max:0}),Se=()=>({x:Ew(),y:Ew()}),iy={current:null},A1={current:!1};function vP(){if(A1.current=!0,!!Hy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>iy.current=e.matches;e.addEventListener("change",t),t()}else iy.current=!1}const _P=new WeakMap;function TP(e,t,n){for(const i in t){const a=t[i],l=n[i];if(hn(a))e.addValue(i,a);else if(hn(l))e.addValue(i,sl(a,{owner:e}));else if(l!==a)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(i);e.addValue(i,sl(c!==void 0?c:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const ww=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EP{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ov,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=An.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ue.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Cd(n),this.isVariantNode=c1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in _){const A=_[w];m[w]!==void 0&&hn(A)&&A.set(m[w])}}mount(t){this.current=t,_P.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),A1.current||vP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bs(this.notifyUpdate),bs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=vl.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ue.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in al){const n=al[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Se()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<ww.length;i++){const a=ww[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=TP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=sl(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(gA(i)||vA(i))?i=parseFloat(i):!NM(i)&&Ss.test(n)&&(i=JA(t,n)),this.setBaseTarget(t,hn(i)?i.get():i)),hn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=vv(this.props,n,this.presenceContext?.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!hn(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Qy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){cv.render(this.render)}}class R1 extends EP{constructor(){super(...arguments),this.KeyframeResolver=_M}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function x1(e,{style:t,vars:n},i,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function wP(e){return window.getComputedStyle(e)}class bP extends R1{constructor(){super(...arguments),this.type="html",this.renderInstance=x1}readValueFromInstance(t,n){if(vl.has(n))return this.projection?.isProjecting?Kg(n):UN(t,n);{const i=wP(t),a=(Zy(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return S1(t,n)}build(t,n,i){pv(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return _v(t,n,i)}}const C1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SP(e,t,n,i){x1(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(C1.has(a)?a:Tv(a),t.attrs[a])}class AP extends R1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Se}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(vl.has(n)){const i=ZA(n);return i&&i.default||0}return n=C1.has(n)?n:Tv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return y1(t,n,i)}build(t,n,i){d1(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,a){SP(t,n,i,a)}mount(t){this.isSVGTag=p1(t.tagName),super.mount(t)}}const RP=(e,t)=>yv(e)?new AP(t):new bP(t,{allowProjection:e!==O.Fragment});function Jo(e,t,n){const i=e.getProps();return vv(i,t,n!==void 0?n:i.custom,e)}const ry=e=>Array.isArray(e);function xP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,sl(n))}function CP(e){return ry(e)?e[e.length-1]||0:e}function IP(e,t){const n=Jo(e,t);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const f=CP(l[c]);xP(e,c,f)}}function DP(e){return!!(hn(e)&&e.add)}function sy(e,t){const n=e.getValue("willChange");if(DP(n))return n.add(t);if(!n&&xr.WillChange){const i=new xr.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function I1(e){return e.props[v1]}const NP=e=>e!==null;function MP(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(NP),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const PP={type:"spring",stiffness:500,damping:25,restSpeed:10},OP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VP={type:"keyframes",duration:.8},kP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LP=(e,{keyframes:t})=>t.length>2?VP:vl.has(e)?e.startsWith("scale")?OP(t[1]):PP:kP;function UP({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Ev=(e,t,n,i={},a,l)=>c=>{const f=lv(i,e)||{},m=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Oi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:w=>{t.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};UP(f)||Object.assign(y,LP(e,y)),y.duration&&(y.duration=Oi(y.duration)),y.repeatDelay&&(y.repeatDelay=Oi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Jg(y),y.delay===0&&(_=!0)),(xr.instantAnimations||xr.skipAnimations)&&(_=!0,Jg(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const w=MP(y.keyframes,f);if(w!==void 0){ue.update(()=>{y.onUpdate(w),y.onComplete()});return}}return f.isSync?new av(y):new oM(y)};function jP({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function D1(e,t,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;i&&(l=i);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const _=e.getValue(y,e.latestValues[y]??null),w=f[y];if(w===void 0||p&&jP(p,y))continue;const A={delay:n,...lv(l||{},y)},I=_.get();if(I!==void 0&&!_.isAnimating&&!Array.isArray(w)&&w===I&&!A.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const H=I1(e);if(H){const F=window.MotionHandoffAnimation(H,y,ue);F!==null&&(A.startTime=F,j=!0)}}sy(e,y),_.start(Ev(y,_,w,e.shouldReduceMotion&&QA.has(y)?{type:!1}:A,e,j));const k=_.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{ue.update(()=>{c&&IP(e,c)})}),m}function N1(e,t,n,i=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,f=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:f-l*i}function ay(e,t,n={}){const i=Jo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(D1(e,i,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return BP(e,t,m,p,y,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function BP(e,t,n=0,i=0,a=0,l=1,c){const f=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),f.push(ay(m,t,{...c,delay:n+(typeof i=="function"?0:i)+N1(e.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function zP(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>ay(e,l,n));i=Promise.all(a)}else if(typeof t=="string")i=ay(e,t,n);else{const a=typeof t=="function"?Jo(e,t,n.custom):t;i=Promise.all(D1(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function M1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const FP=mv.length;function P1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?P1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<FP;n++){const i=mv[n],a=e.props[i];(cc(a)||a===!1)&&(t[i]=a)}return t}const qP=[...dv].reverse(),HP=dv.length;function GP(e){return t=>Promise.all(t.map(({animation:n,options:i})=>zP(e,n,i)))}function YP(e){let t=GP(e),n=bw(),i=!0;const a=m=>(p,y)=>{const _=Jo(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:w,transitionEnd:A,...I}=_;p={...p,...I,...A}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=P1(e.parent)||{},_=[],w=new Set;let A={},I=1/0;for(let k=0;k<HP;k++){const H=qP[k],F=n[H],$=p[H]!==void 0?p[H]:y[H],lt=cc($),it=H===m?F.isActive:null;it===!1&&(I=k);let at=$===y[H]&&$!==p[H]&&lt;if(at&&i&&e.manuallyAnimateOnMount&&(at=!1),F.protectedKeys={...A},!F.isActive&&it===null||!$&&!F.prevProp||xd($)||typeof $=="boolean")continue;const D=$P(F.prevProp,$);let R=D||H===m&&F.isActive&&!at&&lt||k>I&&lt,x=!1;const M=Array.isArray($)?$:[$];let L=M.reduce(a(H),{});it===!1&&(L={});const{prevResolvedValues:B={}}=F,P={...B,...L},ce=st=>{R=!0,w.has(st)&&(x=!0,w.delete(st)),F.needsAnimating[st]=!0;const ft=e.getValue(st);ft&&(ft.liveStyle=!1)};for(const st in P){const ft=L[st],xt=B[st];if(A.hasOwnProperty(st))continue;let V=!1;ry(ft)&&ry(xt)?V=!M1(ft,xt):V=ft!==xt,V?ft!=null?ce(st):w.add(st):ft!==void 0&&w.has(st)?ce(st):F.protectedKeys[st]=!0}F.prevProp=$,F.prevResolvedValues=L,F.isActive&&(A={...A,...L}),i&&e.blockInitialAnimation&&(R=!1);const Lt=at&&D;R&&(!Lt||x)&&_.push(...M.map(st=>{const ft={type:H};if(typeof st=="string"&&i&&!Lt&&e.manuallyAnimateOnMount&&e.parent){const{parent:xt}=e,V=Jo(xt,st);if(xt.enteringChildren&&V){const{delayChildren:rt}=V.transition||{};ft.delay=N1(xt.enteringChildren,e,rt)}}return{animation:st,options:ft}}))}if(w.size){const k={};if(typeof p.initial!="boolean"){const H=Jo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);H&&H.transition&&(k.transition=H.transition)}w.forEach(H=>{const F=e.getBaseTarget(H),$=e.getValue(H);$&&($.liveStyle=!0),k[H]=F??null}),_.push({animation:k})}let j=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(j=!1),i=!1,j?t(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=bw(),i=!0}}}function $P(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!M1(t,e):!1}function Ea(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bw(){return{animate:Ea(!0),whileInView:Ea(),whileHover:Ea(),whileTap:Ea(),whileDrag:Ea(),whileFocus:Ea(),exit:Ea()}}class Ms{constructor(t){this.isMounted=!1,this.node=t}update(){}}class KP extends Ms{constructor(t){super(t),t.animationState||(t.animationState=YP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QP=0;class XP extends Ms{constructor(){super(...arguments),this.id=QP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const WP={animation:{Feature:KP},exit:{Feature:XP}};function fc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Mc(e){return{point:{x:e.pageX,y:e.pageY}}}const ZP=e=>t=>hv(t)&&e(t,Mc(t));function Xu(e,t,n,i){return fc(e,t,ZP(n),i)}const O1=1e-4,JP=1-O1,tO=1+O1,V1=.01,eO=0-V1,nO=0+V1;function _n(e){return e.max-e.min}function iO(e,t,n){return Math.abs(e-t)<=n}function Sw(e,t,n,i=.5){e.origin=i,e.originPoint=fe(t.min,t.max,e.origin),e.scale=_n(n)/_n(t),e.translate=fe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=JP&&e.scale<=tO||isNaN(e.scale))&&(e.scale=1),(e.translate>=eO&&e.translate<=nO||isNaN(e.translate))&&(e.translate=0)}function Wu(e,t,n,i){Sw(e.x,t.x,n.x,i?i.originX:void 0),Sw(e.y,t.y,n.y,i?i.originY:void 0)}function Aw(e,t,n){e.min=n.min+t.min,e.max=e.min+_n(t)}function rO(e,t,n){Aw(e.x,t.x,n.x),Aw(e.y,t.y,n.y)}function Rw(e,t,n){e.min=t.min-n.min,e.max=e.min+_n(t)}function Zu(e,t,n){Rw(e.x,t.x,n.x),Rw(e.y,t.y,n.y)}function ti(e){return[e("x"),e("y")]}const k1=({current:e})=>e?e.ownerDocument.defaultView:null,xw=(e,t)=>Math.abs(e-t);function sO(e,t){const n=xw(e.x,t.x),i=xw(e.y,t.y);return Math.sqrt(n**2+i**2)}class L1{constructor(t,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=yg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,I=sO(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!I)return;const{point:j}=w,{timestamp:k}=tn;this.history.push({...j,timestamp:k});const{onStart:H,onMove:F}=this.handlers;A||(H&&H(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,w)},this.handlePointerMove=(w,A)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=gg(A,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(w,A)=>{this.end();const{onEnd:I,onSessionEnd:j,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=yg(w.type==="pointercancel"?this.lastMoveEventInfo:gg(A,this.transformPagePoint),this.history);this.startEvent&&I&&I(w,H),j&&j(w,H)},!hv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=Mc(t),m=gg(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=tn;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,yg(m,this.history)),this.removeListeners=Ic(Xu(this.contextWindow,"pointermove",this.handlePointerMove),Xu(this.contextWindow,"pointerup",this.handlePointerUp),Xu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bs(this.updatePoint)}}function gg(e,t){return t?{point:t(e.point)}:e}function Cw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yg({point:e},t){return{point:e,delta:Cw(e,U1(t)),offset:Cw(e,aO(t)),velocity:oO(t,.1)}}function aO(e){return e[0]}function U1(e){return e[e.length-1]}function oO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=U1(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>Oi(t)));)n--;if(!i)return{x:0,y:0};const l=Vi(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function lO(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?fe(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?fe(n,e,i.max):Math.min(e,n)),e}function Iw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function uO(e,{top:t,left:n,bottom:i,right:a}){return{x:Iw(e.x,n,a),y:Iw(e.y,t,i)}}function Dw(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function cO(e,t){return{x:Dw(e.x,t.x),y:Dw(e.y,t.y)}}function hO(e,t){let n=.5;const i=_n(e),a=_n(t);return a>i?n=oc(t.min,t.max-i,e.min):i>a&&(n=oc(e.min,e.max-a,t.min)),Rr(0,1,n)}function fO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const oy=.35;function dO(e=oy){return e===!1?e=0:e===!0&&(e=oy),{x:Nw(e,"left","right"),y:Nw(e,"top","bottom")}}function Nw(e,t,n){return{min:Mw(e,t),max:Mw(e,n)}}function Mw(e,t){return typeof e=="number"?e:e[t]||0}const mO=new WeakMap;class pO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Se(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mc(_).point)},c=(_,w)=>{const{drag:A,dragPropagation:I,onDragStart:j}=this.getProps();if(A&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bM(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(H=>{let F=this.getAxisMotionValue(H).get()||0;if(ki.test(F)){const{projection:$}=this.visualElement;if($&&$.layout){const lt=$.layout.layoutBox[H];lt&&(F=_n(lt)*(parseFloat(F)/100))}}this.originPoint[H]=F}),j&&ue.postRender(()=>j(_,w)),sy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},f=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:I,onDirectionLock:j,onDrag:k}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:H}=w;if(I&&this.currentDirection===null){this.currentDirection=gO(H),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",w.point,H),this.updateAxis("y",w.point,H),this.visualElement.render(),k&&k(_,w)},m=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w,this.stop(_,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ti(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new L1(t,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:k1(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ue.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!bf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=lO(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Yo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=uO(i.layoutBox,t):this.constraints=!1,this.elastic=dO(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ti(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=fO(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yo(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=yP(i,a.root,this.visualElement.getTransformPagePoint());let c=cO(a.layout.layoutBox,l);if(n){const f=n(mP(c));this.hasMutatedConstraints=!!f,f&&(c=E1(f))}return c}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ti(y=>{if(!bf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const w=a?200:1e6,A=a?40:1e7,I={type:"inertia",velocity:i?t[y]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,I)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return sy(this.visualElement,t),i.start(Ev(t,i,0,n,this.visualElement,!1))}stopAnimation(){ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ti(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ti(n=>{const{drag:i}=this.getProps();if(!bf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-fe(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Yo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ti(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=hO({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ti(c=>{if(!bf(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(fe(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;mO.set(this.visualElement,this);const t=this.visualElement.current,n=Xu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Yo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ue.read(i);const c=fc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ti(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=oy,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function bf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class yO extends Ms{constructor(t){super(t),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new pO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pw=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class vO extends Ms{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(t){this.session=new L1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Pw(t),onStart:Pw(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&ue.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Xu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ow(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Uu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(St.test(e))e=parseFloat(e);else return e;const n=Ow(e,t.target.x),i=Ow(e,t.target.y);return`${n}% ${i}%`}},_O={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=Ss.parse(e);if(a.length>5)return i;const l=Ss.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=fe(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let vg=!1;class TO extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;FM(EO),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),vg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,vg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ue.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;vg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function j1(e){const[t,n]=a1(),i=O.useContext(Fy);return C.jsx(TO,{...e,layoutGroup:i,switchLayoutGroup:O.useContext(_1),isPresent:t,safeToRemove:n})}const EO={borderRadius:{...Uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uu,borderTopRightRadius:Uu,borderBottomLeftRadius:Uu,borderBottomRightRadius:Uu,boxShadow:_O};function wO(e,t,n){const i=hn(e)?e:sl(e);return i.start(Ev("",i,t,n)),i.animation}const bO=(e,t)=>e.depth-t.depth;class SO{constructor(){this.children=[],this.isDirty=!1}add(t){Gy(this.children,t),this.isDirty=!0}remove(t){Yy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bO),this.isDirty=!1,this.children.forEach(t)}}function AO(e,t){const n=An.now(),i=({timestamp:a})=>{const l=a-n;l>=t&&(bs(i),e(l-t))};return ue.setup(i,!0),()=>bs(i)}const B1=["TopLeft","TopRight","BottomLeft","BottomRight"],RO=B1.length,Vw=e=>typeof e=="string"?parseFloat(e):e,kw=e=>typeof e=="number"||St.test(e);function xO(e,t,n,i,a,l){a?(e.opacity=fe(0,n.opacity??1,CO(i)),e.opacityExit=fe(t.opacity??1,0,IO(i))):l&&(e.opacity=fe(t.opacity??1,n.opacity??1,i));for(let c=0;c<RO;c++){const f=`border${B1[c]}Radius`;let m=Lw(t,f),p=Lw(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||kw(m)===kw(p)?(e[f]=Math.max(fe(Vw(m),Vw(p),i),0),(ki.test(p)||ki.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=fe(t.rotate||0,n.rotate||0,i))}function Lw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const CO=z1(0,.5,RA),IO=z1(.5,.95,ni);function z1(e,t,n){return i=>i<e?0:i>t?1:n(oc(e,t,i))}function Uw(e,t){e.min=t.min,e.max=t.max}function Jn(e,t){Uw(e.x,t.x),Uw(e.y,t.y)}function jw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Bw(e,t,n,i,a){return e-=t,e=Jf(e,1/n,i),a!==void 0&&(e=Jf(e,1/a,i)),e}function DO(e,t=0,n=1,i=.5,a,l=e,c=e){if(ki.test(t)&&(t=parseFloat(t),t=fe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=fe(l.min,l.max,i);e===l&&(f-=t),e.min=Bw(e.min,t,n,f,a),e.max=Bw(e.max,t,n,f,a)}function zw(e,t,[n,i,a],l,c){DO(e,t[n],t[i],t[a],t.scale,l,c)}const NO=["x","scaleX","originX"],MO=["y","scaleY","originY"];function Fw(e,t,n,i){zw(e.x,t,NO,n?n.x:void 0,i?i.x:void 0),zw(e.y,t,MO,n?n.y:void 0,i?i.y:void 0)}function qw(e){return e.translate===0&&e.scale===1}function F1(e){return qw(e.x)&&qw(e.y)}function Hw(e,t){return e.min===t.min&&e.max===t.max}function PO(e,t){return Hw(e.x,t.x)&&Hw(e.y,t.y)}function Gw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function q1(e,t){return Gw(e.x,t.x)&&Gw(e.y,t.y)}function Yw(e){return _n(e.x)/_n(e.y)}function $w(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class OO{constructor(){this.members=[]}add(t){Gy(this.members,t),t.scheduleRender()}remove(t){if(Yy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VO(e,t,n){let i="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:w,skewX:A,skewY:I}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),_&&(i+=`rotateX(${_}deg) `),w&&(i+=`rotateY(${w}deg) `),A&&(i+=`skewX(${A}deg) `),I&&(i+=`skewY(${I}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const _g=["","X","Y","Z"],kO=1e3;let LO=0;function Tg(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function H1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=I1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(a||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&H1(i)}function G1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},f=t?.()){this.id=LO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BO),this.nodes.forEach(HO),this.nodes.forEach(GO),this.nodes.forEach(zO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new SO)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Qy),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=s1(c)&&!IM(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let y,_=0;const w=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{_=window.innerWidth}),e(c,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=AO(w,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(Xw)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||XO,{onLayoutAnimationStart:j,onLayoutAnimationComplete:k}=p.getProps(),H=!this.targetLayout||!q1(this.targetLayout,A),F=!_&&w;if(this.options.layoutRoot||this.resumeFrom||F||_&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...lv(I,"layout"),onPlay:j,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,F)}else _||Xw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qO),this.nodes.forEach(UO),this.nodes.forEach(jO)):this.nodes.forEach(Qw),this.clearAllSnapshots();const f=An.now();tn.delta=Rr(0,1e3/60,f-tn.timestamp),tn.timestamp=f,tn.isProcessing=!0,lg.update.process(tn),lg.preRender.process(tn),lg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FO),this.sharedNodes.forEach($O)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!F1(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||wa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),WO(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Se();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZO))){const{scroll:p}=this.root;p&&($o(f.x,p.offset.x),$o(f.y,p.offset.y))}return f}removeElementScroll(c){const f=Se();if(Jn(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Jn(f,c),$o(f.x,y.offset.x),$o(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=Se();Jn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ko(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),wa(y.latestValues)&&Ko(m,y.latestValues)}return wa(this.latestValues)&&Ko(m,this.latestValues),m}removeTransform(c){const f=Se();Jn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!wa(p.latestValues))continue;ey(p.latestValues)&&p.updateSnapshot();const y=Se(),_=p.measurePageBox();Jn(y,_),Fw(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return wa(this.latestValues)&&Fw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),Zu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Se(),this.targetWithTransforms=Se()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),b1(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),Zu(this.relativeTargetOrigin,this.target,w.target),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ey(this.parent.latestValues)||w1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Jn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;gP(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Se());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jw(this.prevProjectionDelta.x,this.projectionDelta.x),jw(this.prevProjectionDelta.y,this.projectionDelta.y)),Wu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!$w(this.projectionDelta.x,this.prevProjectionDelta.x)||!$w(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Se(),A=m?m.source:void 0,I=this.layout?this.layout.source:void 0,j=A!==I,k=this.getStack(),H=!k||k.members.length<=1,F=!!(j&&!H&&this.options.crossfade===!0&&!this.path.some(QO));this.animationProgress=0;let $;this.mixTargetDelta=lt=>{const it=lt/1e3;Ww(_.x,c.x,it),Ww(_.y,c.y,it),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KO(this.relativeTarget,this.relativeTargetOrigin,w,it),$&&PO(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Se()),Jn($,this.relativeTarget)),j&&(this.animationValues=y,xO(y,p,this.latestValues,it,F,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sl(0)),this.currentAnimation=wO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&Y1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Se();const _=_n(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const w=_n(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}Jn(f,m),Ko(f,y),Wu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new OO),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Tg("z",c,p,this.animationValues);for(let y=0;y<_g.length;y++)Tg(`rotate${_g[y]}`,c,p,this.animationValues),Tg(`skew${_g[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Vf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Vf(f?.pointerEvents)||""),this.hasProjected&&!wa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=VO(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:w,y:A}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in hc){if(y[I]===void 0)continue;const{correct:j,applyTo:k,isCSSVariable:H}=hc[I],F=_==="none"?y[I]:j(y[I],p);if(k){const $=k.length;for(let lt=0;lt<$;lt++)c[k[lt]]=F}else H?this.options.visualElement.renderState.vars[I]=F:c[I]=F}this.options.layoutId&&(c.pointerEvents=p===this?Vf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Kw),this.root.sharedNodes.clear()}}}function UO(e){e.updateLayout()}function jO(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?ti(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],w=_n(_);_.min=n[y].min,_.max=_.min+w}):Y1(a,t.layoutBox,n)&&ti(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],w=_n(n[y]);_.max=_.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+w)});const c=Qo();Wu(c,n,t.layoutBox);const f=Qo();l?Wu(f,e.applyTransform(i,!0),t.measuredBox):Wu(f,n,t.layoutBox);const m=!F1(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:w}=y;if(_&&w){const A=Se();Zu(A,t.layoutBox,_.layoutBox);const I=Se();Zu(I,n,w.layoutBox),q1(A,I)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=A,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function BO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function FO(e){e.clearSnapshot()}function Kw(e){e.clearMeasurements()}function Qw(e){e.isLayoutDirty=!1}function qO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function HO(e){e.resolveTargetDelta()}function GO(e){e.calcProjection()}function YO(e){e.resetSkewAndRotation()}function $O(e){e.removeLeadSnapshot()}function Ww(e,t,n){e.translate=fe(t.translate,0,n),e.scale=fe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Zw(e,t,n,i){e.min=fe(t.min,n.min,i),e.max=fe(t.max,n.max,i)}function KO(e,t,n,i){Zw(e.x,t.x,n.x,i),Zw(e.y,t.y,n.y,i)}function QO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const XO={duration:.45,ease:[.4,0,.1,1]},Jw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tb=Jw("applewebkit/")&&!Jw("chrome/")?Math.round:ni;function eb(e){e.min=tb(e.min),e.max=tb(e.max)}function WO(e){eb(e.x),eb(e.y)}function Y1(e,t,n){return e==="position"||e==="preserve-aspect"&&!iO(Yw(t),Yw(n),.2)}function ZO(e){return e!==e.root&&e.scroll?.wasRoot}const JO=G1({attachResizeListener:(e,t)=>fc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},$1=G1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Eg.current){const e=new JO({});e.mount(window),e.setOptions({layoutScroll:!0}),Eg.current=e}return Eg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tV={pan:{Feature:vO},drag:{Feature:yO,ProjectionNode:$1,MeasureLayout:j1}};function nb(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ue.postRender(()=>l(t,Mc(t)))}class eV extends Ms{mount(){const{current:t}=this.node;t&&(this.unmount=SM(t,(n,i)=>(nb(this.node,i,"Start"),a=>nb(this.node,a,"End"))))}unmount(){}}class nV extends Ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(fc(this.node.current,"focus",()=>this.onFocus()),fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ib(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ue.postRender(()=>l(t,Mc(t)))}class iV extends Ms{mount(){const{current:t}=this.node;t&&(this.unmount=CM(t,(n,i)=>(ib(this.node,i,"Start"),(a,{success:l})=>ib(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ly=new WeakMap,wg=new WeakMap,rV=e=>{const t=ly.get(e.target);t&&t(e)},sV=e=>{e.forEach(rV)};function aV({root:e,...t}){const n=e||document;wg.has(n)||wg.set(n,{});const i=wg.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(sV,{root:e,...t})),i[a]}function oV(e,t,n){const i=aV(t);return ly.set(e,n),i.observe(e),()=>{ly.delete(e),i.unobserve(e)}}const lV={some:0,all:1};class uV extends Ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:lV[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),w=p?y:_;w&&w(m)};return oV(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(cV(t,n))&&this.startObserver()}unmount(){}}function cV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const hV={inView:{Feature:uV},tap:{Feature:iV},focus:{Feature:nV},hover:{Feature:eV}},fV={layout:{ProjectionNode:$1,MeasureLayout:j1}},dV={...WP,...hV,...tV,...fV},Ft=dP(dV,RP);function Sn({children:e,onClick:t,disabled:n=!1,variant:i="primary",size:a="md",className:l="",type:c="button"}){const f="font-semibold rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",m={primary:"bg-gradient-to-r from-pink-500 to-yellow-500 text-white hover:from-pink-600 hover:to-yellow-600 focus:ring-pink-500",secondary:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600 focus:ring-gray-500",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500"},p={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return C.jsx(Ft.button,{className:`${f} ${m[i]} ${p[a]} ${n?"opacity-50 cursor-not-allowed":""} ${l}`,onClick:t,disabled:n,type:c,whileHover:n?{}:{scale:1.05},whileTap:n?{}:{scale:.95},children:e})}function hi({children:e,className:t="",hover:n=!0,onClick:i}){return C.jsx(Ft.div,{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 ${n?"hover:shadow-xl hover:scale-105":""} transition-all duration-300 ${i?"cursor-pointer":""} ${t}`,whileHover:n?{scale:1.05}:{},transition:{type:"spring",stiffness:300},onClick:i,children:e})}function K1({progress:e,className:t=""}){return C.jsx("div",{className:`w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden ${t}`,children:C.jsx(Ft.div,{className:"h-full bg-gradient-to-r from-pink-500 to-yellow-500 rounded-full",initial:{width:0},animate:{width:`${e}%`},transition:{duration:.5,ease:"easeOut"}})})}function mV(){const e=[{name:"Morning Run",streak:7,progress:70},{name:"Read 30 mins",streak:12,progress:85},{name:"Drink Water",streak:5,progress:50}];return C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-yellow-100 dark:from-gray-900 dark:via-purple-900 dark:to-gray-900",children:C.jsxs("div",{className:"container mx-auto px-4 py-20",children:[C.jsxs(Ft.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[C.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 dark:text-white mb-6",children:["Track Your ",C.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-yellow-500",children:"Streaks"})]}),C.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto",children:"Stay Accountable. Level Up. Build habits with friends or solo."}),C.jsx(Ft.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:C.jsx(Zo,{to:"/auth",children:C.jsx(Sn,{size:"lg",className:"text-xl px-12 py-4",children:"Start Your First Streak"})})})]}),C.jsx(Ft.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"mt-20 grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:e.map((t,n)=>C.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5+n*.1},children:C.jsxs(hi,{className:"text-center",children:[C.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t.name}),C.jsxs("div",{className:"flex items-center justify-center mb-3",children:[C.jsx("span",{className:"text-2xl mr-2",children:"🔥"}),C.jsx("span",{className:"text-3xl font-bold text-pink-500",children:t.streak})]}),C.jsx(K1,{progress:t.progress}),C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Keep it up!"})]})},t.name))})]})})}const pV=()=>{};var rb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},gV=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},X1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let w=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(w=64)),i.push(n[y],n[_],n[w],n[A])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Q1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new yV;const w=l<<2|f>>4;if(i.push(w),p!==64){const A=f<<4&240|p>>2;if(i.push(A),_!==64){const I=p<<6&192|_;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class yV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vV=function(e){const t=Q1(e);return X1.encodeByteArray(t,!0)},td=function(e){return vV(e).replace(/\./g,"")},W1=function(e){try{return X1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=()=>_V().__FIREBASE_DEFAULTS__,EV=()=>{if(typeof process>"u"||typeof rb>"u")return;const e=rb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&W1(e[1]);return t&&JSON.parse(t)},Id=()=>{try{return pV()||TV()||EV()||wV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Z1=e=>Id()?.emulatorHosts?.[e],bV=e=>{const t=Z1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},J1=()=>Id()?.config,tR=e=>Id()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eR(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[td(JSON.stringify(n)),td(JSON.stringify(c)),""].join(".")}const Ju={};function RV(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ju))Ju[t]?e.emulator.push(t):e.prod.push(t);return e}function xV(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let sb=!1;function nR(e,t){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||Ju[e]===t||Ju[e]||sb)return;Ju[e]=t;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=RV().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{sb=!0,c()},w}function y(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=xV(i),A=n("text"),I=document.getElementById(A)||document.createElement("span"),j=n("learnmore"),k=document.getElementById(j)||document.createElement("a"),H=n("preprendIcon"),F=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;f($),y(k,j);const lt=p();m(F,H),$.append(F,I,k,lt),document.body.appendChild($)}l?(I.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function IV(){const e=Id()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NV(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function MV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PV(){const e=fn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function OV(){return!IV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VV(){try{return typeof indexedDB=="object"}catch{return!1}}function kV(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="FirebaseError";class Mr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=LV,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pc.prototype.create)}}class Pc{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?UV(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Mr(a,f,i)}}function UV(e,t){return e.replace(jV,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const jV=/\{\$([^}]+)}/g;function BV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pa(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const l=e[a],c=t[a];if(ab(l)&&ab(c)){if(!Pa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function ab(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Fu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function qu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function zV(e,t){const n=new FV(e,t);return n.subscribe.bind(n)}class FV{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let a;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");qV(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:i},a.next===void 0&&(a.next=bg),a.error===void 0&&(a.error=bg),a.complete===void 0&&(a.complete=bg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qV(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(e){return e&&e._delegate?e._delegate:e}class Oa{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new SV;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YV(t))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=ba){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ba){return this.instances.has(t)}getOptions(t=ba){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GV(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ba){return this.component?this.component.multipleInstances?t:ba:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GV(e){return e===ba?void 0:e}function YV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new HV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ot||(Ot={}));const KV={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},QV=Ot.INFO,XV={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},WV=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=XV[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wv{constructor(t){this.name=t,this._logLevel=QV,this._logHandler=WV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const ZV=(e,t)=>t.some(n=>e instanceof n);let ob,lb;function JV(){return ob||(ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tk(){return lb||(lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iR=new WeakMap,uy=new WeakMap,rR=new WeakMap,Sg=new WeakMap,bv=new WeakMap;function ek(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(ys(e.result)),a()},c=()=>{i(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&iR.set(n,e)}).catch(()=>{}),bv.set(t,e),t}function nk(e){if(uy.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});uy.set(e,t)}let cy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return uy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||rR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ik(e){cy=e(cy)}function rk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Ag(this),t,...n);return rR.set(i,t.sort?t.sort():[t]),ys(i)}:tk().includes(e)?function(...t){return e.apply(Ag(this),t),ys(iR.get(this))}:function(...t){return ys(e.apply(Ag(this),t))}}function sk(e){return typeof e=="function"?rk(e):(e instanceof IDBTransaction&&nk(e),ZV(e,JV())?new Proxy(e,cy):e)}function ys(e){if(e instanceof IDBRequest)return ek(e);if(Sg.has(e))return Sg.get(e);const t=sk(e);return t!==e&&(Sg.set(e,t),bv.set(t,e)),t}const Ag=e=>bv.get(e);function ak(e,t,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=ys(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ys(c.result),m.oldVersion,m.newVersion,ys(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const ok=["get","getKey","getAll","getAllKeys","count"],lk=["put","add","delete","clear"],Rg=new Map;function ub(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Rg.get(t))return Rg.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=lk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||ok.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Rg.set(t,l),l}ik(e=>({...e,get:(t,n,i)=>ub(t,n)||e.get(t,n,i),has:(t,n)=>!!ub(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ck(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ck(e){return e.getComponent()?.type==="VERSION"}const hy="@firebase/app",cb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new wv("@firebase/app"),hk="@firebase/app-compat",fk="@firebase/analytics-compat",dk="@firebase/analytics",mk="@firebase/app-check-compat",pk="@firebase/app-check",gk="@firebase/auth",yk="@firebase/auth-compat",vk="@firebase/database",_k="@firebase/data-connect",Tk="@firebase/database-compat",Ek="@firebase/functions",wk="@firebase/functions-compat",bk="@firebase/installations",Sk="@firebase/installations-compat",Ak="@firebase/messaging",Rk="@firebase/messaging-compat",xk="@firebase/performance",Ck="@firebase/performance-compat",Ik="@firebase/remote-config",Dk="@firebase/remote-config-compat",Nk="@firebase/storage",Mk="@firebase/storage-compat",Pk="@firebase/firestore",Ok="@firebase/ai",Vk="@firebase/firestore-compat",kk="firebase",Lk="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="[DEFAULT]",Uk={[hy]:"fire-core",[hk]:"fire-core-compat",[dk]:"fire-analytics",[fk]:"fire-analytics-compat",[pk]:"fire-app-check",[mk]:"fire-app-check-compat",[gk]:"fire-auth",[yk]:"fire-auth-compat",[vk]:"fire-rtdb",[_k]:"fire-data-connect",[Tk]:"fire-rtdb-compat",[Ek]:"fire-fn",[wk]:"fire-fn-compat",[bk]:"fire-iid",[Sk]:"fire-iid-compat",[Ak]:"fire-fcm",[Rk]:"fire-fcm-compat",[xk]:"fire-perf",[Ck]:"fire-perf-compat",[Ik]:"fire-rc",[Dk]:"fire-rc-compat",[Nk]:"fire-gcs",[Mk]:"fire-gcs-compat",[Pk]:"fire-fst",[Vk]:"fire-fst-compat",[Ok]:"fire-vertex","fire-js":"fire-js",[kk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,jk=new Map,dy=new Map;function hb(e,t){try{e.container.addComponent(t)}catch(n){Cr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ol(e){const t=e.name;if(dy.has(t))return Cr.debug(`There were multiple attempts to register component ${t}.`),!1;dy.set(t,e);for(const n of ed.values())hb(n,e);for(const n of jk.values())hb(n,e);return!0}function Sv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ei(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new Pc("app","Firebase",Bk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=Lk;function sR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:fy,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw vs.create("bad-app-name",{appName:String(a)});if(n||(n=J1()),!n)throw vs.create("no-options");const l=ed.get(a);if(l){if(Pa(n,l.options)&&Pa(i,l.config))return l;throw vs.create("duplicate-app",{appName:a})}const c=new $V(a);for(const m of dy.values())c.addComponent(m);const f=new zk(n,i,c);return ed.set(a,f),f}function aR(e=fy){const t=ed.get(e);if(!t&&e===fy&&J1())return sR();if(!t)throw vs.create("no-app",{appName:e});return t}function _s(e,t,n){let i=Uk[e]??e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cr.warn(c.join(" "));return}ol(new Oa(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="firebase-heartbeat-database",qk=1,dc="firebase-heartbeat-store";let xg=null;function oR(){return xg||(xg=ak(Fk,qk,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(e=>{throw vs.create("idb-open",{originalErrorMessage:e.message})})),xg}async function Hk(e){try{const n=(await oR()).transaction(dc),i=await n.objectStore(dc).get(lR(e));return await n.done,i}catch(t){if(t instanceof Mr)Cr.warn(t.message);else{const n=vs.create("idb-get",{originalErrorMessage:t?.message});Cr.warn(n.message)}}}async function fb(e,t){try{const i=(await oR()).transaction(dc,"readwrite");await i.objectStore(dc).put(t,lR(e)),await i.done}catch(n){if(n instanceof Mr)Cr.warn(n.message);else{const i=vs.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(i.message)}}}function lR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1024,Yk=30;class $k{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qk(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=db();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>Yk){const a=Xk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Cr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=db(),{heartbeatsToSend:n,unsentEntries:i}=Kk(this._heartbeatsCache.heartbeats),a=td(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Cr.warn(t),""}}}function db(){return new Date().toISOString().substring(0,10)}function Kk(e,t=Gk){const n=[];let i=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),mb(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),mb(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Qk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VV()?kV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return fb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return fb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function mb(e){return td(JSON.stringify({version:2,heartbeats:e})).length}function Xk(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(e){ol(new Oa("platform-logger",t=>new uk(t),"PRIVATE")),ol(new Oa("heartbeat",t=>new $k(t),"PRIVATE")),_s(hy,cb,e),_s(hy,cb,"esm2020"),_s("fire-js","")}Wk("");function uR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zk=uR,cR=new Pc("auth","Firebase",uR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new wv("@firebase/auth");function Jk(e,...t){nd.logLevel<=Ot.WARN&&nd.warn(`Auth (${Tl}): ${e}`,...t)}function Lf(e,...t){nd.logLevel<=Ot.ERROR&&nd.error(`Auth (${Tl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(e,...t){throw Av(e,...t)}function Li(e,...t){return Av(e,...t)}function hR(e,t,n){const i={...Zk(),[t]:n};return new Pc("auth","Firebase",i).create(t,{appName:e.name})}function br(e){return hR(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Av(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return cR.create(e,...t)}function wt(e,t,...n){if(!e)throw Av(t,...n)}function _r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Lf(t),new Error(t)}function Ir(e,t){e||_r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(){return typeof self<"u"&&self.location?.href||""}function t4(){return pb()==="http:"||pb()==="https:"}function pb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t4()||NV()||"connection"in navigator)?navigator.onLine:!0}function n4(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ir(n>t,"Short delay should be less than long delay!"),this.isMobile=CV()||MV()}get(){return e4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(e,t){Ir(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s4=new Vc(3e4,6e4);function Ps(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Os(e,t,n,i,a={}){return dR(e,a,async()=>{let l={},c={};i&&(t==="GET"?c=i:l={body:JSON.stringify(i)});const f=Oc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return DV()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&_l(e.emulatorConfig.host)&&(p.credentials="include"),fR.fetch()(await mR(e,e.config.apiHost,n,f),p)})}async function dR(e,t,n){e._canInitEmulator=!1;const i={...i4,...t};try{const a=new o4(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Sf(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Sf(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Sf(e,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw hR(e,y,p);fi(e,y)}}catch(a){if(a instanceof Mr)throw a;fi(e,"network-request-failed",{message:String(a)})}}async function kc(e,t,n,i,a={}){const l=await Os(e,t,n,i,a);return"mfaPendingCredential"in l&&fi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function mR(e,t,n,i){const a=`${t}${n}?${i}`,l=e,c=l.config.emulator?Rv(e.config,a):`${e.config.apiScheme}://${a}`;return r4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function a4(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Li(this.auth,"network-request-failed")),s4.get())})}}function Sf(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Li(e,t,i);return a.customData._tokenResponse=n,a}function gb(e){return e!==void 0&&e.enterprise!==void 0}class l4{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return a4(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u4(e,t){return Os(e,"GET","/v2/recaptchaConfig",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(e,t){return Os(e,"POST","/v1/accounts:delete",t)}async function id(e,t){return Os(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function h4(e,t=!1){const n=Re(e),i=await n.getIdToken(t),a=xv(i);wt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:tc(Cg(a.auth_time)),issuedAtTime:tc(Cg(a.iat)),expirationTime:tc(Cg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Cg(e){return Number(e)*1e3}function xv(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const a=W1(n);return a?JSON.parse(a):(Lf("Failed to decode base64 JWT payload"),null)}catch(a){return Lf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function yb(e){const t=xv(e);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Mr&&f4(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function f4({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(e){const t=e.auth,n=await e.getIdToken(),i=await mc(e,id(t,{idToken:n}));wt(i?.users.length,t,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?pR(a.providerUserInfo):[],c=p4(e.providerData,l),f=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new py(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function m4(e){const t=Re(e);await rd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function p4(e,t){return[...e.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function pR(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(e,t){const n=await dR(e,{},async()=>{const i=Oc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await mR(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return e.emulatorConfig&&_l(e.emulatorConfig.host)&&(m.credentials="include"),fR.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y4(e,t){return Os(e,"POST","/v2/accounts:revokeToken",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const n=yb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await g4(t,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new tl;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(wt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(wt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(e,t){wt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new d4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new py(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await mc(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return h4(this,t)}reload(){return m4(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await rd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(br(this.auth));const t=await this.getIdToken();return await mc(this,c4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:A,providerData:I,stsTokenManager:j}=n;wt(_&&j,t,"internal-error");const k=tl.fromJSON(this.name,j);wt(typeof _=="string",t,"internal-error"),ls(i,t.name),ls(a,t.name),wt(typeof w=="boolean",t,"internal-error"),wt(typeof A=="boolean",t,"internal-error"),ls(l,t.name),ls(c,t.name),ls(f,t.name),ls(m,t.name),ls(p,t.name),ls(y,t.name);const H=new ci({uid:_,auth:t,email:a,emailVerified:w,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:p,lastLoginAt:y});return I&&Array.isArray(I)&&(H.providerData=I.map(F=>({...F}))),m&&(H._redirectEventId=m),H}static async _fromIdTokenResponse(t,n,i=!1){const a=new tl;a.updateFromServerResponse(n);const l=new ci({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await rd(l),l}static async _fromGetAccountInfoResponse(t,n,i){const a=n.users[0];wt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?pR(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new tl;f.updateFromIdToken(i);const m=new ci({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new py(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Map;function Tr(e){Ir(e instanceof Function,"Expected a class definition");let t=vb.get(e);return t?(Ir(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vb.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}gR.type="NONE";const _b=gR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e,t,n){return`firebase:${e}:${t}:${n}`}class el{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Uf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Uf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await id(this.auth,{idToken:t}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new el(Tr(_b),t,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Tr(_b);const c=Uf(i,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const w=await id(t,{idToken:y}).catch(()=>{});if(!w)break;_=await ci._fromGetAccountInfoResponse(t,w,y)}else _=ci._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new el(l,t,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new el(l,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wR(t))return"Blackberry";if(bR(t))return"Webos";if(vR(t))return"Safari";if((t.includes("chrome/")||_R(t))&&!t.includes("edge/"))return"Chrome";if(ER(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function yR(e=fn()){return/firefox\//i.test(e)}function vR(e=fn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _R(e=fn()){return/crios\//i.test(e)}function TR(e=fn()){return/iemobile/i.test(e)}function ER(e=fn()){return/android/i.test(e)}function wR(e=fn()){return/blackberry/i.test(e)}function bR(e=fn()){return/webos/i.test(e)}function Cv(e=fn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function v4(e=fn()){return Cv(e)&&!!window.navigator?.standalone}function _4(){return PV()&&document.documentMode===10}function SR(e=fn()){return Cv(e)||ER(e)||bR(e)||wR(e)||/windows phone/i.test(e)||TR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(e,t=[]){let n;switch(e){case"Browser":n=Tb(fn());break;case"Worker":n=`${Tb(fn())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(e,t={}){return Os(e,"GET","/v2/passwordPolicy",Ps(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=6;class b4{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??w4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t,n,i,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eb(this),this.idTokenSubscription=new Eb(this),this.beforeStateQueue=new T4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await id(this,{idToken:t}),i=await ci._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rd(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=n4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(br(this));const n=t?Re(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await E4(this),n=new b4(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pc("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await y4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Tr(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=AR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Jk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Fa(e){return Re(e)}class Eb{constructor(t){this.auth=t,this.observer=null,this.addObserver=zV(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A4(e){Dd=e}function RR(e){return Dd.loadJS(e)}function R4(){return Dd.recaptchaEnterpriseScript}function x4(){return Dd.gapiScript}function C4(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class I4{constructor(){this.enterprise=new D4}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class D4{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const N4="recaptcha-enterprise",xR="NO_RECAPTCHA";class M4{constructor(t){this.type=N4,this.auth=Fa(t)}async verify(t="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{u4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new l4(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;gb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(xR)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I4().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!n&&gb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=R4();m.length!==0&&(m+=f),RR(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function wb(e,t,n,i=!1,a=!1){const l=new M4(e);let c;if(a)c=xR;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function gy(e,t,n,i,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await wb(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await wb(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(e,t){const n=Sv(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Pa(l,t??{}))return a;fi(a,"already-initialized")}return n.initialize({options:t})}function O4(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Tr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function V4(e,t,n){const i=Fa(e);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=CR(t),{host:c,port:f}=k4(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Pa(p,i.config.emulator)&&Pa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,_l(c)?(eR(`${l}//${c}${m}`),nR("Auth",!0)):L4()}function CR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function k4(e){const t=CR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:bb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:bb(c)}}}function bb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function L4(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(t){return _r("not implemented")}_linkToIdToken(t,n){return _r("not implemented")}_getReauthenticationResolver(t){return _r("not implemented")}}async function U4(e,t){return Os(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(e,t){return kc(e,"POST","/v1/accounts:signInWithPassword",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(e,t){return kc(e,"POST","/v1/accounts:signInWithEmailLink",Ps(e,t))}async function z4(e,t){return kc(e,"POST","/v1/accounts:signInWithEmailLink",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Iv{constructor(t,n,i,a=null){super("password",i),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new pc(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new pc(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gy(t,n,"signInWithPassword",j4);case"emailLink":return B4(t,{email:this._email,oobCode:this._password});default:fi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gy(t,i,"signUpPassword",U4);case"emailLink":return z4(t,{idToken:n,email:this._email,oobCode:this._password});default:fi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(e,t){return kc(e,"POST","/v1/accounts:signInWithIdp",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="http://localhost";class Va extends Iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Va(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return nl(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,nl(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,nl(t,n)}buildRequest(){const t={requestUri:F4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Oc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H4(e){const t=Fu(qu(e)).link,n=t?Fu(qu(t)).deep_link_id:null,i=Fu(qu(e)).deep_link_id;return(i?Fu(qu(i)).link:null)||i||n||t||e}class Dv{constructor(t){const n=Fu(qu(t)),i=n.apiKey??null,a=n.oobCode??null,l=q4(n.mode??null);wt(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=H4(t);try{return new Dv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(t,n){return pc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Dv.parseLink(n);return wt(i,"argument-error"),pc._fromEmailAndCode(t,i.code,i.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends IR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Lc{constructor(){super("facebook.com")}static credential(t){return Va._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fs.credential(t.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Va._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return ds.credential(n,i)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Lc{constructor(){super("github.com")}static credential(t){return Va._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ms.credential(t.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Lc{constructor(){super("twitter.com")}static credential(t,n){return Va._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ps.credential(n,i)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(e,t){return kc(e,"POST","/v1/accounts:signUp",Ps(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,a=!1){const l=await ci._fromIdTokenResponse(t,i,a),c=Sb(i);return new ka({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const a=Sb(i);return new ka({user:t,providerId:a,_tokenResponse:i,operationType:n})}}function Sb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Mr{constructor(t,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,a){return new sd(t,n,i,a)}}function DR(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(e,l,t,i):l})}async function Y4(e,t,n=!1){const i=await mc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ka._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(e,t,n=!1){const{auth:i}=e;if(ei(i.app))return Promise.reject(br(i));const a="reauthenticate";try{const l=await mc(e,DR(i,a,t,e),n);wt(l.idToken,i,"internal-error");const c=xv(l.idToken);wt(c,i,"internal-error");const{sub:f}=c;return wt(e.uid===f,i,"user-mismatch"),ka._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&fi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(e,t,n=!1){if(ei(e.app))return Promise.reject(br(e));const i="signIn",a=await DR(e,i,t),l=await ka._fromIdTokenResponse(e,i,a);return n||await e._updateCurrentUser(l.user),l}async function K4(e,t){return NR(Fa(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(e){const t=Fa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Q4(e,t,n){if(ei(e.app))return Promise.reject(br(e));const i=Fa(e),c=await gy(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G4).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&MR(e),m}),f=await ka._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function X4(e,t,n){return ei(e.app)?Promise.reject(br(e)):K4(Re(e),El.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&MR(e),i})}function W4(e,t,n,i){return Re(e).onIdTokenChanged(t,n,i)}function Z4(e,t,n){return Re(e).beforeAuthStateChanged(t,n)}function J4(e,t,n,i){return Re(e).onAuthStateChanged(t,n,i)}function tL(e){return Re(e).signOut()}async function eL(e){return Re(e).delete()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=1e3,iL=10;class OR extends PR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&t(n,a,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);_4()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,iL):a()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},nL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}OR.type="LOCAL";const rL=OR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR extends PR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}VR.type="SESSION";const kR=VR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const i=new Nd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await sL(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=Nv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function oL(e){Ui().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function lL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uL(){return navigator?.serviceWorker?.controller||null}function cL(){return LR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="firebaseLocalStorageDb",hL=1,od="firebaseLocalStorage",jR="fbase_key";class Uc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Md(e,t){return e.transaction([od],t?"readwrite":"readonly").objectStore(od)}function fL(){const e=indexedDB.deleteDatabase(UR);return new Uc(e).toPromise()}function yy(){const e=indexedDB.open(UR,hL);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(od,{keyPath:jR})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(od)?t(i):(i.close(),await fL(),t(await yy()))})})}async function Ab(e,t,n){const i=Md(e,!0).put({[jR]:t,value:n});return new Uc(i).toPromise()}async function dL(e,t){const n=Md(e,!1).get(t),i=await new Uc(n).toPromise();return i===void 0?null:i.value}function Rb(e,t){const n=Md(e,!0).delete(t);return new Uc(n).toPromise()}const mL=800,pL=3;class BR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>pL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(cL()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lL(),!this.activeServiceWorker)return;this.sender=new aL(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yy();return await Ab(t,ad,"1"),await Rb(t,ad),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ab(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>dL(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rb(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Md(a,!1).getAll();return new Uc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BR.type="LOCAL";const gL=BR;new Vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(e,t){return t?Tr(t):(wt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends Iv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return nl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return nl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function vL(e){return NR(e.auth,new Mv(e),e.bypassAuthState)}function _L(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),$4(n,new Mv(e),e.bypassAuthState)}async function TL(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),Y4(n,new Mv(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,n,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vL;case"linkViaPopup":case"linkViaRedirect":return TL;case"reauthViaPopup":case"reauthViaRedirect":return _L;default:fi(this.auth,"internal-error")}}resolve(t){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new Vc(2e3,1e4);class Xo extends zR{constructor(t,n,i,a,l){super(t,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const t=Nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,EL.get())};t()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="pendingRedirect",jf=new Map;class bL extends zR{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=jf.get(this.auth._key());if(!t){try{const i=await SL(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}jf.set(this.auth._key(),t)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SL(e,t){const n=xL(t),i=RL(e);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function AL(e,t){jf.set(e._key(),t)}function RL(e){return Tr(e._redirectPersistence)}function xL(e){return Uf(wL,e.config.apiKey,e.name)}async function CL(e,t,n=!1){if(ei(e.app))return Promise.reject(br(e));const i=Fa(e),a=yL(i,t),c=await new bL(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=600*1e3;class DL{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!NL(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!FR(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=IL&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(t))}saveEventToCache(t){this.cachedEventUids.add(xb(t)),this.lastProcessedEventTime=Date.now()}}function xb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function FR({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function NL(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FR(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(e,t={}){return Os(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OL=/^https?/;async function VL(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ML(e);for(const n of t)try{if(kL(n))return}catch{}fi(e,"unauthorized-domain")}function kL(e){const t=my(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!OL.test(n))return!1;if(PL.test(e))return i===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new Vc(3e4,6e4);function Cb(){const e=Ui().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function UL(e){return new Promise((t,n)=>{function i(){Cb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cb(),n(Li(e,"network-request-failed"))},timeout:LL.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)i();else{const a=C4("iframefcb");return Ui()[a]=()=>{gapi.load?i():n(Li(e,"network-request-failed"))},RR(`${x4()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Bf=null,t})}let Bf=null;function jL(e){return Bf=Bf||UL(e),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new Vc(5e3,15e3),zL="__/auth/iframe",FL="emulator/auth/iframe",qL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GL(e){const t=e.config;wt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Rv(t,FL):`https://${e.config.authDomain}/${zL}`,i={apiKey:t.apiKey,appName:e.name,v:Tl},a=HL.get(e.config.apiHost);a&&(i.eid=a);const l=e._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Oc(i).slice(1)}`}async function YL(e){const t=await jL(e),n=Ui().gapi;return wt(n,e,"internal-error"),t.open({where:document.body,url:GL(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qL,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Li(e,"network-request-failed"),f=Ui().setTimeout(()=>{l(c)},BL.get());function m(){Ui().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KL=500,QL=600,XL="_blank",WL="http://localhost";class Ib{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZL(e,t,n,i=KL,a=QL){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...$L,width:i.toString(),height:a.toString(),top:l,left:c},p=fn().toLowerCase();n&&(f=_R(p)?XL:n),yR(p)&&(t=t||WL,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[A,I])=>`${w}${A}=${I},`,"");if(v4(p)&&f!=="_self")return JL(t||"",f),new Ib(null);const _=window.open(t||"",f,y);wt(_,e,"popup-blocked");try{_.focus()}catch{}return new Ib(_)}function JL(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="__/auth/handler",e3="emulator/auth/handler",n3=encodeURIComponent("fac");async function Db(e,t,n,i,a,l){wt(e.config.authDomain,e,"auth-domain-config-required"),wt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Tl,eventId:a};if(t instanceof IR){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",BV(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Lc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${n3}=${encodeURIComponent(m)}`:"";return`${i3(e)}?${Oc(f).slice(1)}${p}`}function i3({config:e}){return e.emulator?Rv(e,e3):`https://${e.authDomain}/${t3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class r3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kR,this._completeRedirectFn=CL,this._overrideRedirectResult=AL}async _openPopup(t,n,i,a){Ir(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Db(t,n,i,my(),a);return ZL(t,l,Nv())}async _openRedirect(t,n,i,a){await this._originValidation(t);const l=await Db(t,n,i,my(),a);return oL(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ir(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await YL(t),i=new DL(t);return n.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ig,{type:Ig},a=>{const l=a?.[0]?.[Ig];l!==void 0&&n(!!l),fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VL(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return SR()||vR()||Cv()}}const s3=r3;var Nb="@firebase/auth",Mb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l3(e){ol(new Oa("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AR(e)},p=new S4(i,a,l,m);return O4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),ol(new Oa("auth-internal",t=>{const n=Fa(t.getProvider("auth").getImmediate());return(i=>new a3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(Nb,Mb,o3(e)),_s(Nb,Mb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=300,c3=tR("authIdTokenMaxAge")||u3;let Pb=null;const h3=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>c3)return;const a=n?.token;Pb!==a&&(Pb=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function f3(e=aR()){const t=Sv(e,"auth");if(t.isInitialized())return t.getImmediate();const n=P4(e,{popupRedirectResolver:s3,persistence:[gL,rL,kR]}),i=tR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=h3(l.toString());Z4(n,c,()=>c(n.currentUser)),W4(n,f=>c(f))}}const a=Z1("auth");return a&&V4(n,`http://${a}`),n}function d3(){return document.getElementsByTagName("head")?.[0]??document}A4({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=a=>{const l=Li("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",d3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l3("Browser");var Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,qR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,R){function x(){}x.prototype=R.prototype,D.D=R.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(M,L,B){for(var P=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)P[ce-2]=arguments[ce];return R.prototype[L].apply(M,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,R,x){x||(x=0);var M=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)M[L]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(L=0;16>L;++L)M[L]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=D.g[0],x=D.g[1],L=D.g[2];var B=D.g[3],P=R+(B^x&(L^B))+M[0]+3614090360&4294967295;R=x+(P<<7&4294967295|P>>>25),P=B+(L^R&(x^L))+M[1]+3905402710&4294967295,B=R+(P<<12&4294967295|P>>>20),P=L+(x^B&(R^x))+M[2]+606105819&4294967295,L=B+(P<<17&4294967295|P>>>15),P=x+(R^L&(B^R))+M[3]+3250441966&4294967295,x=L+(P<<22&4294967295|P>>>10),P=R+(B^x&(L^B))+M[4]+4118548399&4294967295,R=x+(P<<7&4294967295|P>>>25),P=B+(L^R&(x^L))+M[5]+1200080426&4294967295,B=R+(P<<12&4294967295|P>>>20),P=L+(x^B&(R^x))+M[6]+2821735955&4294967295,L=B+(P<<17&4294967295|P>>>15),P=x+(R^L&(B^R))+M[7]+4249261313&4294967295,x=L+(P<<22&4294967295|P>>>10),P=R+(B^x&(L^B))+M[8]+1770035416&4294967295,R=x+(P<<7&4294967295|P>>>25),P=B+(L^R&(x^L))+M[9]+2336552879&4294967295,B=R+(P<<12&4294967295|P>>>20),P=L+(x^B&(R^x))+M[10]+4294925233&4294967295,L=B+(P<<17&4294967295|P>>>15),P=x+(R^L&(B^R))+M[11]+2304563134&4294967295,x=L+(P<<22&4294967295|P>>>10),P=R+(B^x&(L^B))+M[12]+1804603682&4294967295,R=x+(P<<7&4294967295|P>>>25),P=B+(L^R&(x^L))+M[13]+4254626195&4294967295,B=R+(P<<12&4294967295|P>>>20),P=L+(x^B&(R^x))+M[14]+2792965006&4294967295,L=B+(P<<17&4294967295|P>>>15),P=x+(R^L&(B^R))+M[15]+1236535329&4294967295,x=L+(P<<22&4294967295|P>>>10),P=R+(L^B&(x^L))+M[1]+4129170786&4294967295,R=x+(P<<5&4294967295|P>>>27),P=B+(x^L&(R^x))+M[6]+3225465664&4294967295,B=R+(P<<9&4294967295|P>>>23),P=L+(R^x&(B^R))+M[11]+643717713&4294967295,L=B+(P<<14&4294967295|P>>>18),P=x+(B^R&(L^B))+M[0]+3921069994&4294967295,x=L+(P<<20&4294967295|P>>>12),P=R+(L^B&(x^L))+M[5]+3593408605&4294967295,R=x+(P<<5&4294967295|P>>>27),P=B+(x^L&(R^x))+M[10]+38016083&4294967295,B=R+(P<<9&4294967295|P>>>23),P=L+(R^x&(B^R))+M[15]+3634488961&4294967295,L=B+(P<<14&4294967295|P>>>18),P=x+(B^R&(L^B))+M[4]+3889429448&4294967295,x=L+(P<<20&4294967295|P>>>12),P=R+(L^B&(x^L))+M[9]+568446438&4294967295,R=x+(P<<5&4294967295|P>>>27),P=B+(x^L&(R^x))+M[14]+3275163606&4294967295,B=R+(P<<9&4294967295|P>>>23),P=L+(R^x&(B^R))+M[3]+4107603335&4294967295,L=B+(P<<14&4294967295|P>>>18),P=x+(B^R&(L^B))+M[8]+1163531501&4294967295,x=L+(P<<20&4294967295|P>>>12),P=R+(L^B&(x^L))+M[13]+2850285829&4294967295,R=x+(P<<5&4294967295|P>>>27),P=B+(x^L&(R^x))+M[2]+4243563512&4294967295,B=R+(P<<9&4294967295|P>>>23),P=L+(R^x&(B^R))+M[7]+1735328473&4294967295,L=B+(P<<14&4294967295|P>>>18),P=x+(B^R&(L^B))+M[12]+2368359562&4294967295,x=L+(P<<20&4294967295|P>>>12),P=R+(x^L^B)+M[5]+4294588738&4294967295,R=x+(P<<4&4294967295|P>>>28),P=B+(R^x^L)+M[8]+2272392833&4294967295,B=R+(P<<11&4294967295|P>>>21),P=L+(B^R^x)+M[11]+1839030562&4294967295,L=B+(P<<16&4294967295|P>>>16),P=x+(L^B^R)+M[14]+4259657740&4294967295,x=L+(P<<23&4294967295|P>>>9),P=R+(x^L^B)+M[1]+2763975236&4294967295,R=x+(P<<4&4294967295|P>>>28),P=B+(R^x^L)+M[4]+1272893353&4294967295,B=R+(P<<11&4294967295|P>>>21),P=L+(B^R^x)+M[7]+4139469664&4294967295,L=B+(P<<16&4294967295|P>>>16),P=x+(L^B^R)+M[10]+3200236656&4294967295,x=L+(P<<23&4294967295|P>>>9),P=R+(x^L^B)+M[13]+681279174&4294967295,R=x+(P<<4&4294967295|P>>>28),P=B+(R^x^L)+M[0]+3936430074&4294967295,B=R+(P<<11&4294967295|P>>>21),P=L+(B^R^x)+M[3]+3572445317&4294967295,L=B+(P<<16&4294967295|P>>>16),P=x+(L^B^R)+M[6]+76029189&4294967295,x=L+(P<<23&4294967295|P>>>9),P=R+(x^L^B)+M[9]+3654602809&4294967295,R=x+(P<<4&4294967295|P>>>28),P=B+(R^x^L)+M[12]+3873151461&4294967295,B=R+(P<<11&4294967295|P>>>21),P=L+(B^R^x)+M[15]+530742520&4294967295,L=B+(P<<16&4294967295|P>>>16),P=x+(L^B^R)+M[2]+3299628645&4294967295,x=L+(P<<23&4294967295|P>>>9),P=R+(L^(x|~B))+M[0]+4096336452&4294967295,R=x+(P<<6&4294967295|P>>>26),P=B+(x^(R|~L))+M[7]+1126891415&4294967295,B=R+(P<<10&4294967295|P>>>22),P=L+(R^(B|~x))+M[14]+2878612391&4294967295,L=B+(P<<15&4294967295|P>>>17),P=x+(B^(L|~R))+M[5]+4237533241&4294967295,x=L+(P<<21&4294967295|P>>>11),P=R+(L^(x|~B))+M[12]+1700485571&4294967295,R=x+(P<<6&4294967295|P>>>26),P=B+(x^(R|~L))+M[3]+2399980690&4294967295,B=R+(P<<10&4294967295|P>>>22),P=L+(R^(B|~x))+M[10]+4293915773&4294967295,L=B+(P<<15&4294967295|P>>>17),P=x+(B^(L|~R))+M[1]+2240044497&4294967295,x=L+(P<<21&4294967295|P>>>11),P=R+(L^(x|~B))+M[8]+1873313359&4294967295,R=x+(P<<6&4294967295|P>>>26),P=B+(x^(R|~L))+M[15]+4264355552&4294967295,B=R+(P<<10&4294967295|P>>>22),P=L+(R^(B|~x))+M[6]+2734768916&4294967295,L=B+(P<<15&4294967295|P>>>17),P=x+(B^(L|~R))+M[13]+1309151649&4294967295,x=L+(P<<21&4294967295|P>>>11),P=R+(L^(x|~B))+M[4]+4149444226&4294967295,R=x+(P<<6&4294967295|P>>>26),P=B+(x^(R|~L))+M[11]+3174756917&4294967295,B=R+(P<<10&4294967295|P>>>22),P=L+(R^(B|~x))+M[2]+718787259&4294967295,L=B+(P<<15&4294967295|P>>>17),P=x+(B^(L|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+B&4294967295}i.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var x=R-this.blockSize,M=this.B,L=this.h,B=0;B<R;){if(L==0)for(;B<=x;)a(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<R;)if(M[L++]=D.charCodeAt(B++),L==this.blockSize){a(this,M),L=0;break}}else for(;B<R;)if(M[L++]=D[B++],L==this.blockSize){a(this,M),L=0;break}}this.h=L,this.o+=R},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var x=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=x&255,x/=256;for(this.u(D),D=Array(16),R=x=0;4>R;++R)for(var M=0;32>M;M+=8)D[x++]=this.g[R]>>>M&255;return D};function l(D,R){var x=f;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=R(D)}function c(D,R){this.h=R;for(var x=[],M=!0,L=D.length-1;0<=L;L--){var B=D[L]|0;M&&B==R||(x[L]=B,M=!1)}this.g=x}var f={};function m(D){return-128<=D&&128>D?l(D,function(R){return new c([R|0],0>R?-1:0)}):new c([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return k(p(-D));for(var R=[],x=1,M=0;D>=x;M++)R[M]=D/x|0,x*=4294967296;return new c(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return k(y(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(R,8)),M=_,L=0;L<D.length;L+=8){var B=Math.min(8,D.length-L),P=parseInt(D.substring(L,L+B),R);8>B?(B=p(Math.pow(R,B)),M=M.j(B).add(p(P))):(M=M.j(x),M=M.add(p(P)))}return M}var _=m(0),w=m(1),A=m(16777216);e=c.prototype,e.m=function(){if(j(this))return-k(this).m();for(var D=0,R=1,x=0;x<this.g.length;x++){var M=this.i(x);D+=(0<=M?M:4294967296+M)*R,R*=4294967296}return D},e.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(j(this))return"-"+k(this).toString(D);for(var R=p(Math.pow(D,6)),x=this,M="";;){var L=lt(x,R).g;x=H(x,L.j(R));var B=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=L,I(x))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},e.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function j(D){return D.h==-1}e.l=function(D){return D=H(this,D),j(D)?-1:I(D)?0:1};function k(D){for(var R=D.g.length,x=[],M=0;M<R;M++)x[M]=~D.g[M];return new c(x,~D.h).add(w)}e.abs=function(){return j(this)?k(this):this},e.add=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],M=0,L=0;L<=R;L++){var B=M+(this.i(L)&65535)+(D.i(L)&65535),P=(B>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);M=P>>>16,B&=65535,P&=65535,x[L]=P<<16|B}return new c(x,x[x.length-1]&-2147483648?-1:0)};function H(D,R){return D.add(k(R))}e.j=function(D){if(I(this)||I(D))return _;if(j(this))return j(D)?k(this).j(k(D)):k(k(this).j(D));if(j(D))return k(this.j(k(D)));if(0>this.l(A)&&0>D.l(A))return p(this.m()*D.m());for(var R=this.g.length+D.g.length,x=[],M=0;M<2*R;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<D.g.length;L++){var B=this.i(M)>>>16,P=this.i(M)&65535,ce=D.i(L)>>>16,Lt=D.i(L)&65535;x[2*M+2*L]+=P*Lt,F(x,2*M+2*L),x[2*M+2*L+1]+=B*Lt,F(x,2*M+2*L+1),x[2*M+2*L+1]+=P*ce,F(x,2*M+2*L+1),x[2*M+2*L+2]+=B*ce,F(x,2*M+2*L+2)}for(M=0;M<R;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=R;M<2*R;M++)x[M]=0;return new c(x,0)};function F(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function $(D,R){this.g=D,this.h=R}function lt(D,R){if(I(R))throw Error("division by zero");if(I(D))return new $(_,_);if(j(D))return R=lt(k(D),R),new $(k(R.g),k(R.h));if(j(R))return R=lt(D,k(R)),new $(k(R.g),R.h);if(30<D.g.length){if(j(D)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var x=w,M=R;0>=M.l(D);)x=it(x),M=it(M);var L=at(x,1),B=at(M,1);for(M=at(M,2),x=at(x,2);!I(M);){var P=B.add(M);0>=P.l(D)&&(L=L.add(x),B=P),M=at(M,1),x=at(x,1)}return R=H(D,L.j(R)),new $(L,R)}for(L=_;0<=D.l(R);){for(x=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=p(x),P=B.j(R);j(P)||0<P.l(D);)x-=M,B=p(x),P=B.j(R);I(B)&&(B=w),L=L.add(B),D=H(D,P)}return new $(L,D)}e.A=function(D){return lt(this,D).h},e.and=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)&D.i(M);return new c(x,this.h&D.h)},e.or=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)|D.i(M);return new c(x,this.h|D.h)},e.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)^D.i(M);return new c(x,this.h^D.h)};function it(D){for(var R=D.g.length+1,x=[],M=0;M<R;M++)x[M]=D.i(M)<<1|D.i(M-1)>>>31;return new c(x,D.h)}function at(D,R){var x=R>>5;R%=32;for(var M=D.g.length-x,L=[],B=0;B<M;B++)L[B]=0<R?D.i(B+x)>>>R|D.i(B+x+1)<<32-R:D.i(B+x);return new c(L,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qR=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Ts=c}).apply(typeof Ob<"u"?Ob:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HR,Hu,GR,zf,vy,YR,$R,KR;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,v){if(v)t:{var T=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in T))break t;T=T[q]}h=h[h.length-1],S=T[h],v=v(S),v!=S&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,S=!1,q={next:function(){if(!S&&T<h.length){var X=T++;return{value:v(X,h[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),h.apply(v,q)}}return function(){return h.apply(v,arguments)}}function w(h,v,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,w.apply(null,arguments)}function A(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function I(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(S,q,X){for(var ut=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ut[Ut-2]=arguments[Ut];return v.prototype[q].apply(S,ut)}}function j(h){const v=h.length;if(0<v){const T=Array(v);for(let S=0;S<v;S++)T[S]=h[S];return T}return[]}function k(h,v){for(let T=1;T<arguments.length;T++){const S=arguments[T];if(m(S)){const q=h.length||0,X=S.length||0;h.length=q+X;for(let ut=0;ut<X;ut++)h[q+ut]=S[ut]}else h.push(S)}}class H{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function lt(h){return lt[" "](h),h}lt[" "]=function(){};var it=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function at(h,v,T){for(const S in h)v.call(T,h[S],S,h)}function D(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let T,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(T in S)h[T]=S[T];for(let X=0;X<x.length;X++)T=x[X],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function L(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function B(h){f.setTimeout(()=>{throw h},0)}function P(){var h=xt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ce{constructor(){this.h=this.g=null}add(v,T){const S=Lt.get();S.set(v,T),this.h?this.h.next=S:this.g=S,this.h=S}}var Lt=new H(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ft=!1,xt=new ce,V=()=>{const h=f.Promise.resolve(void 0);st=()=>{h.then(rt)}};var rt=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(T){B(T)}var v=Lt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ft=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var yt=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h})();function Dt(h,v){if(ot.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(it){t:{try{lt(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:At[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}I(Dt,ot);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),re=0;function gi(h,v,T,S,q){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!S,this.ha=q,this.key=++re,this.da=this.fa=!1}function Pr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function $i(h){this.src=h,this.g={},this.h=0}$i.prototype.add=function(h,v,T,S,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ut=js(h,v,S,q);return-1<ut?(v=h[ut],T||(v.fa=!1)):(v=new gi(v,this.src,X,!!S,q),v.fa=T,h.push(v)),v};function Us(h,v){var T=v.type;if(T in h.g){var S=h.g[T],q=Array.prototype.indexOf.call(S,v,void 0),X;(X=0<=q)&&Array.prototype.splice.call(S,q,1),X&&(Pr(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function js(h,v,T,S){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==S)return q}return-1}var Bs="closure_lm_"+(1e6*Math.random()|0),xl={};function Kc(h,v,T,S,q){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Kc(h,v[X],T,S,q);return null}return T=Qc(T),h&&h[ze]?h.K(v,T,p(S)?!!S.capture:!1,q):Bn(h,v,T,!1,S,q)}function Bn(h,v,T,S,q,X){if(!v)throw Error("Invalid event type");var ut=p(q)?!!q.capture:!!q,Ut=$a(h);if(Ut||(h[Bs]=Ut=new $i(h)),T=Ut.add(v,T,S,ut,X),T.proxy)return T;if(S=tm(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)yt||(q=ut),q===void 0&&(q=!1),h.addEventListener(v.toString(),S,q);else if(h.attachEvent)h.attachEvent(zs(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function tm(){function h(T){return v.call(h.src,h.listener,T)}const v=em;return h}function Cl(h,v,T,S,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)Cl(h,v[X],T,S,q);else S=p(S)?!!S.capture:!!S,T=Qc(T),h&&h[ze]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],T=js(X,T,S,q),-1<T&&(Pr(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=$a(h))&&(v=h.g[v.toString()],h=-1,v&&(h=js(v,T,S,q)),(T=-1<h?v[h]:null)&&Ya(T))}function Ya(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ze])Us(v.i,h);else{var T=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(T,S,h.capture):v.detachEvent?v.detachEvent(zs(T),S):v.addListener&&v.removeListener&&v.removeListener(S),(T=$a(v))?(Us(T,h),T.h==0&&(T.src=null,v[Bs]=null)):Pr(h)}}}function zs(h){return h in xl?xl[h]:xl[h]="on"+h}function em(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var T=h.listener,S=h.ha||h.src;h.fa&&Ya(h),h=T.call(S,v)}return h}function $a(h){return h=h[Bs],h instanceof $i?h:null}var Il="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qc(h){return typeof h=="function"?h:(h[Il]||(h[Il]=function(v){return h.handleEvent(v)}),h[Il])}function pe(){ht.call(this),this.i=new $i(this),this.M=this,this.F=null}I(pe,ht),pe.prototype[ze]=!0,pe.prototype.removeEventListener=function(h,v,T,S){Cl(this,h,v,T,S)};function Kt(h,v){var T,S=h.F;if(S)for(T=[];S;S=S.F)T.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new ot(v,h);else if(v instanceof ot)v.target=v.target||h;else{var q=v;v=new ot(S,h),M(v,q)}if(q=!0,T)for(var X=T.length-1;0<=X;X--){var ut=v.g=T[X];q=Rn(ut,S,!0,v)&&q}if(ut=v.g=h,q=Rn(ut,S,!0,v)&&q,q=Rn(ut,S,!1,v)&&q,T)for(X=0;X<T.length;X++)ut=v.g=T[X],q=Rn(ut,S,!1,v)&&q}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],S=0;S<T.length;S++)Pr(T[S]);delete h.g[v],h.h--}}this.F=null},pe.prototype.K=function(h,v,T,S){return this.i.add(String(h),v,!1,T,S)},pe.prototype.L=function(h,v,T,S){return this.i.add(String(h),v,!0,T,S)};function Rn(h,v,T,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,X=0;X<v.length;++X){var ut=v[X];if(ut&&!ut.da&&ut.capture==T){var Ut=ut.listener,ke=ut.ha||ut.src;ut.fa&&Us(h.i,ut),q=Ut.call(ke,S)!==!1&&q}}return q&&!S.defaultPrevented}function sn(h,v,T){if(typeof h=="function")T&&(h=w(h,T));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Xc(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,Xc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class nm extends ht{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(h){ht.call(this),this.h=h,this.g={}}I(Fs,ht);var qs=[];function Hs(h){at(h.g,function(v,T){this.g.hasOwnProperty(T)&&Ya(v)},h),h.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),Hs(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=f.JSON.stringify,Ka=f.JSON.parse,Gs=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Dl(){}Dl.prototype.h=null;function Nl(h){return h.h||(h.h=h.i())}function Ml(){}var Ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qi(){ot.call(this,"d")}I(Qi,ot);function Pl(){ot.call(this,"c")}I(Pl,ot);var yi={},Ol=null;function Or(){return Ol=Ol||new pe}yi.La="serverreachability";function Qa(h){ot.call(this,yi.La,h)}I(Qa,ot);function Vr(h){const v=Or();Kt(v,new Qa(v))}yi.STAT_EVENT="statevent";function Wc(h,v){ot.call(this,yi.STAT_EVENT,h),this.stat=v}I(Wc,ot);function oe(h){const v=Or();Kt(v,new Wc(v,h))}yi.Ma="timingevent";function Ve(h,v){ot.call(this,yi.Ma,h),this.size=v}I(Ve,ot);function xe(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function Vl(h,v,T,S,q,X){h.info(function(){if(h.g)if(X)for(var ut="",Ut=X.split("&"),ke=0;ke<Ut.length;ke++){var jt=Ut[ke].split("=");if(1<jt.length){var qe=jt[0];jt=jt[1];var Le=qe.split("_");ut=2<=Le.length&&Le[1]=="type"?ut+(qe+"="+jt+"&"):ut+(qe+"=redacted&")}}else ut=null;else ut=X;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+T+`
`+ut})}function im(h,v,T,S,q,X,ut){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+T+`
`+X+" "+ut})}function kr(h,v,T,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ys(h,T)+(S?" "+S:"")})}function Zc(h,v){h.info(function(){return"TIMEOUT: "+v})}zn.prototype.info=function(){};function Ys(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var S=T[h];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ut=1;ut<q.length;ut++)q[ut]=""}}}}return ii(T)}catch{return v}}var Lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function _i(){}I(_i,Dl),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},vi=new _i;function dn(h,v,T,S){this.j=h,this.i=v,this.l=T,this.R=S||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var kl={},Xa={};function ri(h,v,T){h.L=1,h.v=Ws(xn(v)),h.m=T,h.P=!0,Wi(h,null)}function Wi(h,v){h.F=Date.now(),$s(h),h.A=xn(h.v);var T=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Fl(T.i,"t",S),h.C=0,T=h.j.J,h.h=new Ee,h.g=mh(h.j,T?v:null,!h.m),0<h.O&&(h.M=new nm(w(h.Y,h,h.g),h.O)),v=h.U,T=h.g,S=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(qs[0]=q.toString()),q=qs);for(var X=0;X<q.length;X++){var ut=Kc(T,q[X],S||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Vr(),Vl(h.i,h.u,h.A,h.l,h.R,h.m)}dn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Gn(h)==3?v.j():this.Y(h)},dn.prototype.Y=function(h){try{if(h==this.g)t:{const Le=Gn(this.g);var v=this.g.Ba();const sr=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||ah(this.g)))){this.J||Le!=4||v==7||(v==8||0>=sr?Vr(3):Vr(2)),Ur(this);var T=this.g.Z();this.X=T;e:if(Jc(this)){var S=ah(this.g);h="";var q=S.length,X=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qe(this),Ti(this);var ut="";break e}this.h.i=new f.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(X&&v==q-1)});S.length=0,this.h.g+=h,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=T==200,im(this.i,this.u,this.A,this.l,this.R,Le,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,ke=this.g;if((Ut=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ut)){var jt=Ut;break e}}jt=null}if(T=jt)kr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,T);else{this.o=!1,this.s=3,oe(12),Qe(this),Ti(this);break t}}if(this.P){T=!0;let Xe;for(;!this.J&&this.C<ut.length;)if(Xe=th(this,ut),Xe==Xa){Le==4&&(this.s=4,oe(14),T=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==kl){this.s=4,oe(15),kr(this.i,this.l,ut,"[Invalid Chunk]"),T=!1;break}else kr(this.i,this.l,Xe,null),Ks(this,Xe);if(Jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||ut.length!=0||this.h.h||(this.s=1,oe(16),T=!1),this.o=this.o&&T,!T)kr(this.i,this.l,ut,"[Invalid Chunked Response]"),Qe(this),Ti(this);else if(0<ut.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),sa(qe),qe.M=!0,oe(11))}}else kr(this.i,this.l,ut,null),Ks(this,ut);Le==4&&Qe(this),this.o&&!this.J&&(Le==4?hh(this.j,this):(this.o=!1,$s(this)))}else lm(this.g),T==400&&0<ut.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),Qe(this),Ti(this)}}}catch{}finally{}};function Jc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function th(h,v){var T=h.C,S=v.indexOf(`
`,T);return S==-1?Xa:(T=Number(v.substring(T,S)),isNaN(T)?kl:(S+=1,S+T>v.length?Xa:(v=v.slice(S,S+T),h.C=S+T,v)))}dn.prototype.cancel=function(){this.J=!0,Qe(this)};function $s(h){h.S=Date.now()+h.I,eh(h,h.I)}function eh(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=xe(w(h.ba,h),v)}function Ur(h){h.B&&(f.clearTimeout(h.B),h.B=null)}dn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Zc(this.i,this.A),this.L!=2&&(Vr(),oe(17)),Qe(this),this.s=2,Ti(this)):eh(this,this.S-h)};function Ti(h){h.j.G==0||h.J||hh(h.j,h)}function Qe(h){Ur(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Hs(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ks(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||Ll(T.h,h))){if(!h.K&&Ll(T.h,h)&&T.G==3){try{var S=T.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)lo(T),ao(T);else break t;$l(T),oe(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=xe(w(T.Za,T),6e3));if(1>=Za(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else rr(T,11)}else if((h.K||T.g==h)&&lo(T),!F(v))for(q=T.Da.g.parse(v),v=0;v<q.length;v++){let jt=q[v];if(T.T=jt[0],jt=jt[1],T.G==2)if(jt[0]=="c"){T.K=jt[1],T.ia=jt[2];const qe=jt[3];qe!=null&&(T.la=qe,T.j.info("VER="+T.la));const Le=jt[4];Le!=null&&(T.Aa=Le,T.j.info("SVER="+T.Aa));const sr=jt[5];sr!=null&&typeof sr=="number"&&0<sr&&(S=1.5*sr,T.L=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const Xe=h.g;if(Xe){const xi=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var X=S.h;X.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ja(X,X.h),X.h=null))}if(S.D){const Ql=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(S.ya=Ql,Zt(S.I,S.D,Ql))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),S=T;var ut=h;if(S.qa=dh(S,S.J?S.ia:null,S.W),ut.K){mn(S.h,ut);var Ut=ut,ke=S.L;ke&&(Ut.I=ke),Ut.B&&(Ur(Ut),$s(Ut)),S.g=ut}else uh(S);0<T.i.length&&oo(T)}else jt[0]!="stop"&&jt[0]!="close"||rr(T,7);else T.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?rr(T,7):Gl(T):jt[0]!="noop"&&T.l&&T.l.ta(jt),T.v=0)}}Vr(4)}catch{}}var nh=class{constructor(h,v){this.g=h,this.map=v}};function Zi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Za(h){return h.h?1:h.g?h.g.size:0}function Ll(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ja(h,v){h.g?h.g.add(v):h.h=v}function mn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Zi.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ul(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return j(h.i)}function rm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,S=0;S<T;S++)v.push(h[S]);return v}v=[],T=0;for(S in h)v[T++]=h[S];return v}function to(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const S in h)v[T++]=S;return v}}}function jl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=to(h),S=rm(h),q=S.length,X=0;X<q;X++)v.call(void 0,S[X],T&&T[X],h)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sm(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var S=h[T].indexOf("="),q=null;if(0<=S){var X=h[T].substring(0,S);q=h[T].substring(S+1)}else X=h[T];v(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ce(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ce){this.h=h.h,Xs(this,h.j),this.o=h.o,this.g=h.g,jr(this,h.s),this.l=h.l;var v=h.i,T=new tr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Ji(this,T),this.m=h.m}else h&&(v=String(h).match(Qs))?(this.h=!1,Xs(this,v[1]||"",!0),this.o=Fn(v[2]||""),this.g=Fn(v[3]||"",!0),jr(this,v[4]),this.l=Fn(v[5]||"",!0),Ji(this,v[6]||"",!0),this.m=Fn(v[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Ce.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Zs(v,Bl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Zs(v,Bl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Zs(T,T.charAt(0)=="/"?am:zl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Zs(T,eo)),h.join("")};function xn(h){return new Ce(h)}function Xs(h,v,T){h.j=T?Fn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function jr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ji(h,v,T){v instanceof tr?(h.i=v,rh(h.i,h.h)):(T||(v=Zs(v,om)),h.i=new tr(v,h.h))}function Zt(h,v,T){h.i.set(v,T)}function Ws(h){return Zt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Fn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Zs(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,ih),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ih(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Bl=/[#\/\?@]/g,zl=/[#\?:]/g,am=/[#\?]/g,om=/[#\?@]/g,eo=/#/g;function tr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function qn(h){h.g||(h.g=new Map,h.h=0,h.i&&sm(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=tr.prototype,e.add=function(h,v){qn(this),this.i=null,h=Ei(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function er(h,v){qn(h),v=Ei(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function nr(h,v){return qn(h),v=Ei(h,v),h.g.has(v)}e.forEach=function(h,v){qn(this),this.g.forEach(function(T,S){T.forEach(function(q){h.call(v,q,S,this)},this)},this)},e.na=function(){qn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let S=0;S<v.length;S++){const q=h[S];for(let X=0;X<q.length;X++)T.push(v[S])}return T},e.V=function(h){qn(this);let v=[];if(typeof h=="string")nr(this,h)&&(v=v.concat(this.g.get(Ei(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return qn(this),this.i=null,h=Ei(this,h),nr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Fl(h,v,T){er(h,v),0<T.length&&(h.i=null,h.g.set(Ei(h,v),j(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var S=v[T];const X=encodeURIComponent(String(S)),ut=this.V(S);for(S=0;S<ut.length;S++){var q=X;ut[S]!==""&&(q+="="+encodeURIComponent(String(ut[S]))),h.push(q)}}return this.i=h.join("&")};function Ei(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function rh(h,v){v&&!h.j&&(qn(h),h.i=null,h.g.forEach(function(T,S){var q=S.toLowerCase();S!=q&&(er(this,S),Fl(this,q,T))},h)),h.j=v}function Js(h,v){const T=new zn;if(f.Image){const S=new Image;S.onload=A(Hn,T,"TestLoadImage: loaded",!0,v,S),S.onerror=A(Hn,T,"TestLoadImage: error",!1,v,S),S.onabort=A(Hn,T,"TestLoadImage: abort",!1,v,S),S.ontimeout=A(Hn,T,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function si(h,v){const T=new zn,S=new AbortController,q=setTimeout(()=>{S.abort(),Hn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(X=>{clearTimeout(q),X.ok?Hn(T,"TestPingServer: ok",!0,v):Hn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Hn(T,"TestPingServer: error",!1,v)})}function Hn(h,v,T,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(T)}catch{}}function ta(){this.g=new Gs}function wi(h,v,T){const S=T||"";try{jl(h,function(q,X){let ut=q;p(q)&&(ut=ii(q)),v.push(S+X+"="+encodeURIComponent(ut))})}catch(q){throw v.push(S+"type="+encodeURIComponent("_badmap")),q}}function Br(h){this.l=h.Ub||null,this.j=h.eb||!1}I(Br,Dl),Br.prototype.g=function(){return new ir(this.l,this.j)},Br.prototype.i=(function(h){return function(){return h}})({});function ir(h,v){pe.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ir,pe),e=ir.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Si(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?bi(this):Si(this),this.readyState==3&&ql(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,bi(this))},e.Qa=function(h){this.g&&(this.response=h,bi(this))},e.ga=function(){this.g&&bi(this)};function bi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Si(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hl(h){let v="";return at(h,function(T,S){v+=S,v+=":",v+=T,v+=`\r
`}),v}function Fe(h,v,T){t:{for(S in T){var S=!1;break t}S=!0}S||(T=Hl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Zt(h,v,T))}function Yt(h){pe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Yt,pe);var no=/^https?$/i,ea=["POST","PUT"];e=Yt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?Nl(this.o):Nl(vi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){sh(this,X);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)T.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())T.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ea,v,void 0))||S||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of T)this.g.setRequestHeader(X,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{na(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){sh(this,X)}};function sh(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,io(h),Ai(h)}function io(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),Ai(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Yt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ro(this):this.bb())},e.bb=function(){ro(this)};function ro(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Gn(h)!=4||h.Z()!=2)){if(h.u&&Gn(h)==4)sn(h.Ea,0,h);else if(Kt(h,"readystatechange"),Gn(h)==4){h.h=!1;try{const ut=h.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var S;if(S=ut===0){var q=String(h.D).match(Qs)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),S=!no.test(q?q.toLowerCase():"")}T=S}if(T)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var X=2<Gn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",io(h)}}finally{Ai(h)}}}}function Ai(h,v){if(h.g){na(h);const T=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Kt(h,"ready");try{T.onreadystatechange=S}catch{}}}function na(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Gn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ka(v)}};function ah(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function lm(h){const v={};h=(h.g&&2<=Gn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(F(h[S]))continue;var T=L(h[S]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[q]||[];v[q]=X,X.push(T)}D(v,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function so(h){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,h),this.cb=ia("retryDelaySeedMs",1e4,h),this.Wa=ia("forwardChannelMaxRetries",2,h),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Zi(h&&h.concurrentRequestLimit),this.Da=new ta,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=so.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,S){oe(0),this.W=h,this.H=v||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.I=dh(this,null,this.W),oo(this)};function Gl(h){if(oh(h),h.G==3){var v=h.U++,T=xn(h.I);if(Zt(T,"SID",h.K),Zt(T,"RID",v),Zt(T,"TYPE","terminate"),ra(h,T),v=new dn(h,h.j,v),v.L=2,v.v=Ws(xn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=mh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),$s(v)}fh(h)}function ao(h){h.g&&(sa(h),h.g.cancel(),h.g=null)}function oh(h){ao(h),h.u&&(f.clearTimeout(h.u),h.u=null),lo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function oo(h){if(!Wa(h.h)&&!h.s){h.s=!0;var v=h.Ga;st||V(),ft||(st(),ft=!0),xt.add(v,h),h.B=0}}function um(h,v){return Za(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=xe(w(h.Ga,h,v),Kl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new dn(this,this.j,h);let X=this.o;if(this.S&&(X?(X=R(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=lh(this,q,v),T=xn(this.I),Zt(T,"RID",h),Zt(T,"CVER",22),this.D&&Zt(T,"X-HTTP-Session-Id",this.D),ra(this,T),X&&(this.O?v="headers="+encodeURIComponent(String(Hl(X)))+"&"+v:this.m&&Fe(T,this.m,X)),Ja(this.h,q),this.Ua&&Zt(T,"TYPE","init"),this.P?(Zt(T,"$req",v),Zt(T,"SID","null"),q.T=!0,ri(q,T,null)):ri(q,T,v),this.G=2}}else this.G==3&&(h?Yl(this,h):this.i.length==0||Wa(this.h)||Yl(this))};function Yl(h,v){var T;v?T=v.l:T=h.U++;const S=xn(h.I);Zt(S,"SID",h.K),Zt(S,"RID",T),Zt(S,"AID",h.T),ra(h,S),h.m&&h.o&&Fe(S,h.m,h.o),T=new dn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=lh(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ja(h.h,T),ri(T,S,v)}function ra(h,v){h.H&&at(h.H,function(T,S){Zt(v,S,T)}),h.l&&jl({},function(T,S){Zt(v,S,T)})}function lh(h,v,T){T=Math.min(h.i.length,T);var S=h.l?w(h.l.Na,h.l,h):null;t:{var q=h.i;let X=-1;for(;;){const ut=["count="+T];X==-1?0<T?(X=q[0].g,ut.push("ofs="+X)):X=0:ut.push("ofs="+X);let Ut=!0;for(let ke=0;ke<T;ke++){let jt=q[ke].g;const qe=q[ke].map;if(jt-=X,0>jt)X=Math.max(0,q[ke].g-100),Ut=!1;else try{wi(qe,ut,"req"+jt+"_")}catch{S&&S(qe)}}if(Ut){S=ut.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,S}function uh(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;st||V(),ft||(st(),ft=!0),xt.add(v,h),h.v=0}}function $l(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=xe(w(h.Fa,h),Kl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,ch(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=xe(w(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),ao(this),ch(this))};function sa(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function ch(h){h.g=new dn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=xn(h.qa);Zt(v,"RID","rpc"),Zt(v,"SID",h.K),Zt(v,"AID",h.T),Zt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Zt(v,"TO",h.ja),Zt(v,"TYPE","xmlhttp"),ra(h,v),h.m&&h.o&&Fe(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Ws(xn(v)),T.m=null,T.P=!0,Wi(T,h)}e.Za=function(){this.C!=null&&(this.C=null,ao(this),$l(this),oe(19))};function lo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function hh(h,v){var T=null;if(h.g==v){lo(h),sa(h),h.g=null;var S=2}else if(Ll(h.h,v))T=v.D,mn(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var q=h.B;S=Or(),Kt(S,new Ve(S,T)),oo(h)}else uh(h);else if(q=v.s,q==3||q==0&&0<v.X||!(S==1&&um(h,v)||S==2&&$l(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),q){case 1:rr(h,5);break;case 4:rr(h,10);break;case 3:rr(h,6);break;default:rr(h,2)}}}function Kl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function rr(h,v){if(h.j.info("Error code "+v),v==2){var T=w(h.fb,h),S=h.Xa;const q=!S;S=new Ce(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xs(S,"https"),Ws(S),q?Js(S.toString(),T):si(S.toString(),T)}else oe(2);h.G=0,h.l&&h.l.sa(v),fh(h),oh(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function fh(h){if(h.G=0,h.ka=[],h.l){const v=Ul(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.ra()}}function dh(h,v,T){var S=T instanceof Ce?xn(T):new Ce(T);if(S.g!="")v&&(S.g=v+"."+S.g),jr(S,S.s);else{var q=f.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var X=new Ce(null);S&&Xs(X,S),v&&(X.g=v),q&&jr(X,q),T&&(X.l=T),S=X}return T=h.D,v=h.ya,T&&v&&Zt(S,T,v),Zt(S,"VER",h.la),ra(h,S),S}function mh(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Yt(new Br({eb:T})):new Yt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ph(){}e=ph.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function uo(){}uo.prototype.g=function(h,v){return new pn(h,v)};function pn(h,v){pe.call(this),this.g=new so(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!F(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ri(this)}I(pn,pe),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gl(this.g)},pn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=ii(h),h=T);v.i.push(new nh(v.Ya++,h)),v.G==3&&oo(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,pn.aa.N.call(this)};function gh(h){Qi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I(gh,Qi);function yh(){Pl.call(this),this.status=1}I(yh,Pl);function Ri(h){this.g=h}I(Ri,ph),Ri.prototype.ua=function(){Kt(this.g,"a")},Ri.prototype.ta=function(h){Kt(this.g,new gh(h))},Ri.prototype.sa=function(h){Kt(this.g,new yh)},Ri.prototype.ra=function(){Kt(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,KR=function(){return new uo},$R=function(){return Or()},YR=yi,vy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,zf=Lr,Xi.COMPLETE="complete",GR=Xi,Ml.EventType=Ki,Ki.OPEN="a",Ki.CLOSE="b",Ki.ERROR="c",Ki.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Hu=Ml,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,HR=Yt}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const Vb="@firebase/firestore",kb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new wv("@firebase/firestore");function Bo(){return La.logLevel}function dt(e,...t){if(La.logLevel<=Ot.DEBUG){const n=t.map(Pv);La.debug(`Firestore (${wl}): ${e}`,...n)}}function Dr(e,...t){if(La.logLevel<=Ot.ERROR){const n=t.map(Pv);La.error(`Firestore (${wl}): ${e}`,...n)}}function ll(e,...t){if(La.logLevel<=Ot.WARN){const n=t.map(Pv);La.warn(`Firestore (${wl}): ${e}`,...n)}}function Pv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,QR(e,i,n)}function QR(e,t,n){let i=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Dr(i),new Error(i)}function qt(e,t,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,e||QR(t,a,i)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Mr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class m3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class p3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class g3{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ji,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ji)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qt(typeof i.accessToken=="string",31837,{l:i}),new XR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class y3{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v3{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new y3(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _3{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const i=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=T3(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=t.charAt(a[l]%62))}return i}}function Vt(e,t){return e<t?-1:e>t?1:0}function _y(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=e.charAt(i),l=t.charAt(i);if(a!==l)return Dg(a)===Dg(l)?Vt(a,l):Dg(a)?1:-1}return Vt(e.length,t.length)}const E3=55296,w3=57343;function Dg(e){const t=e.charCodeAt(0);return t>=E3&&t<=w3}function ul(e,t,n){return e.length===t.length&&e.every(((i,a)=>n(i,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="__name__";class Pi{constructor(t,n,i){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&vt(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const l=Pi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Vt(t.length,n.length)}static compareSegments(t,n){const i=Pi.isNumericId(t),a=Pi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Pi.extractNumericId(t).compare(Pi.extractNumericId(n)):_y(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ts.fromString(t.substring(4,t.length-2))}}class ne extends Pi{construct(t,n,i){return new ne(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const b3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Pi{construct(t,n,i){return new nn(t,n,i)}static isValidIdentifier(t){return b3.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ub}static keyField(){return new nn([Ub])}static fromServerFormat(t){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ne.fromString(t))}static fromName(t){return new gt(ne.fromString(t).popFirst(5))}static empty(){return new gt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(e,t,n){if(!n)throw new ct(J.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function S3(e,t,n,i){if(t===!0&&i===!0)throw new ct(J.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jb(e){if(!gt.isDocumentKey(e))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Bb(e){if(gt.isDocumentKey(e))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ZR(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Pd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":vt(12329,{type:typeof e})}function di(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pd(e);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(e,t){const n={typeString:e};return t&&(n.value=t),n}function jc(e,t){if(!ZR(e))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const c=e[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ct(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=-62135596800,Fb=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Fb);return new ae(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<zb)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fb}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jc(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-zb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Oe("string",ae._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ae(0,0))}static max(){return new Et(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function A3(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=Et.fromTimestamp(i===1e9?new ae(n+1,0):new ae(n,i));return new As(a,gt.empty(),t)}function R3(e){return new As(e.readTime,e.key,gc)}class As{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new As(Et.min(),gt.empty(),gc)}static max(){return new As(Et.max(),gt.empty(),gc)}}function x3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:Vt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(e){if(e.code!==J.FAILED_PRECONDITION||e.message!==C3)throw e;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,i)=>{n(t)}))}static reject(t){return new nt(((n,i)=>{i(t)}))}static waitFor(t){return new nt(((n,i)=>{let a=0,l=0,c=!1;t.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(t){let n=nt.resolve(!1);for(const i of t)n=n.next((a=>a?nt.resolve(a):i()));return n}static forEach(t,n){const i=[];return t.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(t,n){return new nt(((i,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++f,f===l&&i(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new nt(((i,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):i()};l()}))}}function D3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Od.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=-1;function Bc(e){return e==null}function ld(e){return e===0&&1/e==-1/0}function N3(e){return typeof e=="number"&&Number.isInteger(e)&&!ld(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="";function M3(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=qb(t)),t=P3(e.get(n),t);return qb(t)}function P3(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case JR:n+="";break;default:n+=l}}return n}function qb(e){return e+JR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rf(this.root,t,this.comparator,!0)}}class Rf{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?i(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,i,a,l){this.key=t,this.value=n,this.color=i??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,l){return new en(t??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return en.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,i,a,l){return this}insert(t,n,i){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(t){return new Gb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Be(this.comparator);return n.data=t,n}}class Gb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new kn([])}unionWith(t){let n=new Be(nn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ul(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ex("Invalid base64 string: "+l):l}})(t);return new rn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new rn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const O3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(e){if(qt(!!e,39018),typeof e=="string"){let t=0;const n=O3.exec(e);if(qt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ae(e.seconds),nanos:Ae(e.nanos)}}function Ae(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xs(e){return typeof e=="string"?rn.fromBase64String(e):rn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="server_timestamp",ix="__type__",rx="__previous_value__",sx="__local_write_time__";function kv(e){return(e?.mapValue?.fields||{})[ix]?.stringValue===nx}function Vd(e){const t=e.mapValue.fields[rx];return kv(t)?Vd(t):t}function yc(e){const t=Rs(e.mapValue.fields[sx].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t,n,i,a,l,c,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const ud="(default)";class vc{constructor(t,n){this.projectId=t,this.database=n||ud}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===ud}isEqual(t){return t instanceof vc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="__type__",k3="__max__",xf={mapValue:{}},ox="__vector__",cd="value";function Cs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kv(e)?4:U3(e)?9007199254740991:L3(e)?10:11:vt(28295,{value:e})}function Hi(e,t){if(e===t)return!0;const n=Cs(e);if(n!==Cs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yc(e).isEqual(yc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Rs(a.timestampValue),f=Rs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return xs(a.bytesValue).isEqual(xs(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ae(a.geoPointValue.latitude)===Ae(l.geoPointValue.latitude)&&Ae(a.geoPointValue.longitude)===Ae(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ae(a.integerValue)===Ae(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ae(a.doubleValue),f=Ae(l.doubleValue);return c===f?ld(c)===ld(f):isNaN(c)&&isNaN(f)}return!1})(e,t);case 9:return ul(e.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Hb(c)!==Hb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Hi(c[m],f[m])))return!1;return!0})(e,t);default:return vt(52216,{left:e})}}function _c(e,t){return(e.values||[]).find((n=>Hi(n,t)))!==void 0}function cl(e,t){if(e===t)return 0;const n=Cs(e),i=Cs(t);if(n!==i)return Vt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const f=Ae(l.integerValue||l.doubleValue),m=Ae(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(e,t);case 3:return Yb(e.timestampValue,t.timestampValue);case 4:return Yb(yc(e),yc(t));case 5:return _y(e.stringValue,t.stringValue);case 6:return(function(l,c){const f=xs(l),m=xs(c);return f.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Vt(f[p],m[p]);if(y!==0)return y}return Vt(f.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const f=Vt(Ae(l.latitude),Ae(c.latitude));return f!==0?f:Vt(Ae(l.longitude),Ae(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return $b(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[cd]?.arrayValue,y=m[cd]?.arrayValue,_=Vt(p?.values?.length||0,y?.values?.length||0);return _!==0?_:$b(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===xf.mapValue&&c===xf.mapValue)return 0;if(l===xf.mapValue)return 1;if(c===xf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const w=_y(m[_],y[_]);if(w!==0)return w;const A=cl(f[m[_]],p[y[_]]);if(A!==0)return A}return Vt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function Yb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Vt(e,t);const n=Rs(e),i=Rs(t),a=Vt(n.seconds,i.seconds);return a!==0?a:Vt(n.nanos,i.nanos)}function $b(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=cl(n[a],i[a]);if(l)return l}return Vt(n.length,i.length)}function hl(e){return Ty(e)}function Ty(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const i=Rs(n);return`time(${i.seconds},${i.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return xs(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return gt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Ty(l);return i+"]"})(e.arrayValue):"mapValue"in e?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ty(n.fields[c])}`;return a+"}"})(e.mapValue):vt(61005,{value:e})}function Ff(e){switch(Cs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vd(e);return t?16+Ff(t):16;case 5:return 2*e.stringValue.length;case 6:return xs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Ff(l)),0)})(e.arrayValue);case 10:case 11:return(function(i){let a=0;return Vs(i.fields,((l,c)=>{a+=l.length+Ff(c)})),a})(e.mapValue);default:throw vt(13486,{value:e})}}function Kb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ey(e){return!!e&&"integerValue"in e}function Lv(e){return!!e&&"arrayValue"in e}function Qb(e){return!!e&&"nullValue"in e}function Xb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qf(e){return!!e&&"mapValue"in e}function L3(e){return(e?.mapValue?.fields||{})[ax]?.stringValue===ox}function ec(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Vs(e.mapValue.fields,((n,i)=>t.mapValue.fields[n]=ec(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ec(e.arrayValue.values[n]);return t}return{...e}}function U3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===k3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!qf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ec(n)}setAll(t){let n=nn.emptyPath(),i={},a=[];t.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=ec(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(t){const n=this.field(t.popLast());qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){Vs(n,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new yn(ec(this.value))}}function lx(e){const t=[];return Vs(e.fields,((n,i)=>{const a=new nn([n]);if(qf(i)){const l=lx(i.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n,i,a,l,c,f){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new Ke(t,0,Et.min(),Et.min(),Et.min(),yn.empty(),0)}static newFoundDocument(t,n,i,a){return new Ke(t,1,n,Et.min(),i,a,0)}static newNoDocument(t,n){return new Ke(t,2,n,Et.min(),Et.min(),yn.empty(),0)}static newUnknownDocument(t,n){return new Ke(t,3,n,Et.min(),Et.min(),yn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t,n){this.position=t,this.inclusive=n}}function Wb(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?i=gt.comparator(gt.fromName(c.referenceValue),n.key):i=cl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Zb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n="asc"){this.field=t,this.dir=n}}function j3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{}class Pe extends ux{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new z3(t,n,i):n==="array-contains"?new H3(t,i):n==="in"?new G3(t,i):n==="not-in"?new Y3(t,i):n==="array-contains-any"?new $3(t,i):new Pe(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new F3(t,i):new q3(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cl(n,this.value)):n!==null&&Cs(this.value)===Cs(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends ux{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new mi(t,n)}matches(t){return cx(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cx(e){return e.op==="and"}function hx(e){return B3(e)&&cx(e)}function B3(e){for(const t of e.filters)if(t instanceof mi)return!1;return!0}function wy(e){if(e instanceof Pe)return e.field.canonicalString()+e.op.toString()+hl(e.value);if(hx(e))return e.filters.map((t=>wy(t))).join(",");{const t=e.filters.map((n=>wy(n))).join(",");return`${e.op}(${t})`}}function fx(e,t){return e instanceof Pe?(function(i,a){return a instanceof Pe&&i.op===a.op&&i.field.isEqual(a.field)&&Hi(i.value,a.value)})(e,t):e instanceof mi?(function(i,a){return a instanceof mi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&fx(c,a.filters[f])),!0):!1})(e,t):void vt(19439)}function dx(e){return e instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`})(e):e instanceof mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(dx).join(" ,")+"}"})(e):"Filter"}class z3 extends Pe{constructor(t,n,i){super(t,n,i),this.key=gt.fromName(i.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class F3 extends Pe{constructor(t,n){super(t,"in",n),this.keys=mx("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class q3 extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=mx("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function mx(e,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class H3 extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lv(n)&&_c(n.arrayValue,this.value)}}class G3 extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}}class Y3 extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_c(this.value.arrayValue,n)}}class $3 extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>_c(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(t,n=null,i=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Jb(e,t=null,n=[],i=[],a=null,l=null,c=null){return new K3(e,t,n,i,a,l,c)}function Uv(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>wy(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Bc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>hl(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>hl(i))).join(",")),t.Te=n}return t.Te}function jv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!j3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fx(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zb(e.startAt,t.startAt)&&Zb(e.endAt,t.endAt)}function by(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,n=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q3(e,t,n,i,a,l,c,f){return new Al(e,t,n,i,a,l,c,f)}function Bv(e){return new Al(e)}function tS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function px(e){return e.collectionGroup!==null}function nc(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Be(nn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Tc(l,i))})),n.has(nn.keyField().canonicalString())||t.Ie.push(new Tc(nn.keyField(),i))}return t.Ie}function Bi(e){const t=Rt(e);return t.Ee||(t.Ee=X3(t,nc(e))),t.Ee}function X3(e,t){if(e.limitType==="F")return Jb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Tc(a.field,l)}));const n=e.endAt?new hd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new hd(e.startAt.position,e.startAt.inclusive):null;return Jb(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Sy(e,t){const n=e.filters.concat([t]);return new Al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function fd(e,t,n){return new Al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kd(e,t){return jv(Bi(e),Bi(t))&&e.limitType===t.limitType}function gx(e){return`${Uv(Bi(e))}|lt:${e.limitType}`}function zo(e){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>dx(a))).join(", ")}]`),Bc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>hl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>hl(a))).join(",")),`Target(${i})`})(Bi(e))}; limitType=${e.limitType})`}function Ld(e,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):gt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(e,t)&&(function(i,a){for(const l of nc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(i,a){return!(i.startAt&&!(function(c,f,m){const p=Wb(c,f,m);return c.inclusive?p<=0:p<0})(i.startAt,nc(i),a)||i.endAt&&!(function(c,f,m){const p=Wb(c,f,m);return c.inclusive?p>=0:p>0})(i.endAt,nc(i),a))})(e,t)}function W3(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yx(e){return(t,n)=>{let i=!1;for(const a of nc(e)){const l=Z3(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function Z3(e,t,n){const i=e.field.isKeyField()?gt.comparator(t.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?cl(m,p):vt(42886)})(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return vt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Vs(this.inner,((n,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return tx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new me(gt.comparator);function Nr(){return J3}const vx=new me(gt.comparator);function Gu(...e){let t=vx;for(const n of e)t=t.insert(n.key,n);return t}function _x(e){let t=vx;return e.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function xa(){return ic()}function Tx(){return ic()}function ic(){return new qa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const tU=new me(gt.comparator),eU=new Be(gt.comparator);function kt(...e){let t=eU;for(const n of e)t=t.add(n);return t}const nU=new Be(Vt);function iU(){return nU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(t)?"-0":t}}function Ex(e){return{integerValue:""+e}}function rU(e,t){return N3(t)?Ex(t):zv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this._=void 0}}function sU(e,t,n){return e instanceof Ec?(function(a,l){const c={fields:{[ix]:{stringValue:nx},[sx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&kv(l)&&(l=Vd(l)),l&&(c.fields[rx]=l),{mapValue:c}})(n,t):e instanceof wc?bx(e,t):e instanceof bc?Sx(e,t):(function(a,l){const c=wx(a,l),f=eS(c)+eS(a.Ae);return Ey(c)&&Ey(a.Ae)?Ex(f):zv(a.serializer,f)})(e,t)}function aU(e,t,n){return e instanceof wc?bx(e,t):e instanceof bc?Sx(e,t):n}function wx(e,t){return e instanceof dd?(function(i){return Ey(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Ec extends Ud{}class wc extends Ud{constructor(t){super(),this.elements=t}}function bx(e,t){const n=Ax(t);for(const i of e.elements)n.some((a=>Hi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class bc extends Ud{constructor(t){super(),this.elements=t}}function Sx(e,t){let n=Ax(t);for(const i of e.elements)n=n.filter((a=>!Hi(a,i)));return{arrayValue:{values:n}}}class dd extends Ud{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function eS(e){return Ae(e.integerValue||e.doubleValue)}function Ax(e){return Lv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(t,n){this.field=t,this.transform=n}}function lU(e,t){return e.field.isEqual(t.field)&&(function(i,a){return i instanceof wc&&a instanceof wc||i instanceof bc&&a instanceof bc?ul(i.elements,a.elements,Hi):i instanceof dd&&a instanceof dd?Hi(i.Ae,a.Ae):i instanceof Ec&&a instanceof Ec})(e.transform,t.transform)}class uU{constructor(t,n){this.version=t,this.transformResults=n}}class cn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new cn}static exists(t){return new cn(void 0,t)}static updateTime(t){return new cn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class jd{}function Rx(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Bd(e.key,cn.none()):new zc(e.key,e.data,cn.none());{const n=e.data,i=yn.empty();let a=new Be(nn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ks(e.key,i,new kn(a.toArray()),cn.none())}}function cU(e,t,n){e instanceof zc?(function(a,l,c){const f=a.value.clone(),m=iS(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(e,t,n):e instanceof ks?(function(a,l,c){if(!Hf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=iS(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(xx(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function rc(e,t,n,i){return e instanceof zc?(function(l,c,f,m){if(!Hf(l.precondition,c))return f;const p=l.value.clone(),y=rS(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,i):e instanceof ks?(function(l,c,f,m){if(!Hf(l.precondition,c))return f;const p=rS(l.fieldTransforms,m,c),y=c.data;return y.setAll(xx(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,i):(function(l,c,f){return Hf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(e,t,n)}function hU(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),l=wx(i.transform,a||null);l!=null&&(n===null&&(n=yn.empty()),n.set(i.field,l))}return n||null}function nS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ul(i,a,((l,c)=>lU(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zc extends jd{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ks extends jd{constructor(t,n,i,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xx(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function iS(e,t,n){const i=new Map;qt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);i.set(l.field,aU(c,f,n[a]))}return i}function rS(e,t,n){const i=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);i.set(a.field,sU(l,c,t))}return i}class Bd extends jd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cx extends jd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&cU(l,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=rc(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=rc(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=Tx();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=Rx(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Et.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&ul(this.mutations,t.mutations,((n,i)=>nS(n,i)))&&ul(this.baseMutations,t.baseMutations,((n,i)=>nS(n,i)))}}class Fv{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return tU})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Fv(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,zt;function Ix(e){switch(e){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:e})}}function Dx(e){if(e===void 0)return Dr("GRPC error has no .code"),J.UNKNOWN;switch(e){case Ne.OK:return J.OK;case Ne.CANCELLED:return J.CANCELLED;case Ne.UNKNOWN:return J.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return J.INTERNAL;case Ne.UNAVAILABLE:return J.UNAVAILABLE;case Ne.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ne.NOT_FOUND:return J.NOT_FOUND;case Ne.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ne.ABORTED:return J.ABORTED;case Ne.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ne.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:e})}}(zt=Ne||(Ne={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new Ts([4294967295,4294967295],0);function sS(e){const t=pU().encode(e),n=new qR;return n.update(t),new Uint8Array(n.digest())}function aS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Ts([n,i],0),new Ts([a,l],0)]}class qv{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(i<0)throw new Yu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ts.fromNumber(this.ge)}ye(t,n,i){let a=t.add(n.multiply(Ts.fromNumber(i)));return a.compare(gU)===1&&(a=new Ts([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sS(t),[i,a]=aS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new qv(l,a,n);return i.forEach((f=>c.insert(f))),c}insert(t){if(this.ge===0)return;const n=sS(t),[i,a]=aS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,n,i,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,Fc.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new zd(Et.min(),a,new me(Vt),Nr(),kt())}}class Fc{constructor(t,n,i,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Fc(i,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,n,i,a){this.be=t,this.removedTargetIds=n,this.key=i,this.De=a}}class Nx{constructor(t,n){this.targetId=t,this.Ce=n}}class Mx{constructor(t,n,i=rn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class oS{constructor(){this.ve=0,this.Fe=lS(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),i=kt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:vt(38017,{changeType:l})}})),new Fc(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=lS()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yU{constructor(t){this.Ge=t,this.ze=new Map,this.je=Nr(),this.Je=Cf(),this.He=Cf(),this.Ye=new me(Vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,i=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(by(l))if(i===0){const c=new gt(l.path);this.et(n,c,Ke.newNoDocument(c,Et.min()))}else qt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const f=this.ut(t),m=f?this.ct(f,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=xs(i).toUint8Array()}catch(m){if(m instanceof ex)return ll("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new qv(c,a,l)}catch(m){return ll(m instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&by(f.target)){const m=new gt(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Ke.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=kt();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new zd(t,n,this.Ye,this.je,i);return this.je=Nr(),this.Je=Cf(),this.He=Cf(),this.Ye=new me(Vt),a}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new oS,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Be(Vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Be(Vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new oS),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Cf(){return new me(gt.comparator)}function lS(){return new me(gt.comparator)}const vU={asc:"ASCENDING",desc:"DESCENDING"},_U={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TU={and:"AND",or:"OR"};class EU{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ay(e,t){return e.useProto3Json||Bc(t)?t:{value:t}}function md(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Px(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wU(e,t){return md(e,t.toTimestamp())}function Un(e){return qt(!!e,49232),Et.fromTimestamp((function(n){const i=Rs(n);return new ae(i.seconds,i.nanos)})(e))}function Hv(e,t){return Ry(e,t).canonicalString()}function Ry(e,t){const n=(function(a){return new ne(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Ox(e){const t=ne.fromString(e);return qt(Bx(t),10190,{key:t.toString()}),t}function pd(e,t){return Hv(e.databaseId,t.path)}function sc(e,t){const n=Ox(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(kx(n))}function Vx(e,t){return Hv(e.databaseId,t)}function bU(e){const t=Ox(e);return t.length===4?ne.emptyPath():kx(t)}function xy(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kx(e){return qt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function uS(e,t,n){return{name:pd(e,t),fields:n.value.mapValue.fields}}function SU(e,t){return"found"in t?(function(i,a){qt(!!a.found,43571),a.found.name,a.found.updateTime;const l=sc(i,a.found.name),c=Un(a.found.updateTime),f=a.found.createTime?Un(a.found.createTime):Et.min(),m=new yn({mapValue:{fields:a.found.fields}});return Ke.newFoundDocument(l,c,f,m)})(e,t):"missing"in t?(function(i,a){qt(!!a.missing,3894),qt(!!a.readTime,22933);const l=sc(i,a.missing),c=Un(a.readTime);return Ke.newNoDocument(l,c)})(e,t):vt(7234,{result:t})}function AU(e,t){let n;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:vt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(qt(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?J.UNKNOWN:Dx(p.code);return new ct(y,p.message||"")})(c);n=new Mx(i,a,l,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=sc(e,i.document.name),l=Un(i.document.updateTime),c=i.document.createTime?Un(i.document.createTime):Et.min(),f=new yn({mapValue:{fields:i.document.fields}}),m=Ke.newFoundDocument(a,l,c,f),p=i.targetIds||[],y=i.removedTargetIds||[];n=new Gf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=sc(e,i.document),l=i.readTime?Un(i.readTime):Et.min(),c=Ke.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Gf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=sc(e,i.document),l=i.removedTargetIds||[];n=new Gf([],l,a,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new mU(a,l),f=i.targetId;n=new Nx(f,c)}}return n}function Lx(e,t){let n;if(t instanceof zc)n={update:uS(e,t.key,t.value)};else if(t instanceof Bd)n={delete:pd(e,t.key)};else if(t instanceof ks)n={update:uS(e,t.key,t.data),updateMask:OU(t.fieldMask)};else{if(!(t instanceof Cx))return vt(16599,{Vt:t.type});n={verify:pd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Ec)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof wc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof bc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof dd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw vt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:wU(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:vt(27497)})(e,t.precondition)),n}function RU(e,t){return e&&e.length>0?(qt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Un(a.updateTime):Un(l);return c.isEqual(Et.min())&&(c=Un(l)),new uU(c,a.transformResults||[])})(n,t)))):[]}function xU(e,t){return{documents:[Vx(e,t.path)]}}function CU(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Vx(e,a);const l=(function(p){if(p.length!==0)return jx(mi.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(w){return{field:Fo(w.field),direction:NU(w.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Ay(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function IU(e){let t=bU(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){qt(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const w=Ux(_);return w instanceof mi&&hx(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((w=>(function(I){return new Tc(qo(I.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let w;return w=typeof _=="object"?_.value:_,Bc(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(_){const w=!!_.before,A=_.values||[];return new hd(A,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const w=!_.before,A=_.values||[];return new hd(A,w)})(n.endAt)),Q3(t,a,c,l,f,"F",m,p)}function DU(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Ux(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=qo(n.unaryFilter.field);return Pe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=qo(n.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qo(n.unaryFilter.field);return Pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qo(n.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Pe.create(qo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return mi.create(n.compositeFilter.filters.map((i=>Ux(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(e):vt(30097,{filter:e})}function NU(e){return vU[e]}function MU(e){return _U[e]}function PU(e){return TU[e]}function Fo(e){return{fieldPath:e.canonicalString()}}function qo(e){return nn.fromServerFormat(e.fieldPath)}function jx(e){return e instanceof Pe?(function(n){if(n.op==="=="){if(Xb(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xb(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:MU(n.op),value:n.value}}})(e):e instanceof mi?(function(n){const i=n.getFilters().map((a=>jx(a)));return i.length===1?i[0]:{compositeFilter:{op:PU(n.op),filters:i}}})(e):vt(54877,{filter:e})}function OU(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Bx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,n,i,a,l=Et.min(),c=Et.min(),f=rn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(t){this.yt=t}}function kU(e){const t=IU({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?fd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.Cn=new UU}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(As.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(As.min())}updateCollectionGroup(t,n,i){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class UU{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new Be(ne.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Be(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zx=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(zx,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fl(0)}static cr(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="LruGarbageCollector",jU=1048576;function fS([e,t],[n,i]){const a=Vt(e,n);return a===0?Vt(t,i):a}class BU{constructor(t){this.Ir=t,this.buffer=new Be(fS),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();fS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zU{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(hS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sl(n)?dt(hS,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Vr(3e5)}))}}class FU{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Od.ce);const i=new BU(n);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(cS)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cS):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(i=_,f=Date.now(),this.removeTargets(t,i,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(p=Date.now(),Bo()<=Ot.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function qU(e,t){return new FU(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.changes=new qa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?nt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(i!==null&&rc(i.mutation,a,kn.empty(),ae.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,kt()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=kt()){const a=xa();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,i).next((l=>{let c=Gu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const i=xa();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,kt())))}populateOverlays(t,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(t,n,i,a){let l=Nr();const c=ic(),f=(function(){return ic()})();return n.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ks)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),rc(y.mutation,p,y.mutation.getFieldMask(),ae.now())):c.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>f.set(p,new GU(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(t,n){const i=ic();let a=new me(((c,f)=>c-f)),l=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=i.get(m)||kn.empty();y=f.applyToLocalView(p,y),i.set(m,y);const _=(a.get(f.batchId)||kt()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=Tx();y.forEach((w=>{if(!l.has(w)){const A=Rx(n.get(w),i.get(w));A!==null&&_.set(w,A),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return nt.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,a){return(function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):px(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-l.size):nt.resolve(xa());let f=gc,m=l;return c.next((p=>nt.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,kt()))).next((y=>({batchId:f,changes:_x(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((i=>{let a=Gu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const l=n.collectionGroup;let c=Gu();return this.indexManager.getCollectionParents(t,l).next((f=>nt.forEach(f,(m=>{const p=(function(_,w){return new Al(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Ke.newInvalidDocument(y)))}));let f=Gu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&rc(y.mutation,p,kn.empty(),ae.now()),Ld(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Un(a.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:kU(a.bundledQuery),readTime:Un(a.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.overlays=new me(gt.comparator),this.qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=xa();return nt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((a,l)=>{this.St(t,n,l)})),nt.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),nt.resolve()}getOverlaysForCollection(t,n,i){const a=xa(),l=n.length+1,c=new gt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let l=new me(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=xa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=xa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return nt.resolve(f)}St(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new dU(n,i));let l=this.qr.get(n);l===void 0&&(l=kt(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.Qr=new Be($e.$r),this.Ur=new Be($e.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new $e(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Gr(new $e(t,n))}zr(t,n){t.forEach((i=>this.removeReference(i,n)))}jr(t){const n=new gt(new ne([])),i=new $e(n,t),a=new $e(n,t+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ne([])),i=new $e(n,t),a=new $e(n,t+1);let l=kt();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new $e(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class $e{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||Vt(t.Yr,n.Yr)}static Kr(t,n){return Vt(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Be($e.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fU(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $e(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Vv:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new $e(n,0),a=new $e(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Be(Vt);return n.forEach((a=>{const l=new $e(a,0),c=new $e(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),nt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let l=i;gt.isDocumentKey(l)||(l=l.child(""));const c=new $e(new gt(l),0);let f=new Be(Vt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),nt.resolve(this.ti(f))}ti(t){const n=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return nt.forEach(n.mutations,(a=>{const l=new $e(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,n){const i=new $e(n,0),a=this.Zr.firstAfterOrEqual(i);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(t){this.ri=t,this.docs=(function(){return new me(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return nt.resolve(i?i.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(t,n){let i=Nr();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Ke.newInvalidDocument(a))})),nt.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let l=Nr();const c=n.path,f=new gt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||x3(R3(y),i)<=0||(a.has(y.key)||Ld(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,i,a){vt(9500)}ii(t,n){return nt.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new ZU(this)}getSize(t){return nt.resolve(this.size)}}class ZU extends HU{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),nt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(t){this.persistence=t,this.si=new qa((n=>Uv(n)),jv),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Gv,this.targetCount=0,this.ai=fl.ur()}forEachTarget(t,n){return this.si.forEach(((i,a)=>n(a))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),nt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new fl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Pr(n),nt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),nt.waitFor(l).next((()=>a))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return nt.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),nt.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return nt.resolve(i)}containsKey(t,n){return nt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,n){this.ui={},this.overlays={},this.ci=new Od(0),this.li=!1,this.li=!0,this.hi=new QU,this.referenceDelegate=t(this),this.Pi=new JU(this),this.indexManager=new LU,this.remoteDocumentCache=(function(a){return new WU(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new VU(n),this.Ii=new $U(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new KU,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new XU(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){dt("MemoryPersistence","Starting transaction:",t);const a=new t6(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return nt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,n))))}}class t6 extends I3{constructor(t){super(),this.currentSequenceNumber=t}}class Yv{constructor(t){this.persistence=t,this.Ri=new Gv,this.Vi=null}static mi(t){return new Yv(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),nt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(i=>{const a=gt.fromPath(i);return this.gi(t,a).next((l=>{l||n.removeEntry(a,Et.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class gd{constructor(t,n){this.persistence=t,this.pi=new qa((i=>M3(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=qU(this,n)}static mi(t,n){return new gd(t,n)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((a=>i+a))))}wr(t){let n=0;return this.pr(t,(i=>{n++})).next((()=>n))}pr(t,n){return nt.forEach(this.pi,((i,a)=>this.br(t,i,a).next((l=>l?nt.resolve():n(a)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((f=>{f||(i++,l.removeEntry(c,Et.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ff(t.data.value)),n}br(t,n,i){return nt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return nt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=a}static As(t,n){let i=kt(),a=kt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new $v(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OV()?8:D3(fn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new e6;return this.Ss(t,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(t,n,c,f.size)}))})).next((()=>l.result))}bs(t,n,i,a){return i.documentReadCount<this.fs?(Bo()<=Ot.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(Bo()<=Ot.DEBUG&&dt("QueryEngine","Query:",zo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Bo()<=Ot.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(n))):nt.resolve())}ys(t,n){if(tS(n))return nt.resolve(null);let i=Bi(n);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=fd(n,null,"F"),i=Bi(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const c=kt(...l);return this.ps.getDocuments(t,c).next((f=>this.indexManager.getMinOffset(t,i).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(t,fd(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ws(t,n,i,a){return tS(n)||a.isEqual(Et.min())?nt.resolve(null):this.ps.getDocuments(t,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?nt.resolve(null):(Bo()<=Ot.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zo(n)),this.vs(t,c,n,A3(a,gc)).next((f=>f)))}))}Ds(t,n){let i=new Be(yx(t));return n.forEach(((a,l)=>{Ld(t,l)&&(i=i.add(l))})),i}Cs(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,i){return Bo()<=Ot.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",zo(n)),this.ps.getDocumentsMatchingQuery(t,n,As.min(),i)}vs(t,n,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="LocalStore",i6=3e8;class r6{constructor(t,n,i,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new me(Vt),this.xs=new qa((l=>Uv(l)),jv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function s6(e,t,n,i){return new r6(e,t,n,i)}async function qx(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=kt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function a6(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,w=_.keys();let A=nt.resolve();return w.forEach((I=>{A=A.next((()=>y.getEntry(m,I))).next((j=>{const k=p.docVersions.get(I);qt(k!==null,48541),j.version.compareTo(k)<0&&(_.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,i,t,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=kt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Hx(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function o6(e,t){const n=Rt(e),i=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];t.targetChanges.forEach(((y,_)=>{const w=a.get(_);if(!w)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let A=w.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?A=A.withResumeToken(rn.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(_,A),(function(j,k,H){return j.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=i6?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(w,A,y)&&f.push(n.Pi.updateTargetData(l,A))}));let m=Nr(),p=kt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(l6(l,c,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!i.isEqual(Et.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return nt.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function l6(e,t,n){let i=kt(),a=kt();return n.forEach((l=>i=i.add(l))),t.getEntries(e,i).next((l=>{let c=Nr();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Et.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):dt(Kv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function u6(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Vv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function c6(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,t).next((l=>l?(a=l,nt.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new gs(t,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i}))}async function Cy(e,t,n){const i=Rt(e),a=i.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Sl(c))throw c;dt(Kv,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function dS(e,t,n){const i=Rt(e);let a=Et.min(),l=kt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Rt(m),w=_.xs.get(y);return w!==void 0?nt.resolve(_.Ms.get(w)):_.Pi.getTargetData(p,y)})(i,c,Bi(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,n?a:Et.min(),n?l:kt()))).next((f=>(h6(i,W3(t),f),{documents:f,Qs:l})))))}function h6(e,t,n){let i=e.Os.get(t)||Et.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),e.Os.set(t,i)}class mS{constructor(){this.activeTargetIds=iU()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class f6{constructor(){this.Mo=new mS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mS,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="ConnectivityMonitor";class gS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(pS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(pS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=null;function Iy(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="RestConnection",m6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===ud?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,n,i,a,l){const c=Iy(),f=this.zo(t,n.toUriEncodedString());dt(Ng,`Sending RPC '${t}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=_l(p);return this.Jo(t,f,m,i,y).then((_=>(dt(Ng,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw ll(Ng,`RPC '${t}' ${c} failed with error: `,_,"url: ",f,"request:",i),_}))}Ho(t,n,i,a,l,c){return this.Go(t,n,i,a,l)}jo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const i=m6[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class y6 extends p6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,a,l){const c=Iy();return new Promise(((f,m)=>{const p=new HR;p.setWithCredentials(!0),p.listenOnce(GR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case zf.NO_ERROR:const _=p.getResponseJson();dt(ln,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),f(_);break;case zf.TIMEOUT:dt(ln,`RPC '${t}' ${c} timed out`),m(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const w=p.getStatus();if(dt(ln,`RPC '${t}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A?.error;if(I&&I.status&&I.message){const j=(function(H){const F=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(F)>=0?F:J.UNKNOWN})(I.status);m(new ct(j,I.message))}else m(new ct(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ct(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{dt(ln,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);dt(ln,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,i,15)}))}T_(t,n,i){const a=Iy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=KR(),f=$R(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");dt(ln,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let w=!1,A=!1;const I=new g6({Yo:k=>{A?dt(ln,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(w||(dt(ln,`Opening RPC '${t}' stream ${a} transport.`),_.open(),w=!0),dt(ln,`RPC '${t}' stream ${a} sending:`,k),_.send(k))},Zo:()=>_.close()}),j=(k,H,F)=>{k.listen(H,($=>{try{F($)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return j(_,Hu.EventType.OPEN,(()=>{A||(dt(ln,`RPC '${t}' stream ${a} transport opened.`),I.o_())})),j(_,Hu.EventType.CLOSE,(()=>{A||(A=!0,dt(ln,`RPC '${t}' stream ${a} transport closed`),I.a_(),this.E_(_))})),j(_,Hu.EventType.ERROR,(k=>{A||(A=!0,ll(ln,`RPC '${t}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),I.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),j(_,Hu.EventType.MESSAGE,(k=>{if(!A){const H=k.data[0];qt(!!H,16349);const F=H,$=F?.error||F[0]?.error;if($){dt(ln,`RPC '${t}' stream ${a} received error:`,$);const lt=$.status;let it=(function(R){const x=Ne[R];if(x!==void 0)return Dx(x)})(lt),at=$.message;it===void 0&&(it=J.INTERNAL,at="Unknown error status: "+lt+" with message "+$.message),A=!0,I.a_(new ct(it,at)),_.close()}else dt(ln,`RPC '${t}' stream ${a} received:`,H),I.u_(H)}})),j(f,YR.STAT_EVENT,(k=>{k.stat===vy.PROXY?dt(ln,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===vy.NOPROXY&&dt(ln,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Mg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(e){return new EU(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t,n,i=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="PersistentStream";class Gx{constructor(t,n,i,a,l,c,f,m){this.Mi=t,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Qv(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{t((()=>{const a=new ct(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(yS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(dt(yS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class v6 extends Gx{constructor(t,n,i,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=AU(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Et.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?Un(c.readTime):Et.min()})(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=xy(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=by(m)?{documents:xU(l,m)}:{query:CU(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Px(l,c.resumeToken);const p=Ay(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Et.min())>0){f.readTime=md(l,c.snapshotVersion.toTimestamp());const p=Ay(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,t);const i=DU(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=xy(this.serializer),n.removeTarget=t,this.q_(n)}}class _6 extends Gx{constructor(t,n,i,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=RU(t.writeResults,t.commitTime),i=Un(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=xy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>Lx(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{}class E6 extends T6{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Ry(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(J.UNKNOWN,l.toString())}))}Ho(t,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(t,Ry(n,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class b6{constructor(t,n,i,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ha(this)&&(dt(Ua,"Restarting streams for network reachability change."),await(async function(m){const p=Rt(m);p.Ea.add(4),await qc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await qd(p)})(this))}))})),this.Ra=new w6(i,a)}}async function qd(e){if(Ha(e))for(const t of e.da)await t(!0)}async function qc(e){for(const t of e.da)await t(!1)}function Yx(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Jv(n)?Zv(n):Rl(n).O_()&&Wv(n,t))}function Xv(e,t){const n=Rt(e),i=Rl(n);n.Ia.delete(t),i.O_()&&$x(n,t),n.Ia.size===0&&(i.O_()?i.L_():Ha(n)&&n.Ra.set("Unknown"))}function Wv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Rl(e).Y_(t)}function $x(e,t){e.Va.Ue(t),Rl(e).Z_(t)}function Zv(e){e.Va=new yU({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Rl(e).start(),e.Ra.ua()}function Jv(e){return Ha(e)&&!Rl(e).x_()&&e.Ia.size>0}function Ha(e){return Rt(e).Ea.size===0}function Kx(e){e.Va=void 0}async function S6(e){e.Ra.set("Online")}async function A6(e){e.Ia.forEach(((t,n)=>{Wv(e,t)}))}async function R6(e,t){Kx(e),Jv(e)?(e.Ra.ha(t),Zv(e)):e.Ra.set("Unknown")}async function x6(e,t,n){if(e.Ra.set("Online"),t instanceof Mx&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(e,t)}catch(i){dt(Ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await yd(e,i)}else if(t instanceof Gf?e.Va.Ze(t):t instanceof Nx?e.Va.st(t):e.Va.tt(t),!n.isEqual(Et.min()))try{const i=await Hx(e.localStore);n.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),$x(l,m);const _=new gs(y.target,m,p,y.sequenceNumber);Wv(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(e,n)}catch(i){dt(Ua,"Failed to raise snapshot:",i),await yd(e,i)}}async function yd(e,t,n){if(!Sl(t))throw t;e.Ea.add(1),await qc(e),e.Ra.set("Offline"),n||(n=()=>Hx(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{dt(Ua,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await qd(e)}))}function Qx(e,t){return t().catch((n=>yd(e,n,t)))}async function Hd(e){const t=Rt(e),n=Is(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vv;for(;C6(t);)try{const a=await u6(t.localStore,i);if(a===null){t.Ta.length===0&&n.L_();break}i=a.batchId,I6(t,a)}catch(a){await yd(t,a)}Xx(t)&&Wx(t)}function C6(e){return Ha(e)&&e.Ta.length<10}function I6(e,t){e.Ta.push(t);const n=Is(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Xx(e){return Ha(e)&&!Is(e).x_()&&e.Ta.length>0}function Wx(e){Is(e).start()}async function D6(e){Is(e).ra()}async function N6(e){const t=Is(e);for(const n of e.Ta)t.ea(n.mutations)}async function M6(e,t,n){const i=e.Ta.shift(),a=Fv.from(i,t,n);await Qx(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Hd(e)}async function P6(e,t){t&&Is(e).X_&&await(async function(i,a){if((function(c){return Ix(c)&&c!==J.ABORTED})(a.code)){const l=i.Ta.shift();Is(i).B_(),await Qx(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Hd(i)}})(e,t),Xx(e)&&Wx(e)}async function vS(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),dt(Ua,"RemoteStore received new credentials");const i=Ha(n);n.Ea.add(3),await qc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qd(n)}async function O6(e,t){const n=Rt(e);t?(n.Ea.delete(2),await qd(n)):t||(n.Ea.add(2),await qc(n),n.Ra.set("Unknown"))}function Rl(e){return e.ma||(e.ma=(function(n,i,a){const l=Rt(n);return l.sa(),new v6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:S6.bind(null,e),t_:A6.bind(null,e),r_:R6.bind(null,e),H_:x6.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Jv(e)?Zv(e):e.Ra.set("Unknown")):(await e.ma.stop(),Kx(e))}))),e.ma}function Is(e){return e.fa||(e.fa=(function(n,i,a){const l=Rt(n);return l.sa(),new _6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:D6.bind(null,e),r_:P6.bind(null,e),ta:N6.bind(null,e),na:M6.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Hd(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(Ua,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,n,i,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,l){const c=Date.now()+i,f=new t0(t,n,c,a,l);return f.start(i),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e0(e,t){if(Dr("AsyncQueue",`${t}: ${e}`),Sl(e))return new ct(J.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static emptySet(t){return new il(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||gt.comparator(n.key,i.key):(n,i)=>gt.comparator(n.key,i.key),this.keyedMap=Gu(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof il)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new il;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.ga=new me(gt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class dl{constructor(t,n,i,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,i,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new dl(t,n,il.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class k6{constructor(){this.queries=TS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Rt(n),l=a.queries;a.queries=TS(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function TS(){return new qa((e=>gx(e)),kd)}async function Zx(e,t){const n=Rt(e);let i=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(i=2):(l=new V6,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=e0(c,`Initialization of query '${zo(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&n0(n)}async function Jx(e,t){const n=Rt(e),i=t.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function L6(e,t){const n=Rt(e);let i=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&n0(n)}function U6(e,t,n){const i=Rt(e),a=i.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(t)}function n0(e){e.Ca.forEach((t=>{t.next()}))}var Dy,ES;(ES=Dy||(Dy={})).Ma="default",ES.Cache="cache";class tC{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new dl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.key=t}}class nC{constructor(t){this.key=t}}class j6{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=yx(t),this.tu=new il(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new _S,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const w=a.get(y),A=Ld(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),j=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;w&&A?w.data.isEqual(A.data)?I!==j&&(i.track({type:3,doc:A}),k=!0):this.su(w,A)||(i.track({type:2,doc:A}),k=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!w&&A?(i.track({type:0,doc:A}),k=!0):w&&!A&&(i.track({type:1,doc:w}),k=!0,(m||p)&&(f=!0)),k&&(A?(c=c.add(A),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(A,I){const j=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:k})}};return j(A)-j(I)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new dl(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _S,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return t.forEach((i=>{this.Xa.has(i)||n.push(new nC(i))})),this.Xa.forEach((i=>{t.has(i)||n.push(new eC(i))})),n}cu(t){this.Ya=t.Qs,this.Xa=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const i0="SyncEngine";class B6{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class z6{constructor(t){this.key=t,this.hu=!1}}class F6{constructor(t,n,i,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new qa((f=>gx(f)),kd),this.Iu=new Map,this.Eu=new Set,this.du=new me(gt.comparator),this.Au=new Map,this.Ru=new Gv,this.Vu={},this.mu=new Map,this.fu=fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q6(e,t,n=!0){const i=lC(e);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await iC(i,t,n,!0),a}async function H6(e,t){const n=lC(e);await iC(n,t,!0,!1)}async function iC(e,t,n,i){const a=await c6(e.localStore,Bi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await G6(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&Yx(e.remoteStore,a),f}async function G6(e,t,n,i,a){e.pu=(_,w,A)=>(async function(j,k,H,F){let $=k.view.ru(H);$.Cs&&($=await dS(j.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,$))));const lt=F&&F.targetChanges.get(k.targetId),it=F&&F.targetMismatches.get(k.targetId)!=null,at=k.view.applyChanges($,j.isPrimaryClient,lt,it);return bS(j,k.targetId,at.au),at.snapshot})(e,_,w,A);const l=await dS(e.localStore,t,!0),c=new j6(t,l.Qs),f=c.ru(l.documents),m=Fc.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);bS(e,n,p.au);const y=new B6(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function Y6(e,t,n){const i=Rt(e),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!kd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Cy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Xv(i.remoteStore,a.targetId),Ny(i,a.targetId)})).catch(bl)):(Ny(i,a.targetId),await Cy(i.localStore,a.targetId,!0))}async function $6(e,t){const n=Rt(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Xv(n.remoteStore,i.targetId))}async function K6(e,t,n){const i=e9(e);try{const a=await(function(c,f){const m=Rt(c),p=ae.now(),y=f.reduce(((A,I)=>A.add(I.key)),kt());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Nr(),j=kt();return m.Ns.getEntries(A,y).next((k=>{I=k,I.forEach(((H,F)=>{F.isValidDocument()||(j=j.add(H))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,I))).next((k=>{_=k;const H=[];for(const F of f){const $=hU(F,_.get(F.key).overlayedDocument);$!=null&&H.push(new ks(F.key,$,lx($.value.mapValue),cn.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,H,f)})).next((k=>{w=k;const H=k.applyToLocalDocumentSet(_,j);return m.documentOverlayCache.saveOverlays(A,k.batchId,H)}))})).then((()=>({batchId:w.batchId,changes:_x(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new me(Vt)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(i,a.batchId,n),await Hc(i,a.changes),await Hd(i.remoteStore)}catch(a){const l=e0(a,"Failed to persist write");n.reject(l)}}async function rC(e,t){const n=Rt(e);try{const i=await o6(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?qt(c.hu,14607):a.removedDocuments.size>0&&(qt(c.hu,42227),c.hu=!1))})),await Hc(n,i,t)}catch(i){await bl(i)}}function wS(e,t,n){const i=Rt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Rt(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const w of _.Sa)w.va(f)&&(p=!0)})),p&&n0(m)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Q6(e,t,n){const i=Rt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Au.get(t),l=a&&a.key;if(l){let c=new me(gt.comparator);c=c.insert(l,Ke.newNoDocument(l,Et.min()));const f=kt().add(l),m=new zd(Et.min(),new Map,new me(Vt),c,f);await rC(i,m),i.du=i.du.remove(l),i.Au.delete(t),r0(i)}else await Cy(i.localStore,t,!1).then((()=>Ny(i,t,n))).catch(bl)}async function X6(e,t){const n=Rt(e),i=t.batch.batchId;try{const a=await a6(n.localStore,t);aC(n,i,null),sC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hc(n,a)}catch(a){await bl(a)}}async function W6(e,t,n){const i=Rt(e);try{const a=await(function(c,f){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(qt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);aC(i,t,n),sC(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Hc(i,a)}catch(a){await bl(a)}}function sC(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function aC(e,t,n){const i=Rt(e);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function Ny(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((i=>{e.Ru.containsKey(i)||oC(e,i)}))}function oC(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Xv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),r0(e))}function bS(e,t,n){for(const i of n)i instanceof eC?(e.Ru.addReference(i.key,t),Z6(e,i)):i instanceof nC?(dt(i0,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||oC(e,i.key)):vt(19791,{wu:i})}function Z6(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(dt(i0,"New document in limbo: "+n),e.Eu.add(i),r0(e))}function r0(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new gt(ne.fromString(t)),i=e.fu.next();e.Au.set(i,new z6(n)),e.du=e.du.insert(n,i),Yx(e.remoteStore,new gs(Bi(Bv(n.path)),i,"TargetPurposeLimboResolution",Od.ce))}}async function Hc(e,t,n){const i=Rt(e),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{c.push(i.pu(m,t,n).then((p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=$v.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>nt.forEach(p,(w=>nt.forEach(w.Es,(A=>y.persistence.referenceDelegate.addReference(_,w.targetId,A))).next((()=>nt.forEach(w.ds,(A=>y.persistence.referenceDelegate.removeReference(_,w.targetId,A)))))))))}catch(_){if(!Sl(_))throw _;dt(Kv,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const A=y.Ms.get(w),I=A.snapshotVersion,j=A.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(w,j)}}})(i.localStore,l))}async function J6(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){dt(i0,"User change. New user:",t.toKey());const i=await qx(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ct(J.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Hc(n,i.Ls)}}function t9(e,t){const n=Rt(e),i=n.Au.get(t);if(i&&i.hu)return kt().add(i.key);{let a=kt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function lC(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q6.bind(null,t),t.Pu.H_=L6.bind(null,t.eventManager),t.Pu.yu=U6.bind(null,t.eventManager),t}function e9(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=X6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=W6.bind(null,t),t}class vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return s6(this.persistence,new n6,t.initialUser,this.serializer)}Cu(t){return new Fx(Yv.mi,this.serializer)}Du(t){return new f6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vd.provider={build:()=>new vd};class n9 extends vd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){qt(this.persistence.referenceDelegate instanceof gd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new zU(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Fx((i=>gd.mi(i,n)),this.serializer)}}class My{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=J6.bind(null,this.syncEngine),await O6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new k6})()}createDatastore(t){const n=Fd(t.databaseInfo.databaseId),i=(function(l){return new y6(l)})(t.databaseInfo);return(function(l,c,f,m){return new E6(l,c,f,m)})(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,a,l,c,f){return new b6(i,a,l,c,f)})(this.localStore,this.datastore,t.asyncQueue,(n=>wS(this.syncEngine,n,0)),(function(){return gS.v()?new gS:new d6})())}createSyncEngine(t,n){return(function(a,l,c,f,m,p,y){const _=new F6(a,l,c,f,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Rt(n);dt(Ua,"RemoteStore shutting down."),i.Ea.add(5),await qc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}My.provider={build:()=>new My};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Dr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ct(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(a,l){const c=Rt(a),f={documents:l.map((_=>pd(c.serializer,_)))},m=await c.Ho("BatchGetDocuments",c.serializer.databaseId,ne.emptyPath(),f,l.length),p=new Map;m.forEach((_=>{const w=SU(c.serializer,_);p.set(w.key.toString(),w)}));const y=[];return l.forEach((_=>{const w=p.get(_.toString());qt(!!w,55234,{key:_}),y.push(w)})),y})(this.datastore,t);return n.forEach((i=>this.recordVersion(i))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Bd(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,i)=>{const a=gt.fromPath(i);this.mutations.push(new Cx(a,this.precondition(a)))})),await(async function(i,a){const l=Rt(i),c={writes:a.map((f=>Lx(l.serializer,f)))};await l.Go("Commit",l.serializer.databaseId,ne.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw vt(50498,{Gu:t.constructor.name});n=Et.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new ct(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Et.min())?cn.exists(!1):cn.updateTime(n):cn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Et.min()))throw new ct(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(t,n,i,a,l){this.asyncQueue=t,this.datastore=n,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new Qv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new i9(this.datastore),n=this.Hu(t);n&&n.then((i=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(i)})).catch((a=>{this.Yu(a)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(t){try{const n=this.updateFunction(t);return!Bc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Ix(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class s9{constructor(t,n,i,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{dt(Ds,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(dt(Ds,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=e0(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Pg(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Ds,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async a=>{i.isEqual(a)||(await qx(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function SS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await a9(e);dt(Ds,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((i=>vS(t.remoteStore,i))),e.setAppCheckTokenChangeListener(((i,a)=>vS(t.remoteStore,a))),e._onlineComponents=t}async function a9(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Ds,"Using user provided OfflineComponentProvider");try{await Pg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await Pg(e,new vd)}}else dt(Ds,"Using default OfflineComponentProvider"),await Pg(e,new n9(void 0));return e._offlineComponents}async function s0(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Ds,"Using user provided OnlineComponentProvider"),await SS(e,e._uninitializedComponentsProvider._online)):(dt(Ds,"Using default OnlineComponentProvider"),await SS(e,new My))),e._onlineComponents}function o9(e){return s0(e).then((t=>t.syncEngine))}function l9(e){return s0(e).then((t=>t.datastore))}async function cC(e){const t=await s0(e),n=t.eventManager;return n.onListen=q6.bind(null,t.syncEngine),n.onUnlisten=Y6.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=H6.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$6.bind(null,t.syncEngine),n}function u9(e,t,n={}){const i=new ji;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new uC({next:w=>{y.Nu(),c.enqueueAndForget((()=>Jx(l,_)));const A=w.docs.has(f);!A&&w.fromCache?p.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&m&&m.source==="server"?p.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new tC(Bv(f.path),y,{includeMetadataChanges:!0,qa:!0});return Zx(l,_)})(await cC(e),e.asyncQueue,t,n,i))),i.promise}function c9(e,t,n={}){const i=new ji;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new uC({next:w=>{y.Nu(),c.enqueueAndForget((()=>Jx(l,_))),w.fromCache&&m.source==="server"?p.reject(new ct(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new tC(f,y,{includeMetadataChanges:!0,qa:!0});return Zx(l,_)})(await cC(e),e.asyncQueue,t,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firestore.googleapis.com",RS=!0;class xS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fC,this.ssl=RS}else this.host=t.host,this.ssl=t.ssl??RS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jU)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}S3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hC(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gd{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new m3;switch(i.type){case"firstParty":return new v3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=AS.get(n);i&&(dt("ComponentProvider","Removing Datastore"),AS.delete(n),i.terminate())})(this),Promise.resolve()}}function h9(e,t,n,i={}){e=di(e,Gd);const a=_l(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},f=`${t}:${n}`;a&&(eR(`https://${f}`),nR("Firestore",!0)),l.host!==fC&&l.host!==f&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!Pa(m,c)&&(e._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=un.MOCK_USER;else{p=AV(i.mockUserToken,e._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new un(_)}e._authCredentials=new p3(new XR(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ls(this.firestore,t,this._query)}}class Te{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(jc(n,Te._jsonSchema))return new Te(t,i||null,new gt(ne.fromString(n.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Oe("string",Te._jsonSchemaVersion),referencePath:Oe("string")};class Es extends Ls{constructor(t,n,i){super(t,n,Bv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new gt(t))}withConverter(t){return new Es(this.firestore,t,this._path)}}function Sr(e,t,...n){if(e=Re(e),WR("collection","path",t),e instanceof Gd){const i=ne.fromString(t,...n);return Bb(i),new Es(e,null,i)}{if(!(e instanceof Te||e instanceof Es))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(ne.fromString(t,...n));return Bb(i),new Es(e.firestore,null,i)}}function _e(e,t,...n){if(e=Re(e),arguments.length===1&&(t=Ov.newId()),WR("doc","path",t),e instanceof Gd){const i=ne.fromString(t,...n);return jb(i),new Te(e,null,new gt(i))}{if(!(e instanceof Te||e instanceof Es))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(ne.fromString(t,...n));return jb(i),new Te(e.firestore,e instanceof Es?e.converter:null,new gt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="AsyncQueue";class IS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Qv(this,"async_queue_retry"),this._c=()=>{const i=Mg();i&&dt(CS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Mg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Mg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Sl(t))throw t;dt(CS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",DS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=t0.createAndSchedule(this,t,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&vt(47125,{Pc:DS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function DS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Ga extends Gd{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new IS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new IS(t),this._firestoreClient=void 0,await t}}}function f9(e,t){const n=typeof e=="object"?e:aR(),i=typeof e=="string"?e:ud,a=Sv(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=bV("firestore");l&&h9(a,...l)}return a}function Yd(e){if(e._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||d9(e),e._firestoreClient}function d9(e){const t=e._freezeSettings(),n=(function(a,l,c,f){return new V3(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,hC(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new s9(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(rn.fromBase64String(t))}catch(n){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Vn(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jc(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Oe("string",Vn._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(jc(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Oe("string",zi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jc(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Fi(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Oe("string",Fi._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=/^__.*__$/;class p9{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,n,this.fieldTransforms):new zc(t,this.data,n,this.fieldTransforms)}}class dC{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new ks(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function mC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:e})}}class a0{constructor(t,n,i,a,l,c){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new a0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return _d(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(mC(this.Ac)&&m9.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class g9{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Fd(t)}Cc(t,n,i,a=!1){return new a0({Ac:t,methodName:n,Dc:i,path:nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kd(e){const t=e._freezeSettings(),n=Fd(e._databaseId);return new g9(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pC(e,t,n,i,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);l0("Data must be an object, but it was:",c,i);const f=vC(i,c);let m,p;if(l.merge)m=new kn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const w=Py(t,_,n);if(!c.contains(w))throw new ct(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);TC(y,w)||y.push(w)}m=new kn(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new p9(new yn(f),m,p)}class Qd extends $d{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qd}}class o0 extends $d{_toFieldTransform(t){return new oU(t.path,new Ec)}isEqual(t){return t instanceof o0}}function gC(e,t,n,i){const a=e.Cc(1,t,n);l0("Data must be an object, but it was:",a,i);const l=[],c=yn.empty();Vs(i,((m,p)=>{const y=u0(t,m,n);p=Re(p);const _=a.yc(y);if(p instanceof Qd)l.push(y);else{const w=Yc(p,_);w!=null&&(l.push(y),c.set(y,w))}}));const f=new kn(l);return new dC(c,f,a.fieldTransforms)}function yC(e,t,n,i,a,l){const c=e.Cc(1,t,n),f=[Py(t,i,n)],m=[a];if(l.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Py(t,l[w])),m.push(l[w+1]);const p=[],y=yn.empty();for(let w=f.length-1;w>=0;--w)if(!TC(p,f[w])){const A=f[w];let I=m[w];I=Re(I);const j=c.yc(A);if(I instanceof Qd)p.push(A);else{const k=Yc(I,j);k!=null&&(p.push(A),y.set(A,k))}}const _=new kn(p);return new dC(y,_,c.fieldTransforms)}function y9(e,t,n,i=!1){return Yc(n,e.Cc(i?4:3,t))}function Yc(e,t){if(_C(e=Re(e)))return l0("Unsupported field value:",t,e),vC(e,t);if(e instanceof $d)return(function(i,a){if(!mC(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let m=Yc(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(i,a){if((i=Re(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return rU(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ae.fromDate(i);return{timestampValue:md(a.serializer,l)}}if(i instanceof ae){const l=new ae(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:md(a.serializer,l)}}if(i instanceof zi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vn)return{bytesValue:Px(a.serializer,i._byteString)};if(i instanceof Te){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Hv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Fi)return(function(c,f){return{mapValue:{fields:{[ax]:{stringValue:ox},[cd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return zv(f.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Pd(i)}`)})(e,t)}function vC(e,t){const n={};return tx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vs(e,((i,a)=>{const l=Yc(a,t.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function _C(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ae||e instanceof zi||e instanceof Vn||e instanceof Te||e instanceof $d||e instanceof Fi)}function l0(e,t,n){if(!_C(n)||!ZR(n)){const i=Pd(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function Py(e,t,n){if((t=Re(t))instanceof Gc)return t._internalPath;if(typeof t=="string")return u0(e,t);throw _d("Field path arguments must be of type string or ",e,!1,void 0,n)}const v9=new RegExp("[~\\*/\\[\\]]");function u0(e,t,n){if(t.search(v9)>=0)throw _d(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Gc(...t.split("."))._internalPath}catch{throw _d(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function _d(e,t,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ct(J.INVALID_ARGUMENT,f+e+m)}function TC(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,n,i,a,l){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Xd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _9 extends Td{data(){return super.data()}}function Xd(e,t){return typeof t=="string"?u0(e,t):t instanceof Gc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c0{}class h0 extends c0{}function Da(e,t,...n){let i=[];t instanceof c0&&i.push(t),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof f0)).length,f=l.filter((m=>m instanceof Wd)).length;if(c>1||c>0&&f>0)throw new ct(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)e=a._apply(e);return e}class Wd extends h0{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Wd(t,n,i)}_apply(t){const n=this._parse(t);return EC(t._query,n),new Ls(t.firestore,t.converter,Sy(t._query,n))}_parse(t){const n=Kd(t.firestore);return(function(l,c,f,m,p,y,_){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){MS(_,y);const I=[];for(const j of _)I.push(NS(m,l,j));w={arrayValue:{values:I}}}else w=NS(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||MS(_,y),w=y9(f,c,_,y==="in"||y==="not-in");return Pe.create(p,y,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Na(e,t,n){const i=t,a=Xd("where",e);return Wd._create(a,i,n)}class f0 extends c0{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new f0(t,n)}_parse(t){const n=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)EC(c,m),c=Sy(c,m)})(t._query,n),new Ls(t.firestore,t.converter,Sy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class d0 extends h0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new d0(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ct(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(l,c)})(t._query,this._field,this._direction);return new Ls(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Al(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function E9(e,t="asc"){const n=t,i=Xd("orderBy",e);return d0._create(i,n)}class m0 extends h0{constructor(t,n,i){super(),this.type=t,this._limit=n,this._limitType=i}static _create(t,n,i){return new m0(t,n,i)}_apply(t){return new Ls(t.firestore,t.converter,fd(t._query,this._limit,this._limitType))}}function w9(e){return m0._create("limit",e,"F")}function NS(e,t,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new ct(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!px(t)&&n.indexOf("/")!==-1)throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(ne.fromString(n));if(!gt.isDocumentKey(i))throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kb(e,new gt(i))}if(n instanceof Te)return Kb(e,n._key);throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pd(n)}.`)}function MS(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function EC(e,t){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class wC{convertValue(t,n="none"){switch(Cs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Vs(t,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(t){const n=t.fields?.[cd].arrayValue?.values?.map((i=>Ae(i.doubleValue)));return new Fi(n)}convertGeoPoint(t){return new zi(Ae(t.latitude),Ae(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Vd(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(yc(t));default:return null}}convertTimestamp(t){const n=Rs(t);return new ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=ne.fromString(t);qt(Bx(i),9688,{name:t});const a=new vc(i.get(1),i.get(3)),l=new gt(i.popFirst(5));return a.isEqual(n)||Dr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class b9 extends wC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,n)}}class Wo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ws extends Td{constructor(t,n,i,a,l,c){super(t,n,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Xd("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:Oe("string",ws._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Yf extends ws{data(t={}){return super.data(t)}}class rl{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Wo(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new Yf(this._firestore,this._userDataWriter,i.key,i,new Wo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Yf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Wo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Yf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Wo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:S9(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ov.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function S9(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e){e=di(e,Te);const t=di(e.firestore,Ga);return u9(Yd(t),e._key).then((n=>A9(t,e,n)))}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:Oe("string",rl._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class p0 extends wC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,n)}}function Ma(e){e=di(e,Ls);const t=di(e.firestore,Ga),n=Yd(t),i=new p0(t);return T9(e._query),c9(n,e._query).then((a=>new rl(t,i,e,a)))}function ja(e,t,n){e=di(e,Te);const i=di(e.firestore,Ga),a=bC(e.converter,t,n);return g0(i,[pC(Kd(i),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,cn.none())])}function Sc(e,t,n,...i){e=di(e,Te);const a=di(e.firestore,Ga),l=Kd(a);let c;return c=typeof(t=Re(t))=="string"||t instanceof Gc?yC(l,"updateDoc",e._key,t,n,i):gC(l,"updateDoc",e._key,t),g0(a,[c.toMutation(e._key,cn.exists(!0))])}function Df(e){return g0(di(e.firestore,Ga),[new Bd(e._key,cn.none())])}function g0(e,t){return(function(i,a){const l=new ji;return i.asyncQueue.enqueueAndForget((async()=>K6(await o9(i),a,l))),l.promise})(Yd(e),t)}function A9(e,t,n){const i=n.docs.get(t._key),a=new p0(e);return new ws(e,a,t._key,i,new Wo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9={maxAttempts:5};function $u(e,t){if((e=Re(e)).firestore!==t)throw new ct(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Kd(t)}get(t){const n=$u(t,this._firestore),i=new b9(this._firestore);return this._transaction.lookup([n._key]).then((a=>{if(!a||a.length!==1)return vt(24041);const l=a[0];if(l.isFoundDocument())return new Td(this._firestore,i,l.key,l,n.converter);if(l.isNoDocument())return new Td(this._firestore,i,n._key,null,n.converter);throw vt(18433,{doc:l})}))}set(t,n,i){const a=$u(t,this._firestore),l=bC(a.converter,n,i),c=pC(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,c),this}update(t,n,i,...a){const l=$u(t,this._firestore);let c;return c=typeof(n=Re(n))=="string"||n instanceof Gc?yC(this._dataReader,"Transaction.update",l._key,n,i,a):gC(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,c),this}delete(t){const n=$u(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9 extends x9{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=$u(t,this._firestore),i=new p0(this._firestore);return super.get(t).then((a=>new ws(this._firestore,i,n._key,a._document,new Wo(!1,!1),n.converter)))}}function I9(e,t,n){e=di(e,Ga);const i={...R9,...n};return(function(l){if(l.maxAttempts<1)throw new ct(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(l,c,f){const m=new ji;return l.asyncQueue.enqueueAndForget((async()=>{const p=await l9(l);new r9(l.asyncQueue,p,f,c,m).ju()})),m.promise})(Yd(e),(a=>t(new C9(e,a))),i)}function PS(){return new o0("serverTimestamp")}(function(t,n=!0){(function(a){wl=a})(Tl),ol(new Oa("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Ga(new g3(i.getProvider("auth-internal")),new _3(c,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),_s(Vb,kb,t),_s(Vb,kb,"esm2020")})();var D9="firebase",N9="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(D9,N9,"app");const M9={apiKey:"AIzaSyAPdjCA0-eBPHzOP4mg8S5eJvCpeRK_wH4",authDomain:"streaks-b68de.firebaseapp.com",projectId:"streaks-b68de",storageBucket:"streaks-b68de.firebasestorage.app",messagingSenderId:"392608226549",appId:"1:392608226549:web:2ecbe2c628e56353f839bc",measurementId:"G-1XGVS7R7MY"},SC=sR(M9),Zd=f3(SC),$t=f9(SC),P9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O9=(e,t,n)=>{let i;const a=P9[e];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Og(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const V9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U9={date:Og({formats:V9,defaultWidth:"full"}),time:Og({formats:k9,defaultWidth:"full"}),dateTime:Og({formats:L9,defaultWidth:"full"})},j9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B9=(e,t,n,i)=>j9[e];function ju(e){return(t,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=n?.width?String(n.width):c;a=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=n?.width?String(n.width):e.defaultWidth;a=e.values[f]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const z9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},q9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},H9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},G9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Y9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$9=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},K9={ordinalNumber:$9,era:ju({values:z9,defaultWidth:"wide"}),quarter:ju({values:F9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ju({values:q9,defaultWidth:"wide"}),day:ju({values:H9,defaultWidth:"wide"}),dayPeriod:ju({values:G9,defaultWidth:"wide",formattingValues:Y9,defaultFormattingWidth:"wide"})};function Bu(e){return(t,n={})=>{const i=n.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const c=l[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(f)?X9(f,_=>_.test(c)):Q9(f,_=>_.test(c));let p;p=e.valueCallback?e.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const y=t.slice(c.length);return{value:p,rest:y}}}function Q9(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function X9(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function W9(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const a=i[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const f=t.slice(a.length);return{value:c,rest:f}}}const Z9=/^(\d+)(th|st|nd|rd)?/i,J9=/\d+/i,tj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ej={any:[/^b/i,/^(a|c)/i]},nj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ij={any:[/1/i,/2/i,/3/i,/4/i]},rj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cj={ordinalNumber:W9({matchPattern:Z9,parsePattern:J9,valueCallback:e=>parseInt(e,10)}),era:Bu({matchPatterns:tj,defaultMatchWidth:"wide",parsePatterns:ej,defaultParseWidth:"any"}),quarter:Bu({matchPatterns:nj,defaultMatchWidth:"wide",parsePatterns:ij,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bu({matchPatterns:rj,defaultMatchWidth:"wide",parsePatterns:sj,defaultParseWidth:"any"}),day:Bu({matchPatterns:aj,defaultMatchWidth:"wide",parsePatterns:oj,defaultParseWidth:"any"}),dayPeriod:Bu({matchPatterns:lj,defaultMatchWidth:"any",parsePatterns:uj,defaultParseWidth:"any"})},hj={code:"en-US",formatDistance:O9,formatLong:U9,formatRelative:B9,localize:K9,match:cj,options:{weekStartsOn:0,firstWeekContainsDate:1}};let fj={};function $c(){return fj}const AC=6048e5,dj=864e5,OS=Symbol.for("constructDateFrom");function Ns(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&OS in e?e[OS](t):e instanceof Date?new e.constructor(t):new Date(t)}function pi(e,t){return Ns(t||e,e)}function VS(e){const t=pi(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mj(e,...t){const n=Ns.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function kS(e,t){const n=pi(e,t?.in);return n.setHours(0,0,0,0),n}function pj(e,t,n){const[i,a]=mj(n?.in,e,t),l=kS(i),c=kS(a),f=+l-VS(l),m=+c-VS(c);return Math.round((f-m)/dj)}function gj(e,t){const n=pi(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function yj(e,t){const n=pi(e,t?.in);return pj(n,gj(n))+1}function Ac(e,t){const n=$c(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=pi(e,t?.in),l=a.getDay(),c=(l<i?7:0)+l-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Ed(e,t){return Ac(e,{...t,weekStartsOn:1})}function RC(e,t){const n=pi(e,t?.in),i=n.getFullYear(),a=Ns(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=Ed(a),c=Ns(n,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=Ed(c);return n.getTime()>=l.getTime()?i+1:n.getTime()>=f.getTime()?i:i-1}function vj(e,t){const n=RC(e,t),i=Ns(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Ed(i)}function _j(e,t){const n=pi(e,t?.in),i=+Ed(n)-+vj(n);return Math.round(i/AC)+1}function xC(e,t){const n=pi(e,t?.in),i=n.getFullYear(),a=$c(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Ns(t?.in||e,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const f=Ac(c,t),m=Ns(t?.in||e,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const p=Ac(m,t);return+n>=+f?i+1:+n>=+p?i:i-1}function Tj(e,t){const n=$c(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=xC(e,t),l=Ns(t?.in||e,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Ac(l,t)}function Ej(e,t){const n=pi(e,t?.in),i=+Ac(n,t)-+Tj(n,t);return Math.round(i/AC)+1}function Wt(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const us={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Wt(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Wt(n+1,2)},d(e,t){return Wt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Wt(e.getHours()%12||12,t.length)},H(e,t){return Wt(e.getHours(),t.length)},m(e,t){return Wt(e.getMinutes(),t.length)},s(e,t){return Wt(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),a=Math.trunc(i*Math.pow(10,n-3));return Wt(a,t.length)}},jo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LS={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return us.y(e,t)},Y:function(e,t,n,i){const a=xC(e,i),l=a>0?a:1-a;if(t==="YY"){const c=l%100;return Wt(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Wt(l,t.length)},R:function(e,t){const n=RC(e);return Wt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Wt(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Wt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Wt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return us.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Wt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const a=Ej(e,i);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Wt(a,t.length)},I:function(e,t,n){const i=_j(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Wt(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):us.d(e,t)},D:function(e,t,n){const i=yj(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Wt(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const a=e.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Wt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const a=e.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Wt(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return Wt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let a;switch(i===12?a=jo.noon:i===0?a=jo.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let a;switch(i>=17?a=jo.evening:i>=12?a=jo.afternoon:i>=4?a=jo.morning:a=jo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return us.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):us.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Wt(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Wt(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):us.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):us.s(e,t)},S:function(e,t){return us.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return jS(i);case"XXXX":case"XX":return Sa(i);case"XXXXX":case"XXX":default:return Sa(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return jS(i);case"xxxx":case"xx":return Sa(i);case"xxxxx":case"xxx":default:return Sa(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+US(i,":");case"OOOO":default:return"GMT"+Sa(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+US(i,":");case"zzzz":default:return"GMT"+Sa(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Wt(i,t.length)},T:function(e,t,n){return Wt(+e,t.length)}};function US(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),a=Math.trunc(i/60),l=i%60;return l===0?n+String(a):n+String(a)+t+Wt(l,2)}function jS(e,t){return e%60===0?(e>0?"-":"+")+Wt(Math.abs(e)/60,2):Sa(e,t)}function Sa(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),a=Wt(Math.trunc(i/60),2),l=Wt(i%60,2);return n+a+t+l}const BS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},CC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wj=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return BS(e,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",BS(i,t)).replace("{{time}}",CC(a,t))},bj={p:CC,P:wj},Sj=/^D+$/,Aj=/^Y+$/,Rj=["D","DD","YY","YYYY"];function xj(e){return Sj.test(e)}function Cj(e){return Aj.test(e)}function Ij(e,t,n){const i=Dj(e,t,n);if(console.warn(i),Rj.includes(e))throw new RangeError(i)}function Dj(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Nj(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Mj(e){return!(!Nj(e)&&typeof e!="number"||isNaN(+pi(e)))}const Pj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vj=/^'([^]*?)'?$/,kj=/''/g,Lj=/[a-zA-Z]/;function Uj(e,t,n){const i=$c(),a=n?.locale??i.locale??hj,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=pi(e,n?.in);if(!Mj(f))throw new RangeError("Invalid time value");let m=t.match(Oj).map(y=>{const _=y[0];if(_==="p"||_==="P"){const w=bj[_];return w(y,a.formatLong)}return y}).join("").match(Pj).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:jj(y)};if(LS[_])return{isToken:!0,value:y};if(_.match(Lj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!n?.useAdditionalWeekYearTokens&&Cj(_)||!n?.useAdditionalDayOfYearTokens&&xj(_))&&Ij(_,t,String(e));const w=LS[_[0]];return w(f,_,a.localize,p)}).join("")}function jj(e){const t=e.match(Vj);return t?t[1].replace(kj,"'"):e}function Bj(){return Object.assign({},$c())}function zS(e,t,n){const i=Bj(),a=qj(e,n.timeZone,n.locale??i.locale);return"formatToParts"in a?zj(a,t):Fj(a,t)}function zj(e,t){const n=e.formatToParts(t);for(let i=n.length-1;i>=0;--i)if(n[i].type==="timeZoneName")return n[i].value}function Fj(e,t){const n=e.format(t).replace(/\u200E/g,""),i=/ [\w-+ ]+$/.exec(n);return i?i[0].substr(1):""}function qj(e,t,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function Hj(e,t){const n=Qj(t);return"formatToParts"in n?Yj(n,e):$j(n,e)}const Gj={year:0,month:1,day:2,hour:3,minute:4,second:5};function Yj(e,t){try{const n=e.formatToParts(t),i=[];for(let a=0;a<n.length;a++){const l=Gj[n[a].type];l!==void 0&&(i[l]=parseInt(n[a].value,10))}return i}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function $j(e,t){const n=e.format(t),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(i[3],10),parseInt(i[1],10),parseInt(i[2],10),parseInt(i[4],10),parseInt(i[5],10),parseInt(i[6],10)]}const Vg={},FS=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Kj=FS==="06/25/2014, 00:00:00"||FS==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function Qj(e){return Vg[e]||(Vg[e]=Kj?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Vg[e]}function IC(e,t,n,i,a,l,c){const f=new Date(0);return f.setUTCFullYear(e,t,n),f.setUTCHours(i,a,l,c),f}const qS=36e5,Xj=6e4,kg={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function y0(e,t,n){if(!e)return 0;let i=kg.timezoneZ.exec(e);if(i)return 0;let a,l;if(i=kg.timezoneHH.exec(e),i)return a=parseInt(i[1],10),HS(a)?-(a*qS):NaN;if(i=kg.timezoneHHMM.exec(e),i){a=parseInt(i[2],10);const c=parseInt(i[3],10);return HS(a,c)?(l=Math.abs(a)*qS+c*Xj,i[1]==="+"?-l:l):NaN}if(Jj(e)){t=new Date(t||Date.now());const c=n?t:Wj(t),f=Oy(c,e);return-(n?f:Zj(t,f,e))}return NaN}function Wj(e){return IC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Oy(e,t){const n=Hj(e,t),i=IC(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let a=e.getTime();const l=a%1e3;return a-=l>=0?l:1e3+l,i-a}function Zj(e,t,n){let a=e.getTime()-t;const l=Oy(new Date(a),n);if(t===l)return t;a-=l-t;const c=Oy(new Date(a),n);return l===c?l:Math.max(l,c)}function HS(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const GS={};function Jj(e){if(GS[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),GS[e]=!0,!0}catch{return!1}}const t5=60*1e3,e5={X:function(e,t,n){const i=Lg(n.timeZone,e);if(i===0)return"Z";switch(t){case"X":return YS(i);case"XXXX":case"XX":return Ho(i);case"XXXXX":case"XXX":default:return Ho(i,":")}},x:function(e,t,n){const i=Lg(n.timeZone,e);switch(t){case"x":return YS(i);case"xxxx":case"xx":return Ho(i);case"xxxxx":case"xxx":default:return Ho(i,":")}},O:function(e,t,n){const i=Lg(n.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+n5(i,":");case"OOOO":default:return"GMT"+Ho(i,":")}},z:function(e,t,n){switch(t){case"z":case"zz":case"zzz":return zS("short",e,n);case"zzzz":default:return zS("long",e,n)}}};function Lg(e,t){const n=e?y0(e,t,!0)/t5:t?.getTimezoneOffset()??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function wd(e,t){const n=e<0?"-":"";let i=Math.abs(e).toString();for(;i.length<t;)i="0"+i;return n+i}function Ho(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),a=wd(Math.floor(i/60),2),l=wd(Math.floor(i%60),2);return n+a+t+l}function YS(e,t){return e%60===0?(e>0?"-":"+")+wd(Math.abs(e)/60,2):Ho(e,t)}function n5(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),a=Math.floor(i/60),l=i%60;return l===0?n+String(a):n+String(a)+t+wd(l,2)}function $S(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const i5=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Ug=36e5,KS=6e4,r5=2,vn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:i5};function DC(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const n=t.additionalDigits==null?r5:Number(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const i=s5(e),{year:a,restDateString:l}=a5(i.date,n),c=o5(l,a);if(c===null||isNaN(c.getTime()))return new Date(NaN);if(c){const f=c.getTime();let m=0,p;if(i.time&&(m=l5(i.time),m===null||isNaN(m)))return new Date(NaN);if(i.timeZone||t.timeZone){if(p=y0(i.timeZone||t.timeZone,new Date(f+m)),isNaN(p))return new Date(NaN)}else p=$S(new Date(f+m)),p=$S(new Date(f+m+p));return new Date(f+m+p)}else return new Date(NaN)}function s5(e){const t={};let n=vn.dateTimePattern.exec(e),i;if(n?(t.date=n[1],i=n[3]):(n=vn.datePattern.exec(e),n?(t.date=n[1],i=n[2]):(t.date=null,i=e)),i){const a=vn.timeZone.exec(i);a?(t.time=i.replace(a[1],""),t.timeZone=a[1].trim()):t.time=i}return t}function a5(e,t){if(e){const n=vn.YYY[t],i=vn.YYYYY[t];let a=vn.YYYY.exec(e)||i.exec(e);if(a){const l=a[1];return{year:parseInt(l,10),restDateString:e.slice(l.length)}}if(a=vn.YY.exec(e)||n.exec(e),a){const l=a[1];return{year:parseInt(l,10)*100,restDateString:e.slice(l.length)}}}return{year:null}}function o5(e,t){if(t===null)return null;let n,i,a;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let l=vn.MM.exec(e);if(l)return n=new Date(0),i=parseInt(l[1],10)-1,XS(t,i)?(n.setUTCFullYear(t,i),n):new Date(NaN);if(l=vn.DDD.exec(e),l){n=new Date(0);const c=parseInt(l[1],10);return h5(t,c)?(n.setUTCFullYear(t,0,c),n):new Date(NaN)}if(l=vn.MMDD.exec(e),l){n=new Date(0),i=parseInt(l[1],10)-1;const c=parseInt(l[2],10);return XS(t,i,c)?(n.setUTCFullYear(t,i,c),n):new Date(NaN)}if(l=vn.Www.exec(e),l)return a=parseInt(l[1],10)-1,WS(a)?QS(t,a):new Date(NaN);if(l=vn.WwwD.exec(e),l){a=parseInt(l[1],10)-1;const c=parseInt(l[2],10)-1;return WS(a,c)?QS(t,a,c):new Date(NaN)}return null}function l5(e){let t,n,i=vn.HH.exec(e);if(i)return t=parseFloat(i[1].replace(",",".")),jg(t)?t%24*Ug:NaN;if(i=vn.HHMM.exec(e),i)return t=parseInt(i[1],10),n=parseFloat(i[2].replace(",",".")),jg(t,n)?t%24*Ug+n*KS:NaN;if(i=vn.HHMMSS.exec(e),i){t=parseInt(i[1],10),n=parseInt(i[2],10);const a=parseFloat(i[3].replace(",","."));return jg(t,n,a)?t%24*Ug+n*KS+a*1e3:NaN}return null}function QS(e,t,n){t=t||0,n=n||0;const i=new Date(0);i.setUTCFullYear(e,0,4);const a=i.getUTCDay()||7,l=t*7+n+1-a;return i.setUTCDate(i.getUTCDate()+l),i}const u5=[31,28,31,30,31,30,31,31,30,31,30,31],c5=[31,29,31,30,31,30,31,31,30,31,30,31];function NC(e){return e%400===0||e%4===0&&e%100!==0}function XS(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;const i=NC(e);if(i&&n>c5[t]||!i&&n>u5[t])return!1}return!0}function h5(e,t){if(t<1)return!1;const n=NC(e);return!(n&&t>366||!n&&t>365)}function WS(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function jg(e,t,n){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}const f5=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function d5(e,t,n={}){t=String(t);const i=t.match(f5);if(i){const a=DC(n.originalDate||e,n);t=i.reduce(function(l,c){if(c[0]==="'")return l;const f=l.indexOf(c),m=l[f-1]==="'",p=l.replace(c,"'"+e5[c[0]](a,c,n)+"'");return m?p.substring(0,f-1)+p.substring(f+1):p},t)}return Uj(e,t,n)}function m5(e,t,n){e=DC(e,n);const i=y0(t,e,!0),a=new Date(e.getTime()-i),l=new Date(0);return l.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),l.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),l}function p5(e,t,n,i){return i={...i,timeZone:t,originalDate:e},d5(m5(e,t,{timeZone:i.timeZone}),n,i)}function Vy(e,t){return p5(e,t,"yyyy-MM-dd")}function v0(){return Intl.DateTimeFormat().resolvedOptions().timeZone}async function g5(e,t,n){try{console.log("Starting signup process for:",e,n);const a=(await Q4(Zd,e,t)).user;console.log("User created:",a.uid),await new Promise(m=>setTimeout(m,1e3)),console.log("Reserving username:",n);const l=_e($t,"usernames",n);if((await Ln(l)).exists())throw console.log("Username already taken"),new Error("Username already taken");await ja(l,{uid:a.uid}),console.log("Username reserved successfully"),console.log("Creating profile for user:",a.uid);const f=_e($t,"profiles",a.uid);await ja(f,{username:n,currentTimezone:v0(),createdAt:new Date,updatedAt:new Date}),console.log("Profile created successfully")}catch(i){throw console.error("Signup error:",i),i}}async function y5(e,t){await X4(Zd,e,t)}async function MC(){await tL(Zd)}function Jd(e){return J4(Zd,e)}async function v5(e){try{console.log("Starting account deletion for user:",e.uid);const t=_e($t,"profiles",e.uid),n=await Ln(t);let i=null;if(n.exists()&&(i=n.data().username),i){const c=_e($t,"usernames",i);try{await Df(c),console.log("Username reservation deleted")}catch(f){console.warn("Error deleting username reservation:",f)}}const a=Da(Sr($t,"challenges"),Na("members","array-contains",e.uid)),l=await Ma(a);for(const c of l.docs){const f=c.id,p=c.data().members.filter(A=>A!==e.uid);await Sc(c.ref,{members:p,updatedAt:new Date});const y=_e($t,"challengeParticipants",`${f}_${e.uid}`);try{await Df(y),console.log("Participant data deleted for challenge:",f)}catch(A){console.warn("Error deleting participant data for challenge:",f,A)}const _=Da(Sr($t,"checkins"),Na("uid","==",e.uid),Na("challengeId","==",f)),w=await Ma(_);for(const A of w.docs)try{await Df(A.ref)}catch(I){console.warn("Error deleting check-in:",A.id,I)}console.log("Check-ins deleted for challenge:",f)}try{await Df(t),console.log("Profile deleted")}catch(c){console.warn("Error deleting profile:",c)}await eL(e),console.log("Firebase Auth user deleted")}catch(t){throw console.error("Error during account deletion:",t),t}}function _5({onSuccess:e}){const[t,n]=O.useState(!1),[i,a]=O.useState(""),[l,c]=O.useState(""),[f,m]=O.useState(""),[p,y]=O.useState(""),[_,w]=O.useState(!1),A=async I=>{I.preventDefault(),y(""),w(!0);try{t?await g5(i,l,f):await y5(i,l),e()}catch(j){y(j instanceof Error?j.message:"An error occurred")}finally{w(!1)}};return C.jsx(hi,{className:"w-full",children:C.jsxs(Ft.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[C.jsxs("div",{className:"text-center mb-6",children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t?"Create Account":"Welcome Back"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t?"Start your streak journey today":"Continue building your habits"})]}),C.jsxs("form",{onSubmit:A,className:"space-y-4",children:[C.jsxs(Ft.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),C.jsx("input",{type:"email",value:i,onChange:I=>a(I.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-colors",placeholder:"your@email.com",required:!0})]}),C.jsxs(Ft.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),C.jsx("input",{type:"password",value:l,onChange:I=>c(I.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-colors",placeholder:"••••••••",required:!0})]}),t&&C.jsxs(Ft.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.3},children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),C.jsx("input",{type:"text",value:f,onChange:I=>m(I.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-colors",placeholder:"Your display name",required:!0})]}),p&&C.jsx(Ft.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:C.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:p})}),C.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:C.jsx(Sn,{type:"submit",disabled:_,className:"w-full",size:"lg",children:_?C.jsxs("div",{className:"flex items-center justify-center",children:[C.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),t?"Creating Account...":"Signing In..."]}):t?"Create Account":"Sign In"})})]}),C.jsx(Ft.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.5},className:"mt-6 text-center",children:C.jsx("button",{onClick:()=>n(!t),className:"text-pink-500 hover:text-pink-600 dark:text-pink-400 dark:hover:text-pink-300 transition-colors text-sm font-medium",children:t?"Already have an account? Sign In":"Need an account? Sign Up"})})]})})}function T5(){const e=za(),t=()=>{e("/app")};return C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-yellow-100 dark:from-gray-900 dark:via-purple-900 dark:to-gray-900 flex items-center justify-center px-4",children:C.jsxs(Ft.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx(Ft.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"🔥 Streaks"}),C.jsx(Ft.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"text-lg text-gray-600 dark:text-gray-300",children:"Track Your Daily Challenges"})]}),C.jsx(_5,{onSuccess:t})]})})}async function E5(e,t,n,i){try{const a=_e(Sr($t,"challenges")),l={ownerUid:e.uid,name:t,isGroup:n,visibility:i,members:[e.uid],startDate:new Date,streakPolicy:{window:"calendar",resetHour:0},createdAt:new Date,updatedAt:new Date};console.log("Creating challenge:",l),await ja(a,l),console.log("Challenge created with ID:",a.id);const c=_e($t,"challengeParticipants",`${a.id}_${e.uid}`),f={uid:e.uid,challengeId:a.id,currentStreak:0,longestStreak:0,lastCheckinDate:null,createdAt:new Date,updatedAt:new Date};return console.log("Creating participant:",f),await ja(c,f),console.log("Participant created"),a.id}catch(a){throw console.error("Error in createChallenge:",a),a}}async function PC(e,t){const n=_e($t,"challenges",e),i=await Ln(n);if(!i.exists())throw new Error("Challenge not found");const a=i.data();if(a.members.includes(t.uid))return;await Sc(n,{members:[...a.members,t.uid],updatedAt:new Date});const l=_e($t,"challengeParticipants",`${e}_${t.uid}`);(await Ln(l)).exists()||await ja(l,{uid:t.uid,challengeId:e,currentStreak:0,longestStreak:0,lastCheckinDate:null,createdAt:new Date,updatedAt:new Date})}async function w5(e,t){try{if(console.log("Generating invite token for user:",t.uid,"challenge:",e),!t||!t.uid)throw new Error("User not authenticated");const n=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);console.log("Generated token:",n);const i=_e(Sr($t,"invites")),a={token:n,challengeId:e,createdBy:t.uid,createdAt:new Date,expiresAt:new Date(Date.now()+10080*60*1e3)};console.log("Creating invite document with data:",a);let l=0;const c=3;for(;l<c;)try{return await ja(i,a),console.log("Invite token created successfully"),n}catch(f){if(l++,console.warn(`Attempt ${l} failed:`,f),l>=c)throw f;await new Promise(m=>setTimeout(m,1e3))}throw new Error("Failed to create invite token after multiple attempts")}catch(n){throw console.error("Error generating invite token:",n),console.error("Error details:",{user:t?t.uid:"no user",challengeId:e}),n}}async function b5(e){try{const t=Da(Sr($t,"invites"),Na("token","==",e)),n=await Ma(t);if(n.empty)return null;const i=n.docs[0].data();return new Date>i.expiresAt.toDate()?null:i.challengeId}catch(t){return console.error("Error getting challenge from token:",t),null}}async function S5(e){try{console.log("Getting challenges for user:",e.uid),console.log("User authenticated:",!!e),console.log("User email:",e.email);const t=Da(Sr($t,"challenges"),Na("members","array-contains",e.uid));console.log("Executing query...");const n=await Ma(t);console.log("Query completed, found",n.docs.length,"challenges");const i=n.docs.map(a=>{const l=a.data();return console.log("Challenge doc:",a.id,l),{id:a.id,...l}});return console.log("Challenges:",i),i}catch(t){throw console.error("Error in getUserChallenges:",t),console.error("Error details:",{message:t instanceof Error?t.message:"Unknown error",code:t?.code||"Unknown code",user:e?e.uid:"no user"}),t}}async function A5(e,t){const n=v0(),i=new Date,a=Vy(i,n),l=`${e}_${t.uid}_${a}`,c=_e($t,"checkins",l);if(console.log("Checking in for challenge:",e,"user:",t.uid),(await Ln(c)).exists()){console.log("Already checked in today");return}console.log("Starting transaction for check-in"),await I9($t,async m=>{const p=_e($t,"challengeParticipants",`${e}_${t.uid}`);console.log("Getting participant document:",p.path);const y=await m.get(p);let _;y.exists()?(_=y.data(),console.log("Participant data:",_)):(console.log("Participant document not found, creating it"),_={uid:t.uid,challengeId:e,currentStreak:0,longestStreak:0,lastCheckinDate:null,createdAt:new Date,updatedAt:new Date},m.set(p,_));const w=_.lastCheckinDate;let A=1;if(w){const I=Vy(new Date(i.getTime()-864e5),n);w===I&&(A=_.currentStreak+1)}console.log("Creating check-in document:",l),m.set(c,{uid:t.uid,challengeId:e,date:a,at:PS()}),console.log("Updating participant document with streak:",A),m.update(p,{currentStreak:A,longestStreak:Math.max(_.longestStreak||0,A),lastCheckinDate:a,updatedAt:PS()})}),console.log("Check-in transaction completed successfully")}async function $f(e,t){const n=v0(),i=Vy(new Date,n),a=`${e}_${t.uid}_${i}`;return(await Ln(_e($t,"checkins",a))).exists()}function jn(){const e=za(),[t,n]=O.useState(!1),i=async()=>{await MC(),e("/")},a=[{to:"/app",label:"Dashboard"},{to:"/leaderboard",label:"Leaderboard"},{to:"/profile",label:"Profile"}];return C.jsx("nav",{className:"sticky top-0 z-40 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700",children:C.jsxs("div",{className:"container mx-auto px-4 py-3",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx(Zo,{to:"/app",className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🔥 Streaks"}),C.jsxs("div",{className:"hidden md:flex space-x-6",children:[a.map(l=>C.jsx(Zo,{to:l.to,className:"text-gray-700 dark:text-gray-300 hover:text-pink-500 dark:hover:text-pink-400 transition-colors duration-200",children:l.label},l.to)),C.jsx("button",{onClick:i,className:"text-gray-700 dark:text-gray-300 hover:text-pink-500 dark:hover:text-pink-400 transition-colors duration-200",children:"Sign Out"})]}),C.jsx("button",{className:"md:hidden text-gray-700 dark:text-gray-300",onClick:()=>n(!t),children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]}),C.jsx(o1,{children:t&&C.jsx(Ft.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden mt-4 pb-4 border-t border-gray-200 dark:border-gray-700",children:C.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[a.map(l=>C.jsx(Zo,{to:l.to,className:"text-gray-700 dark:text-gray-300 hover:text-pink-500 dark:hover:text-pink-400 transition-colors duration-200",onClick:()=>n(!1),children:l.label},l.to)),C.jsx("button",{onClick:()=>{i(),n(!1)},className:"text-left text-gray-700 dark:text-gray-300 hover:text-pink-500 dark:hover:text-pink-400 transition-colors duration-200",children:"Sign Out"})]})})})]})})}function R5(){const[e,t]=O.useState(null),[n,i]=O.useState([]),[a,l]=O.useState(!0),c=za(),f=O.useCallback(async p=>{try{const y=await S5(p),_=await Promise.all(y.map(async w=>{const A=await $f(w.id,p);let I=0;try{const j=_e($t,"challengeParticipants",`${w.id}_${p.uid}`),k=await Ln(j);k.exists()&&(I=k.data().currentStreak||0)}catch(j){console.error("Error fetching participant data:",j)}return{...w,hasCheckedToday:A,currentStreak:I}}));i(_),console.log("Loaded challenges:",_)}catch(y){console.error("Error loading challenges:",y),setTimeout(()=>{p&&f(p)},1e3)}finally{l(!1)}},[]);O.useEffect(()=>Jd(y=>{if(!y){c("/");return}t(y),f(y)}),[c,f]);const m=async()=>{const p=prompt("Challenge name:");if(p&&e)try{await E5(e,p,!1,"private"),f(e)}catch{alert("Error creating challenge")}};return a?C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsx("div",{className:"text-center",children:"Loading..."})})]}):C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsxs("div",{className:"container mx-auto px-4 py-8",children:[C.jsxs(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Your Streaks"}),C.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Keep the momentum going! 🔥"})]}),C.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[n.map((p,y)=>C.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:y*.1},children:C.jsxs(hi,{className:"cursor-pointer",onClick:()=>c(`/challenge/${p.id}`),children:[C.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:p.name}),C.jsxs("div",{className:"flex items-center justify-center mb-4",children:[C.jsx("span",{className:"text-4xl mr-3",children:"🔥"}),C.jsx(Ft.span,{className:"text-5xl font-bold text-pink-500",initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.3},children:p.currentStreak},p.currentStreak)]}),C.jsx(K1,{progress:p.currentStreak%7*(100/7),className:"mb-4"}),C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:p.hasCheckedToday?"Checked in today!":"Check in to keep your streak"})]})},p.id)),C.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n.length*.1},children:C.jsx(hi,{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 cursor-pointer hover:border-pink-500 dark:hover:border-pink-400",onClick:m,children:C.jsxs("div",{className:"text-center py-8",children:[C.jsx("div",{className:"text-6xl mb-4 text-gray-400 dark:text-gray-500",children:"+"}),C.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Create New Challenge"}),C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Start a new streak today"})]})})})]}),n.length===0&&C.jsxs(Ft.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[C.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:"No challenges yet. Create your first streak!"}),C.jsx(Sn,{onClick:m,size:"lg",children:"Get Started"})]})]})]})}function x5({challengeId:e,user:t,onCheckIn:n,disabled:i}){const[a,l]=O.useState(!1),c=async()=>{l(!0);try{await A5(e,t),n()}catch{alert("Error checking in")}finally{l(!1)}};return C.jsx(Ft.div,{whileHover:i?{}:{scale:1.05},whileTap:i?{}:{scale:.95},children:C.jsx(Sn,{onClick:c,disabled:i||a,size:"lg",className:"w-full max-w-xs mx-auto",children:a?"Checking In...":i?"Already Checked In":"Check In 🔥"})})}function _0({src:e,alt:t="Avatar",fallback:n,size:i="md",className:a=""}){const l={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"};return C.jsx("div",{className:`rounded-full overflow-hidden bg-gray-300 dark:bg-gray-600 flex items-center justify-center ${l[i]} ${a}`,children:e?C.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"}):n||C.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-sm font-semibold",children:"?"})})}function Er({children:e,variant:t="info",className:n=""}){const i={success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"};return C.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i[t]} ${n}`,children:e})}function T0({message:e,type:t="info",duration:n=3e3,onClose:i}){const[a,l]=O.useState(!0);O.useEffect(()=>{const f=setTimeout(()=>{l(!1),i?.()},n);return()=>clearTimeout(f)},[n,i]);const c={success:"bg-green-500 text-white",error:"bg-red-500 text-white",info:"bg-blue-500 text-white"};return C.jsx(o1,{children:a&&C.jsx(Ft.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-4 right-4 z-50 px-4 py-2 rounded-lg shadow-lg ${c[t]}`,children:e})})}function C5(){const{id:e}=oA(),[t,n]=O.useState(null),[i,a]=O.useState(null),[l,c]=O.useState([]),[f,m]=O.useState(!1),[p,y]=O.useState(!1),[_,w]=O.useState(!0),[A,I]=O.useState(!1),[j,k]=O.useState(!1),[H,F]=O.useState(""),$=za(),lt=O.useCallback(async x=>{try{console.log("Loading challenge:",x);const M=await Ln(_e($t,"challenges",x));if(!M.exists()){alert("Challenge not found"),$("/app");return}const L={id:M.id,...M.data()};console.log("Challenge loaded:",L),a(L);const B=t?L.members.includes(t.uid):!1;y(B);const P=L.members;console.log("Member UIDs:",P);const ce=await Promise.all(P.map(async Lt=>{console.log("Loading data for member:",Lt);const W=await Ln(_e($t,"profiles",Lt));console.log("Profile data for",Lt,":",W.exists()?W.data():"Profile not found");const st=await Ln(_e($t,"challengeParticipants",`${x}_${Lt}`)),ft=await $f(x,{uid:Lt}),xt=W.exists()&&W.data()?.username?W.data().username:`User ${Lt.slice(0,8)}`,V=W.exists()?W.data()?.selectedAvatar:void 0;return{username:xt,currentStreak:st.exists()&&st.data()?.currentStreak||0,hasCheckedToday:ft,selectedAvatar:V}}));if(console.log("Member profiles loaded:",ce),c(ce),t&&B){const Lt=await $f(x,t);m(Lt)}w(!1)}catch(M){console.error("Error loading challenge:",M),w(!1)}},[$,t]);O.useEffect(()=>Jd(M=>{if(!M){$("/");return}n(M),e&&lt(e)}),[e,$,lt]),O.useEffect(()=>{t&&(async()=>{const M=_e($t,"profiles",t.uid);(await Ln(M)).exists()||(console.log("Creating missing profile for user:",t.uid),await ja(M,{username:t.email?.split("@")[0]||`user${t.uid.slice(0,8)}`,currentTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,createdAt:new Date,updatedAt:new Date}))})()},[t]);const it=async()=>{if(e&&t){await lt(e);const x=await $f(e,t);m(x)}},at=async()=>{if(!(!e||!t||!i)){I(!0);try{await PC(e,t),y(!0),await lt(e)}catch(x){console.error("Error joining challenge:",x),alert("Error joining challenge. Please try again.")}finally{I(!1)}}},D=async()=>{if(!(!e||!t))try{const x=await w5(e,t),M=`${window.location.origin}/streaks/invite/${x}`;navigator.clipboard.writeText(M),F("Invite link copied to clipboard!"),k(!0)}catch(x){console.error("Error generating invite:",x),F("Error generating invite link"),k(!0)}},R=async()=>{if(!e||!t||!i||i.ownerUid!==t.uid)return;const x=i.visibility==="public"?"private":"public";if(!(x==="public"&&!confirm("Making this challenge public will show it on the leaderboard for everyone to see. Are you sure?")))try{await Sc(_e($t,"challenges",e),{visibility:x,updatedAt:new Date}),a({...i,visibility:x}),F(`Challenge is now ${x==="public"?"public":"private"}!`),k(!0)}catch(M){console.error("Error updating visibility:",M),F("Error updating visibility. Please try again."),k(!0)}};return _?C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsx("div",{className:"text-center",children:"Loading..."})})]}):!i||!t?C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsx("div",{className:"text-center",children:"Not found"})})]}):C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsxs("div",{className:"container mx-auto px-4 py-8",children:[C.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:i.name}),C.jsx(Er,{variant:i.visibility==="public"?"success":"info",children:i.visibility==="public"?"🌐 Public":"🔒 Private"})]}),t&&i.ownerUid===t.uid&&C.jsx(Sn,{onClick:R,variant:"secondary",size:"sm",children:i.visibility==="public"?"Make Private":"Make Public"})]})}),C.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:C.jsx(hi,{children:C.jsx("div",{className:"text-center",children:p?C.jsxs(C.Fragment,{children:[C.jsx(x5,{challengeId:i.id,user:t,onCheckIn:it,disabled:f}),f&&C.jsx("p",{className:"text-green-600 dark:text-green-400 mt-2",children:"✅ Checked in today!"})]}):C.jsxs(C.Fragment,{children:[C.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Join this challenge to start your streak!"}),C.jsx(Sn,{onClick:at,disabled:A,children:A?"Joining...":"Join Challenge"})]})})})}),C.jsxs(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:["Members (",l.length,")"]}),p&&C.jsx(Sn,{onClick:D,variant:"secondary",children:"Invite Friends"})]}),C.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((x,M)=>C.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*M},children:C.jsxs(hi,{className:"flex items-center space-x-4",children:[C.jsx(_0,{src:x.selectedAvatar?`/streaks/avatars/${x.selectedAvatar}`:void 0,fallback:x.username.charAt(0).toUpperCase()}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:x.username}),C.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[C.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["🔥 ",x.currentStreak]}),x.hasCheckedToday&&C.jsx(Er,{variant:"success",children:"Today"})]})]})]})},M))})]})]}),j&&C.jsx(T0,{message:H,type:"success",onClose:()=>k(!1)})]})}async function I5(){const e=Da(Sr($t,"challengeParticipants"),E9("currentStreak","desc"),w9(100)),t=await Ma(e),n=[];for(const i of t.docs){const a=i.data(),l=await Ma(Da(Sr($t,"challenges"),Na("__name__","==",a.challengeId)));if(l.empty)continue;const c=l.docs[0].data();if(c.visibility!=="public")continue;const f=await Ma(Da(Sr($t,"profiles"),Na("__name__","==",a.uid)));if(f.empty)continue;const m=f.docs[0].data();n.push({username:m.username,challengeName:c.name,currentStreak:a.currentStreak,selectedAvatar:m.selectedAvatar})}return n}function D5(){const[e,t]=O.useState([]),[n,i]=O.useState(!0);O.useEffect(()=>{I5().then(t).finally(()=>i(!1))},[]);const a=l=>l===1?C.jsx(Er,{variant:"warning",children:"🥇"}):l===2?C.jsx(Er,{variant:"info",children:"🥈"}):l===3?C.jsx(Er,{variant:"error",children:"🥉"}):C.jsx(Er,{variant:"info",children:l});return n?C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsx("div",{className:"text-center",children:"Loading..."})})]}):C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsxs("div",{className:"container mx-auto px-4 py-8",children:[C.jsxs(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Leaderboard"}),C.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Top streaks across all challenges 🔥"})]}),C.jsx("div",{className:"max-w-4xl mx-auto",children:e.map((l,c)=>C.jsx(Ft.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:c*.05},className:"mb-4",children:C.jsx(hi,{className:"hover:shadow-lg transition-shadow duration-200",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx("div",{className:"flex items-center space-x-2",children:a(c+1)}),C.jsx(_0,{src:l.selectedAvatar?`/streaks/avatars/${l.selectedAvatar}`:void 0,fallback:l.username.charAt(0).toUpperCase()}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:l.username}),C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.challengeName})]})]}),C.jsx("div",{className:"text-right",children:C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("span",{className:"text-2xl",children:"🔥"}),C.jsx("span",{className:"text-3xl font-bold text-pink-500",children:l.currentStreak})]})})]})})},`${l.username}-${l.challengeName}-${c}`))}),e.length===0&&C.jsx(Ft.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:C.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"No entries yet. Be the first to start a streak!"})})]})]})}function N5(){const[e,t]=O.useState(null),[n,i]=O.useState(null),[a,l]=O.useState(!0),[c,f]=O.useState(!1),[m,p]=O.useState(null),[y,_]=O.useState(!1),[w,A]=O.useState(""),[I,j]=O.useState("info"),k=za(),H=["avatar_0_0.png","avatar_0_1.png","avatar_0_2.png","avatar_1_0.png","avatar_1_1.png","avatar_1_2.png","avatar_2_0.png","avatar_2_1.png","avatar_2_2.png"];O.useEffect(()=>Jd(D=>{if(!D){k("/");return}t(D),F(D)}),[k]);const F=async at=>{try{const D=_e($t,"profiles",at.uid),R=await Ln(D);if(R.exists()){const x=R.data();i(x),p(x)}else{const x={username:at.email?.split("@")[0]||`user${at.uid.slice(0,8)}`,currentTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone};await Sc(D,{...x}),i(x),p(x)}}catch(D){console.error("Error loading profile:",D)}finally{l(!1)}},$=async()=>{if(!(!e||!m))try{const at=_e($t,"profiles",e.uid);await Sc(at,{...m}),i(m),f(!1)}catch(at){console.error("Error saving profile:",at),alert("Error saving profile")}},lt=async()=>{if(e&&confirm("Are you sure you want to delete your account? This action cannot be undone."))try{await v5(e),A("Account deleted successfully"),j("success"),_(!0),setTimeout(()=>{k("/")},2e3)}catch(at){console.error("Error deleting account:",at),A("Failed to delete account. Please try again."),j("error"),_(!0)}},it=async()=>{await MC(),k("/")};return a?C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsx("div",{className:"text-center",children:"Loading..."})})]}):!e||!n?C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsx("div",{className:"text-center",children:"Profile not found"})})]}):C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsxs(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8 text-center",children:"Profile"}),C.jsxs(hi,{className:"mb-6",children:[C.jsxs("div",{className:"text-center mb-6",children:[C.jsx(_0,{src:n.selectedAvatar?`/streaks/avatars/${n.selectedAvatar}`:void 0,size:"lg",fallback:n.username.charAt(0).toUpperCase(),className:"mx-auto mb-4"}),C.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:n.username}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e.email})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),c?C.jsx("input",{type:"text",value:m?.username||"",onChange:at=>p(D=>D?{...D,username:at.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):C.jsx("p",{className:"text-gray-900 dark:text-white",children:n.username})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Timezone"}),c?C.jsxs("select",{value:m?.currentTimezone||"",onChange:at=>p(D=>D?{...D,currentTimezone:at.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[C.jsx("option",{value:"America/New_York",children:"Eastern Time"}),C.jsx("option",{value:"America/Chicago",children:"Central Time"}),C.jsx("option",{value:"America/Denver",children:"Mountain Time"}),C.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),C.jsx("option",{value:"Europe/London",children:"London"}),C.jsx("option",{value:"Europe/Paris",children:"Paris"}),C.jsx("option",{value:"Asia/Tokyo",children:"Tokyo"})]}):C.jsx("p",{className:"text-gray-900 dark:text-white",children:n.currentTimezone})]}),c&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Choose Avatar"}),C.jsx("div",{className:"grid grid-cols-3 gap-3",children:H.map(at=>C.jsxs("button",{onClick:()=>p(D=>D?{...D,selectedAvatar:at}:null),className:`relative p-2 rounded-lg border-2 transition-all ${m?.selectedAvatar===at?"border-pink-500 bg-pink-50 dark:bg-pink-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[C.jsx("img",{src:`/streaks/avatars/${at}`,alt:`Avatar ${at}`,className:"w-16 h-16 rounded-full mx-auto"}),m?.selectedAvatar===at&&C.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center",children:C.jsx("span",{className:"text-white text-xs",children:"✓"})})]},at))}),C.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Click on an avatar to select it"})]})]}),C.jsx("div",{className:"flex space-x-4 mt-6",children:c?C.jsxs(C.Fragment,{children:[C.jsx(Sn,{onClick:$,children:"Save Changes"}),C.jsx(Sn,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"})]}):C.jsx(Sn,{onClick:()=>f(!0),children:"Edit Profile"})})]}),C.jsxs(hi,{className:"mb-6",children:[C.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Milestone Badges"}),C.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.jsx(Er,{variant:"success",children:"🔥 7 Day Streak"}),C.jsx(Er,{variant:"warning",children:"🏆 Top 10"}),C.jsx(Er,{variant:"info",children:"👥 Group Leader"})]})]}),C.jsxs(hi,{className:"border-red-200 dark:border-red-800",children:[C.jsx("h3",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mb-4",children:"Danger Zone"}),C.jsxs("div",{className:"space-y-4",children:[C.jsx(Sn,{variant:"danger",onClick:it,children:"Sign Out"}),C.jsx(Sn,{variant:"danger",onClick:lt,children:"Delete Account"})]})]})]})}),y&&C.jsx(T0,{message:w,type:I,onClose:()=>_(!1)})]})}function M5(){const{token:e}=oA(),[t,n]=O.useState(null),[i,a]=O.useState(null),[l,c]=O.useState(!0),[f,m]=O.useState(!1),[p,y]=O.useState(!1),[_,w]=O.useState(""),A=za(),I=O.useCallback(async H=>{try{const F=await b5(H);if(!F){w("Invalid or expired invite link"),y(!0),A("/app");return}const $=await Ln(_e($t,"challenges",F));if(!$.exists()){w("Challenge not found"),y(!0),A("/app");return}const lt={id:$.id,...$.data()};a(lt),c(!1)}catch(F){console.error("Error loading invite:",F),w("Error loading invite"),y(!0),A("/app")}},[A]);O.useEffect(()=>Jd(F=>{if(!F){A("/auth");return}n(F)}),[A]),O.useEffect(()=>{e&&t&&I(e)},[e,t,I]);const j=async()=>{if(!(!i||!t)){m(!0);try{await PC(i.id,t),w("Successfully joined the challenge!"),y(!0),setTimeout(()=>A(`/challenge/${i.id}`),2e3)}catch(H){console.error("Error joining challenge:",H),w("Error joining challenge. Please try again."),y(!0)}finally{m(!1)}}};if(l)return C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsx("div",{className:"text-center",children:"Loading invite..."})})]});if(!i)return C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsx("div",{className:"text-center",children:"Invalid invite link"})})]});const k=i.members.includes(t.uid);return C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(jn,{}),C.jsx("div",{className:"container mx-auto px-4 py-8",children:C.jsx(Ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto",children:C.jsx(hi,{children:C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"You've been invited to join"}),C.jsx("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-6",children:i.name}),C.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:[i.members.length," member",i.members.length!==1?"s":""," • ",i.visibility==="public"?"Public":"Private"," challenge"]}),k?C.jsxs("div",{children:[C.jsx("p",{className:"text-green-600 dark:text-green-400 mb-4",children:"You're already a member of this challenge!"}),C.jsx(Sn,{onClick:()=>A(`/challenge/${i.id}`),children:"View Challenge"})]}):C.jsx(Sn,{onClick:j,disabled:f,children:f?"Joining...":"Accept Invite"})]})})})}),p&&C.jsx(T0,{message:_,type:"success",onClose:()=>y(!1)})]})}function P5(){return C.jsxs(i2,{children:[C.jsx(cs,{path:"/",element:C.jsx(mV,{})}),C.jsx(cs,{path:"/auth",element:C.jsx(T5,{})}),C.jsx(cs,{path:"/app",element:C.jsx(R5,{})}),C.jsx(cs,{path:"/challenge/:id",element:C.jsx(C5,{})}),C.jsx(cs,{path:"/invite/:token",element:C.jsx(M5,{})}),C.jsx(cs,{path:"/leaderboard",element:C.jsx(D5,{})}),C.jsx(cs,{path:"/profile",element:C.jsx(N5,{})})]})}dD.createRoot(document.getElementById("root")).render(C.jsx(O.StrictMode,{children:C.jsx(R2,{basename:"/streaks",children:C.jsx(P5,{})})}));
