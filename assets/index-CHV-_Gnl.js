(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Fm={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function y1(){if(pE)return au;pE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return au.Fragment=e,au.jsx=t,au.jsxs=t,au}var gE;function _1(){return gE||(gE=1,Fm.exports=y1()),Fm.exports}var me=_1(),Gm={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function v1(){if(yE)return Fe;yE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,X={};function z(O,ee,he){this.props=O,this.context=ee,this.refs=X,this.updater=he||C}z.prototype.isReactComponent={},z.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=z.prototype;function se(O,ee,he){this.props=O,this.context=ee,this.refs=X,this.updater=he||C}var oe=se.prototype=new ne;oe.constructor=se,V(oe,z.prototype),oe.isPureReactComponent=!0;var Re=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function M(O,ee,he,le,be,je){return he=je.ref,{$$typeof:r,type:O,key:ee,ref:he!==void 0?he:null,props:je}}function A(O,ee){return M(O.type,ee,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return ee[he]})}var k=/\/+/g;function L(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):ee.toString(36)}function I(){}function qe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function et(O,ee,he,le,be){var je=typeof O;(je==="undefined"||je==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(je){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case r:case e:Oe=!0;break;case _:return Oe=O._init,et(Oe(O._payload),ee,he,le,be)}}if(Oe)return be=be(O),Oe=le===""?"."+L(O,0):le,Re(be)?(he="",Oe!=null&&(he=Oe.replace(k,"$&/")+"/"),et(be,ee,he,"",function(rr){return rr})):be!=null&&(R(be)&&(be=A(be,he+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(k,"$&/")+"/")+Oe)),ee.push(be)),1;Oe=0;var Ut=le===""?".":le+":";if(Re(O))for(var yt=0;yt<O.length;yt++)le=O[yt],je=Ut+L(le,yt),Oe+=et(le,ee,he,je,be);else if(yt=S(O),typeof yt=="function")for(O=yt.call(O),yt=0;!(le=O.next()).done;)le=le.value,je=Ut+L(le,yt++),Oe+=et(le,ee,he,je,be);else if(je==="object"){if(typeof O.then=="function")return et(qe(O),ee,he,le,be);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Q(O,ee,he){if(O==null)return O;var le=[],be=0;return et(O,le,"","",function(je){return ee.call(he,je,be++)}),le}function ce(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Be(){}return Fe.Children={map:Q,forEach:function(O,ee,he){Q(O,function(){ee.apply(this,arguments)},he)},count:function(O){var ee=0;return Q(O,function(){ee++}),ee},toArray:function(O){return Q(O,function(ee){return ee})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Fe.Component=z,Fe.Fragment=t,Fe.Profiler=o,Fe.PureComponent=se,Fe.StrictMode=a,Fe.Suspense=p,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return fe.H.useMemoCache(O)}},Fe.cache=function(O){return function(){return O.apply(null,arguments)}},Fe.cloneElement=function(O,ee,he){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=V({},O.props),be=O.key,je=void 0;if(ee!=null)for(Oe in ee.ref!==void 0&&(je=void 0),ee.key!==void 0&&(be=""+ee.key),ee)!q.call(ee,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ee.ref===void 0||(le[Oe]=ee[Oe]);var Oe=arguments.length-2;if(Oe===1)le.children=he;else if(1<Oe){for(var Ut=Array(Oe),yt=0;yt<Oe;yt++)Ut[yt]=arguments[yt+2];le.children=Ut}return M(O.type,be,void 0,void 0,je,le)},Fe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Fe.createElement=function(O,ee,he){var le,be={},je=null;if(ee!=null)for(le in ee.key!==void 0&&(je=""+ee.key),ee)q.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=ee[le]);var Oe=arguments.length-2;if(Oe===1)be.children=he;else if(1<Oe){for(var Ut=Array(Oe),yt=0;yt<Oe;yt++)Ut[yt]=arguments[yt+2];be.children=Ut}if(O&&O.defaultProps)for(le in Oe=O.defaultProps,Oe)be[le]===void 0&&(be[le]=Oe[le]);return M(O,je,void 0,void 0,null,be)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(O){return{$$typeof:d,render:O}},Fe.isValidElement=R,Fe.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:ce}},Fe.memo=function(O,ee){return{$$typeof:g,type:O,compare:ee===void 0?null:ee}},Fe.startTransition=function(O){var ee=fe.T,he={};fe.T=he;try{var le=O(),be=fe.S;be!==null&&be(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Be,ge)}catch(je){ge(je)}finally{fe.T=ee}},Fe.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Fe.use=function(O){return fe.H.use(O)},Fe.useActionState=function(O,ee,he){return fe.H.useActionState(O,ee,he)},Fe.useCallback=function(O,ee){return fe.H.useCallback(O,ee)},Fe.useContext=function(O){return fe.H.useContext(O)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(O,ee){return fe.H.useDeferredValue(O,ee)},Fe.useEffect=function(O,ee,he){var le=fe.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(O,ee)},Fe.useId=function(){return fe.H.useId()},Fe.useImperativeHandle=function(O,ee,he){return fe.H.useImperativeHandle(O,ee,he)},Fe.useInsertionEffect=function(O,ee){return fe.H.useInsertionEffect(O,ee)},Fe.useLayoutEffect=function(O,ee){return fe.H.useLayoutEffect(O,ee)},Fe.useMemo=function(O,ee){return fe.H.useMemo(O,ee)},Fe.useOptimistic=function(O,ee){return fe.H.useOptimistic(O,ee)},Fe.useReducer=function(O,ee,he){return fe.H.useReducer(O,ee,he)},Fe.useRef=function(O){return fe.H.useRef(O)},Fe.useState=function(O){return fe.H.useState(O)},Fe.useSyncExternalStore=function(O,ee,he){return fe.H.useSyncExternalStore(O,ee,he)},Fe.useTransition=function(){return fe.H.useTransition()},Fe.version="19.1.1",Fe}var _E;function Xp(){return _E||(_E=1,Gm.exports=v1()),Gm.exports}var Y=Xp(),Ym={exports:{}},su={},Qm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function E1(){return vE||(vE=1,(function(r){function e(Q,ce){var ge=Q.length;Q.push(ce);e:for(;0<ge;){var Be=ge-1>>>1,O=Q[Be];if(0<o(O,ce))Q[Be]=ce,Q[ge]=O,ge=Be;else break e}}function t(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var ce=Q[0],ge=Q.pop();if(ge!==ce){Q[0]=ge;e:for(var Be=0,O=Q.length,ee=O>>>1;Be<ee;){var he=2*(Be+1)-1,le=Q[he],be=he+1,je=Q[be];if(0>o(le,ge))be<O&&0>o(je,le)?(Q[Be]=je,Q[be]=ge,Be=be):(Q[Be]=le,Q[he]=ge,Be=he);else if(be<O&&0>o(je,ge))Q[Be]=je,Q[be]=ge,Be=be;else break e}}return ce}function o(Q,ce){var ge=Q.sortIndex-ce.sortIndex;return ge!==0?ge:Q.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,T=null,S=3,C=!1,V=!1,X=!1,z=!1,ne=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Re(Q){for(var ce=t(g);ce!==null;){if(ce.callback===null)a(g);else if(ce.startTime<=Q)a(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(g)}}function fe(Q){if(X=!1,Re(Q),!V)if(t(p)!==null)V=!0,q||(q=!0,L());else{var ce=t(g);ce!==null&&et(fe,ce.startTime-Q)}}var q=!1,M=-1,A=5,R=-1;function P(){return z?!0:!(r.unstable_now()-R<A)}function k(){if(z=!1,q){var Q=r.unstable_now();R=Q;var ce=!0;try{e:{V=!1,X&&(X=!1,se(M),M=-1),C=!0;var ge=S;try{t:{for(Re(Q),T=t(p);T!==null&&!(T.expirationTime>Q&&P());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,S=T.priorityLevel;var O=Be(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof O=="function"){T.callback=O,Re(Q),ce=!0;break t}T===t(p)&&a(p),Re(Q)}else a(p);T=t(p)}if(T!==null)ce=!0;else{var ee=t(g);ee!==null&&et(fe,ee.startTime-Q),ce=!1}}break e}finally{T=null,S=ge,C=!1}ce=void 0}}finally{ce?L():q=!1}}}var L;if(typeof oe=="function")L=function(){oe(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,qe=I.port2;I.port1.onmessage=k,L=function(){qe.postMessage(null)}}else L=function(){ne(k,0)};function et(Q,ce){M=ne(function(){Q(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var ge=S;S=ce;try{return Q()}finally{S=ge}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=S;S=Q;try{return ce()}finally{S=ge}},r.unstable_scheduleCallback=function(Q,ce,ge){var Be=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,Q={id:_++,callback:ce,priorityLevel:Q,startTime:ge,expirationTime:O,sortIndex:-1},ge>Be?(Q.sortIndex=ge,e(g,Q),t(p)===null&&Q===t(g)&&(X?(se(M),M=-1):X=!0,et(fe,ge-Be))):(Q.sortIndex=O,e(p,Q),V||C||(V=!0,q||(q=!0,L()))),Q},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Q){var ce=S;return function(){var ge=S;S=ce;try{return Q.apply(this,arguments)}finally{S=ge}}}})(Km)),Km}var EE;function T1(){return EE||(EE=1,Qm.exports=E1()),Qm.exports}var $m={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function w1(){if(TE)return Tn;TE=1;var r=Xp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Tn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Tn.flushSync=function(p){var g=h.T,_=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=_,a.d.f()}},Tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Tn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):_==="script"&&a.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);a.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Tn.requestFormReset=function(p){a.d.r(p)},Tn.unstable_batchedUpdates=function(p,g){return p(g)},Tn.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Tn.version="19.1.1",Tn}var wE;function B0(){if(wE)return $m.exports;wE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$m.exports=w1(),$m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function S1(){if(SE)return su;SE=1;var r=T1(),e=Xp(),t=B0();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(a(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,l=i;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return d(f),n;if(m===l)return d(f),i;m=m.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=m;else{for(var E=!1,w=f.child;w;){if(w===s){E=!0,s=f,l=m;break}if(w===l){E=!0,l=f,s=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===s){E=!0,s=m,l=f;break}if(w===l){E=!0,l=m,s=f;break}w=w.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case z:return"Profiler";case X:return"StrictMode";case fe:return"Suspense";case q:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case oe:return(n.displayName||"Context")+".Provider";case se:return(n._context.displayName||"Context")+".Consumer";case Re:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:qe(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return qe(n(i))}catch{}}return null}var et=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Be=[],O=-1;function ee(n){return{current:n}}function he(n){0>O||(n.current=Be[O],Be[O]=null,O--)}function le(n,i){O++,Be[O]=n.current,n.current=i}var be=ee(null),je=ee(null),Oe=ee(null),Ut=ee(null);function yt(n,i){switch(le(Oe,i),le(je,n),le(be,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?qv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=qv(i),n=Fv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(be),le(be,n)}function rr(){he(be),he(je),he(Oe)}function Rt(n){n.memoizedState!==null&&le(Ut,n);var i=be.current,s=Fv(i,n.type);i!==s&&(le(je,n),le(be,s))}function _n(n){je.current===n&&(he(be),he(je)),Ut.current===n&&(he(Ut),eu._currentValue=ge)}var kr=Object.prototype.hasOwnProperty,hi=r.unstable_scheduleCallback,An=r.unstable_cancelCallback,es=r.unstable_shouldYield,Fs=r.unstable_requestPaint,Rn=r.unstable_now,ol=r.unstable_getCurrentPriorityLevel,ts=r.unstable_ImmediatePriority,qi=r.unstable_UserBlockingPriority,fi=r.unstable_NormalPriority,br=r.unstable_LowPriority,ir=r.unstable_IdlePriority,Fi=r.log,Gi=r.unstable_setDisableYieldValue,lt=null,Ge=null;function vn(n){if(typeof Fi=="function"&&Gi(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(lt,n)}catch{}}var zt=Math.clz32?Math.clz32:Lr,Gs=Math.log,ar=Math.LN2;function Lr(n){return n>>>=0,n===0?32:31-(Gs(n)/ar|0)|0}var Ur=256,zr=4194304;function Hn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function di(n,i,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=Hn(l):(E&=w,E!==0?f=Hn(E):s||(s=w&~n,s!==0&&(f=Hn(s))))):(w=l&~m,w!==0?f=Hn(w):E!==0?f=Hn(E):s||(s=l&~n,s!==0&&(f=Hn(s)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:f}function sr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Yi(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(){var n=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),n}function ns(){var n=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),n}function or(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Ar(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Qi(n,i,s,l,f,m){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,F=n.hiddenUpdates;for(s=E&~s;0<s;){var Z=31-zt(s),re=1<<Z;w[Z]=0,D[Z]=-1;var K=F[Z];if(K!==null)for(F[Z]=null,Z=0;Z<K.length;Z++){var $=K[Z];$!==null&&($.lane&=-536870913)}s&=~re}l!==0&&In(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~i))}function In(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-zt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|s&4194090}function Br(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var l=31-zt(s),f=1<<l;f&i|n[l]&i&&(n[l]|=i),s&=~f}}function jr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ki(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function N(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:uE(n.type))}function B(n,i){var s=ce.p;try{return ce.p=n,i()}finally{ce.p=s}}var G=Math.random().toString(36).slice(2),ie="__reactFiber$"+G,ue="__reactProps$"+G,ye="__reactContainer$"+G,Ae="__reactEvents$"+G,Te="__reactListeners$"+G,we="__reactHandles$"+G,De="__reactResources$"+G,Se="__reactMarker$"+G;function ve(n){delete n[ie],delete n[ue],delete n[Ae],delete n[Te],delete n[we]}function He(n){var i=n[ie];if(i)return i;for(var s=n.parentNode;s;){if(i=s[ye]||s[ie]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Kv(n);n!==null;){if(s=n[ie])return s;n=Kv(n)}return i}n=s,s=n.parentNode}return null}function tt(n){if(n=n[ie]||n[ye]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function dt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function ut(n){var i=n[De];return i||(i=n[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ze(n){n[Se]=!0}var ct=new Set,Vn={};function ln(n,i){Jt(n,i),Jt(n+"Capture",i)}function Jt(n,i){for(Vn[n]=i,n=0;n<i.length;n++)ct.add(i[n])}var Cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$i={},qn={};function lr(n){return kr.call(qn,n)?!0:kr.call($i,n)?!1:Cn.test(n)?qn[n]=!0:($i[n]=!0,!1)}function Fn(n,i,s){if(lr(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Dn(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Pe(n,i,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+l)}}var Ct,Rr;function un(n){if(Ct===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ct=i&&i[1]||"",Rr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+n+Rr}var bt=!1;function Ir(n,i){if(!n||bt)return"";bt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch($){var K=$}Reflect.construct(n,[],re)}else{try{re.call()}catch($){K=$}n.call(re.prototype)}}else{try{throw Error()}catch($){K=$}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var D=E.split(`
`),F=w.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===F.length)for(l=D.length-1,f=F.length-1;1<=l&&0<=f&&D[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==F[f]){var Z=`
`+D[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{bt=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?un(s):""}function Xi(n){switch(n.tag){case 26:case 27:case 5:return un(n.type);case 16:return un("Lazy");case 13:return un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return Ir(n.type,!1);case 11:return Ir(n.type.render,!1);case 1:return Ir(n.type,!0);case 31:return un("Activity");default:return""}}function Wi(n){try{var i="";do i+=Xi(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ll(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kf(n){var i=ll(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ys(n){n._valueTracker||(n._valueTracker=Kf(n))}function ul(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return n&&(l=ll(n)?n.checked?"true":"false":n.value),n=l,n!==s?(i.setValue(n),!0):!1}function rs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var $f=/[\n"\\]/g;function Bt(n){return n.replace($f,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Gn(n,i,s,l,f,m,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Nn(i)):n.value!==""+Nn(i)&&(n.value=""+Nn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Zi(n,E,Nn(i)):s!=null?Zi(n,E,Nn(s)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Nn(w):n.removeAttribute("name")}function is(n,i,s,l,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;s=s!=null?""+Nn(s):"",i=i!=null?""+Nn(i):s,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Zi(n,i,s){i==="number"&&rs(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function pi(n,i,s,l){if(n=n.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=i.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+Nn(s),i=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function _t(n,i,s){if(i!=null&&(i=""+Nn(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Nn(s):""}function as(n,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Nn(i),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l)}function ur(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lc(n,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,s):typeof s!="number"||s===0||ss.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function cl(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&lc(n,f,l)}else for(var m in i)i.hasOwnProperty(m)&&lc(n,m,i[m])}function hl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(n){return Wf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var gi=null;function cr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yi=null,_i=null;function fl(n){var i=tt(n);if(i&&(n=i.stateNode)){var s=n[ue]||null;e:switch(n=i.stateNode,i.type){case"input":if(Gn(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Bt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==n&&l.form===n.form){var f=l[ue]||null;if(!f)throw Error(a(90));Gn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===n.form&&ul(l)}break e;case"textarea":_t(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&pi(n,!!s.multiple,i,!1)}}}var Hr=!1;function uc(n,i,s){if(Hr)return n(i,s);Hr=!0;try{var l=n(i);return l}finally{if(Hr=!1,(yi!==null||_i!==null)&&(nh(),yi&&(i=yi,n=_i,_i=yi=null,fl(i),n)))for(i=0;i<n.length;i++)fl(n[i])}}function os(n,i){var s=n.stateNode;if(s===null)return null;var l=s[ue]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(Cr)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){hr=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{hr=!1}var qr=null,Ji=null,vi=null;function dl(){if(vi)return vi;var n,i=Ji,s=i.length,l,f="value"in qr?qr.value:qr.textContent,m=f.length;for(n=0;n<s&&i[n]===f[n];n++);var E=s-n;for(l=1;l<=E&&i[s-l]===f[m-l];l++);return vi=f.slice(n,1<l?1-l:void 0)}function Fr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Gr(){return!0}function ml(){return!1}function en(n){function i(s,l,f,m,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(s=n[w],this[w]=s?s(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Gr:ml,this.isPropagationStopped=ml,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),i}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=en(ft),us=_({},ft,{view:0,detail:0}),cc=en(us),$s,Xs,Yr,cs=_({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yr&&(Yr&&n.type==="mousemove"?($s=n.screenX-Yr.screenX,Xs=n.screenY-Yr.screenY):Xs=$s=0,Yr=n),$s)},movementY:function(n){return"movementY"in n?n.movementY:Xs}}),fr=en(cs),hc=_({},cs,{dataTransfer:0}),Zf=en(hc),hs=_({},us,{relatedTarget:0}),Ws=en(hs),pl=_({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=en(pl),fc=_({},ft,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Js=en(fc),Jf=_({},ft,{data:0}),gl=en(Jf),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=mc[n])?!!i[n]:!1}function ds(){return yl}var pc=_({},us,{key:function(n){if(n.key){var i=fs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Fr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(n){return n.type==="keypress"?Fr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),eo=en(pc),gc=_({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=en(gc),Ei=_({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),yc=en(Ei),_c=_({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),vc=en(_c),Ec=_({},cs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),to=en(Ec),On=_({},ft,{newState:0,oldState:0}),Tc=en(On),wc=[9,13,27,32],Qr=Cr&&"CompositionEvent"in window,c=null;Cr&&"documentMode"in document&&(c=document.documentMode);var y=Cr&&"TextEvent"in window&&!c,v=Cr&&(!Qr||c&&8<c&&11>=c),b=" ",j=!1;function W(n,i){switch(n){case"keyup":return wc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nt=!1;function Qt(n,i){switch(n){case"compositionend":return de(i);case"keypress":return i.which!==32?null:(j=!0,b);case"textInput":return n=i.data,n===b&&j?null:n;default:return null}}function rt(n,i){if(nt)return n==="compositionend"||!Qr&&W(n,i)?(n=dl(),vi=Ji=qr=null,nt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!tn[n.type]:i==="textarea"}function Ti(n,i,s,l){yi?_i?_i.push(l):_i=[l]:yi=l,i=lh(i,"onChange"),0<i.length&&(s=new Ks("onChange","change",null,s,l),n.push({event:s,listeners:i}))}var cn=null,Kr=null;function vl(n){Uv(n,0)}function Sc(n){var i=dt(n);if(ul(i))return n}function ay(n,i){if(n==="change")return i}var sy=!1;if(Cr){var ed;if(Cr){var td="oninput"in document;if(!td){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),td=typeof oy.oninput=="function"}ed=td}else ed=!1;sy=ed&&(!document.documentMode||9<document.documentMode)}function ly(){cn&&(cn.detachEvent("onpropertychange",uy),Kr=cn=null)}function uy(n){if(n.propertyName==="value"&&Sc(Kr)){var i=[];Ti(i,Kr,n,cr(n)),uc(vl,i)}}function Qb(n,i,s){n==="focusin"?(ly(),cn=i,Kr=s,cn.attachEvent("onpropertychange",uy)):n==="focusout"&&ly()}function Kb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sc(Kr)}function $b(n,i){if(n==="click")return Sc(i)}function Xb(n,i){if(n==="input"||n==="change")return Sc(i)}function Wb(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Yn=typeof Object.is=="function"?Object.is:Wb;function El(n,i){if(Yn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!kr.call(i,f)||!Yn(n[f],i[f]))return!1}return!0}function cy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hy(n,i){var s=cy(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=i&&l>=i)return{node:s,offset:i-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cy(s)}}function fy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?fy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function dy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=rs(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=rs(n.document)}return i}function nd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Zb=Cr&&"documentMode"in document&&11>=document.documentMode,no=null,rd=null,Tl=null,id=!1;function my(n,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;id||no==null||no!==rs(l)||(l=no,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&El(Tl,l)||(Tl=l,l=lh(rd,"onSelect"),0<l.length&&(i=new Ks("onSelect","select",null,i,s),n.push({event:i,listeners:l}),i.target=no)))}function ms(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var ro={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},ad={},py={};Cr&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function ps(n){if(ad[n])return ad[n];if(!ro[n])return n;var i=ro[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in py)return ad[n]=i[s];return n}var gy=ps("animationend"),yy=ps("animationiteration"),_y=ps("animationstart"),Jb=ps("transitionrun"),eA=ps("transitionstart"),tA=ps("transitioncancel"),vy=ps("transitionend"),Ey=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function Dr(n,i){Ey.set(n,i),ln(i,[n])}var Ty=new WeakMap;function dr(n,i){if(typeof n=="object"&&n!==null){var s=Ty.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Wi(i)},Ty.set(n,i),i)}return{value:n,source:i,stack:Wi(i)}}var mr=[],io=0,od=0;function bc(){for(var n=io,i=od=io=0;i<n;){var s=mr[i];mr[i++]=null;var l=mr[i];mr[i++]=null;var f=mr[i];mr[i++]=null;var m=mr[i];if(mr[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&wy(s,f,m)}}function Ac(n,i,s,l){mr[io++]=n,mr[io++]=i,mr[io++]=s,mr[io++]=l,od|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ld(n,i,s,l){return Ac(n,i,s,l),Rc(n)}function ao(n,i){return Ac(n,null,null,i),Rc(n)}function wy(n,i,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,m=n.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-zt(s),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=s|536870912),m):null}function Rc(n){if(50<Yl)throw Yl=0,mm=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var so={};function nA(n,i,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(n,i,s,l){return new nA(n,i,s,l)}function ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wi(n,i){var s=n.alternate;return s===null?(s=Qn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Sy(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ic(n,i,s,l,f,m){var E=0;if(l=n,typeof n=="function")ud(n)&&(E=1);else if(typeof n=="string")E=i1(n,s,be.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Qn(31,s,i,f),n.elementType=R,n.lanes=m,n;case V:return gs(s.children,f,m,i);case X:E=8,f|=24;break;case z:return n=Qn(12,s,i,f|2),n.elementType=z,n.lanes=m,n;case fe:return n=Qn(13,s,i,f),n.elementType=fe,n.lanes=m,n;case q:return n=Qn(19,s,i,f),n.elementType=q,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:case oe:E=10;break e;case se:E=9;break e;case Re:E=11;break e;case M:E=14;break e;case A:E=16,l=null;break e}E=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=Qn(E,s,i,f),i.elementType=n,i.type=l,i.lanes=m,i}function gs(n,i,s,l){return n=Qn(7,n,l,i),n.lanes=s,n}function cd(n,i,s){return n=Qn(6,n,null,i),n.lanes=s,n}function hd(n,i,s){return i=Qn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var oo=[],lo=0,Cc=null,Dc=0,pr=[],gr=0,ys=null,Si=1,bi="";function _s(n,i){oo[lo++]=Dc,oo[lo++]=Cc,Cc=n,Dc=i}function by(n,i,s){pr[gr++]=Si,pr[gr++]=bi,pr[gr++]=ys,ys=n;var l=Si;n=bi;var f=32-zt(l)-1;l&=~(1<<f),s+=1;var m=32-zt(i)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Si=1<<32-zt(i)+f|s<<f|l,bi=m+n}else Si=1<<m|s<<f|l,bi=n}function fd(n){n.return!==null&&(_s(n,1),by(n,1,0))}function dd(n){for(;n===Cc;)Cc=oo[--lo],oo[lo]=null,Dc=oo[--lo],oo[lo]=null;for(;n===ys;)ys=pr[--gr],pr[gr]=null,bi=pr[--gr],pr[gr]=null,Si=pr[--gr],pr[gr]=null}var Mn=null,Mt=null,ht=!1,vs=null,$r=!1,md=Error(a(519));function Es(n){var i=Error(a(418,""));throw bl(dr(i,n)),md}function Ay(n){var i=n.stateNode,s=n.type,l=n.memoizedProps;switch(i[ie]=n,i[ue]=l,s){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(s=0;s<Kl.length;s++)$e(Kl[s],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),is(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ys(i);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),as(i,l.value,l.defaultValue,l.children),Ys(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Hv(i.textContent,s)?(l.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),l.onScroll!=null&&$e("scroll",i),l.onScrollEnd!=null&&$e("scrollend",i),l.onClick!=null&&(i.onclick=uh),i=!0):i=!1,i||Es(n)}function Ry(n){for(Mn=n.return;Mn;)switch(Mn.tag){case 5:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:Mn=Mn.return}}function wl(n){if(n!==Mn)return!1;if(!ht)return Ry(n),ht=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Nm(n.type,n.memoizedProps)),s=!s),s&&Mt&&Es(n),Ry(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){Mt=Or(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}Mt=null}}else i===27?(i=Mt,pa(n.type)?(n=xm,xm=null,Mt=n):Mt=i):Mt=Mn?Or(n.stateNode.nextSibling):null;return!0}function Sl(){Mt=Mn=null,ht=!1}function Iy(){var n=vs;return n!==null&&(Un===null?Un=n:Un.push.apply(Un,n),vs=null),n}function bl(n){vs===null?vs=[n]:vs.push(n)}var pd=ee(null),Ts=null,Ai=null;function ea(n,i,s){le(pd,i._currentValue),i._currentValue=s}function Ri(n){n._currentValue=pd.current,he(pd)}function gd(n,i,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===s)break;n=n.return}}function yd(n,i,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var D=0;D<i.length;D++)if(w.context===i[D]){m.lanes|=s,w=m.alternate,w!==null&&(w.lanes|=s),gd(m.return,s,n),l||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,m=E.alternate,m!==null&&(m.lanes|=s),gd(E,s,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Al(n,i,s,l){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var w=f.type;Yn(f.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(f===Ut.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(eu):n=[eu])}f=f.return}n!==null&&yd(i,n,s,l),i.flags|=262144}function Nc(n){for(n=n.firstContext;n!==null;){if(!Yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ws(n){Ts=n,Ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function En(n){return Cy(Ts,n)}function Oc(n,i){return Ts===null&&ws(n),Cy(n,i)}function Cy(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ai===null){if(n===null)throw Error(a(308));Ai=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ai=Ai.next=i;return s}var rA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},iA=r.unstable_scheduleCallback,aA=r.unstable_NormalPriority,$t={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new rA,data:new Map,refCount:0}}function Rl(n){n.refCount--,n.refCount===0&&iA(aA,function(){n.controller.abort()})}var Il=null,vd=0,uo=0,co=null;function sA(n,i){if(Il===null){var s=Il=[];vd=0,uo=Tm(),co={status:"pending",value:void 0,then:function(l){s.push(l)}}}return vd++,i.then(Dy,Dy),i}function Dy(){if(--vd===0&&Il!==null){co!==null&&(co.status="fulfilled");var n=Il;Il=null,uo=0,co=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function oA(n,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Ny=Q.S;Q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&sA(n,i),Ny!==null&&Ny(n,i)};var Ss=ee(null);function Ed(){var n=Ss.current;return n!==null?n:At.pooledCache}function Mc(n,i){i===null?le(Ss,Ss.current):le(Ss,i.pool)}function Oy(){var n=Ed();return n===null?null:{parent:$t._currentValue,pool:n}}var Cl=Error(a(460)),My=Error(a(474)),Pc=Error(a(542)),Td={then:function(){}};function Py(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xc(){}function xy(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(xc,xc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ky(n),n;default:if(typeof i.status=="string")i.then(xc,xc);else{if(n=At,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ky(n),n}throw Dl=i,Cl}}var Dl=null;function Vy(){if(Dl===null)throw Error(a(459));var n=Dl;return Dl=null,n}function ky(n){if(n===Cl||n===Pc)throw Error(a(483))}var ta=!1;function wd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function na(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ra(n,i,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Rc(n),wy(n,null,s),i}return Ac(n,l,i,s),Rc(n)}function Nl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Br(n,s)}}function bd(n,i){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,s=s.next}while(s!==null);m===null?f=m=i:m=m.next=i}else f=m=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var Ad=!1;function Ol(){if(Ad){var n=co;if(n!==null)throw n}}function Ml(n,i,s,l){Ad=!1;var f=n.updateQueue;ta=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,F=D.next;D.next=null,E===null?m=F:E.next=F,E=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==E&&(w===null?Z.firstBaseUpdate=F:w.next=F,Z.lastBaseUpdate=D))}if(m!==null){var re=f.baseState;E=0,Z=F=D=null,w=m;do{var K=w.lane&-536870913,$=K!==w.lane;if($?(it&K)===K:(l&K)===K){K!==0&&K===uo&&(Ad=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Le=n,Me=w;K=i;var Tt=s;switch(Me.tag){case 1:if(Le=Me.payload,typeof Le=="function"){re=Le.call(Tt,re,K);break e}re=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Me.payload,K=typeof Le=="function"?Le.call(Tt,re,K):Le,K==null)break e;re=_({},re,K);break e;case 2:ta=!0}}K=w.callback,K!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(F=Z=$,D=re):Z=Z.next=$,E|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Z===null&&(D=re),f.baseState=D,f.firstBaseUpdate=F,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),ha|=E,n.lanes=E,n.memoizedState=re}}function Ly(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Uy(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Ly(s[n],i)}var ho=ee(null),Vc=ee(0);function zy(n,i){n=Pi,le(Vc,n),le(ho,i),Pi=n|i.baseLanes}function Rd(){le(Vc,Pi),le(ho,ho.current)}function Id(){Pi=Vc.current,he(ho),he(Vc)}var ia=0,Ye=null,vt=null,jt=null,kc=!1,fo=!1,bs=!1,Lc=0,Pl=0,mo=null,lA=0;function xt(){throw Error(a(321))}function Cd(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Yn(n[s],i[s]))return!1;return!0}function Dd(n,i,s,l,f,m){return ia=m,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=n===null||n.memoizedState===null?w_:S_,bs=!1,m=s(l,f),bs=!1,fo&&(m=jy(i,s,l,f)),By(n),m}function By(n){Q.H=qc;var i=vt!==null&&vt.next!==null;if(ia=0,jt=vt=Ye=null,kc=!1,Pl=0,mo=null,i)throw Error(a(300));n===null||nn||(n=n.dependencies,n!==null&&Nc(n)&&(nn=!0))}function jy(n,i,s,l){Ye=n;var f=0;do{if(fo&&(mo=null),Pl=0,fo=!1,25<=f)throw Error(a(301));if(f+=1,jt=vt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=pA,m=i(s,l)}while(fo);return m}function uA(){var n=Q.H,i=n.useState()[0];return i=typeof i.then=="function"?xl(i):i,n=n.useState()[0],(vt!==null?vt.memoizedState:null)!==n&&(Ye.flags|=1024),i}function Nd(){var n=Lc!==0;return Lc=0,n}function Od(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Md(n){if(kc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kc=!1}ia=0,jt=vt=Ye=null,fo=!1,Pl=Lc=0,mo=null}function kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ye.memoizedState=jt=n:jt=jt.next=n,jt}function Ht(){if(vt===null){var n=Ye.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var i=jt===null?Ye.memoizedState:jt.next;if(i!==null)jt=i,vt=n;else{if(n===null)throw Ye.alternate===null?Error(a(467)):Error(a(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},jt===null?Ye.memoizedState=jt=n:jt=jt.next=n}return jt}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(n){var i=Pl;return Pl+=1,mo===null&&(mo=[]),n=xy(mo,n,i),i=Ye,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?w_:S_),n}function Uc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xl(n);if(n.$$typeof===oe)return En(n)}throw Error(a(438,String(n)))}function xd(n){var i=null,s=Ye.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Pd(),Ye.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),l=0;l<n;l++)s[l]=P;return i.index++,s}function Ii(n,i){return typeof i=="function"?i(n):i}function zc(n){var i=Ht();return Vd(i,vt,n)}function Vd(n,i,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}i.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=E=null,D=null,F=i,Z=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(it&re)===re:(ia&re)===re){var K=F.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===uo&&(Z=!0);else if((ia&K)===K){F=F.next,K===uo&&(Z=!0);continue}else re={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(w=D=re,E=m):D=D.next=re,Ye.lanes|=K,ha|=K;re=F.action,bs&&s(m,re),m=F.hasEagerState?F.eagerState:s(m,re)}else K={lane:re,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(w=D=K,E=m):D=D.next=K,Ye.lanes|=re,ha|=re;F=F.next}while(F!==null&&F!==i);if(D===null?E=m:D.next=w,!Yn(m,n.memoizedState)&&(nn=!0,Z&&(s=co,s!==null)))throw s;n.memoizedState=m,n.baseState=E,n.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function kd(n){var i=Ht(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,m=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);Yn(m,i.memoizedState)||(nn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,l]}function Hy(n,i,s){var l=Ye,f=Ht(),m=ht;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Yn((vt||f).memoizedState,s);E&&(f.memoizedState=s,nn=!0),f=f.queue;var w=Gy.bind(null,l,f,n);if(Vl(2048,8,w,[n]),f.getSnapshot!==i||E||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,po(9,Bc(),Fy.bind(null,l,f,s,i),null),At===null)throw Error(a(349));m||(ia&124)!==0||qy(l,i,s)}return s}function qy(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ye.updateQueue,i===null?(i=Pd(),Ye.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function Fy(n,i,s,l){i.value=s,i.getSnapshot=l,Yy(i)&&Qy(n)}function Gy(n,i,s){return s(function(){Yy(i)&&Qy(n)})}function Yy(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Yn(n,s)}catch{return!0}}function Qy(n){var i=ao(n,2);i!==null&&Zn(i,n,2)}function Ld(n){var i=kn();if(typeof n=="function"){var s=n;if(n=s(),bs){vn(!0);try{s()}finally{vn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:n},i}function Ky(n,i,s,l){return n.baseState=s,Vd(n,vt,typeof l=="function"?l:Ii)}function cA(n,i,s,l,f){if(Hc(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};Q.T!==null?s(!0):m.isTransition=!1,l(m),s=i.pending,s===null?(m.next=i.pending=m,$y(i,m)):(m.next=s.next,i.pending=s.next=m)}}function $y(n,i){var s=i.action,l=i.payload,f=n.state;if(i.isTransition){var m=Q.T,E={};Q.T=E;try{var w=s(f,l),D=Q.S;D!==null&&D(E,w),Xy(n,i,w)}catch(F){Ud(n,i,F)}finally{Q.T=m}}else try{m=s(f,l),Xy(n,i,m)}catch(F){Ud(n,i,F)}}function Xy(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Wy(n,i,l)},function(l){return Ud(n,i,l)}):Wy(n,i,s)}function Wy(n,i,s){i.status="fulfilled",i.value=s,Zy(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,$y(n,s)))}function Ud(n,i,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Zy(i),i=i.next;while(i!==l)}n.action=null}function Zy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Jy(n,i){return i}function e_(n,i){if(ht){var s=At.formState;if(s!==null){e:{var l=Ye;if(ht){if(Mt){t:{for(var f=Mt,m=$r;f.nodeType!==8;){if(!m){f=null;break t}if(f=Or(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Mt=Or(f.nextSibling),l=f.data==="F!";break e}}Es(l)}l=!1}l&&(i=s[0])}}return s=kn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:i},s.queue=l,s=v_.bind(null,Ye,l),l.dispatch=s,l=Ld(!1),m=qd.bind(null,Ye,!1,l.queue),l=kn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,s=cA.bind(null,Ye,f,m,s),f.dispatch=s,l.memoizedState=n,[i,s,!1]}function t_(n){var i=Ht();return n_(i,vt,n)}function n_(n,i,s){if(i=Vd(n,i,Jy)[0],n=zc(Ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=xl(i)}catch(E){throw E===Cl?Pc:E}else l=i;i=Ht();var f=i.queue,m=f.dispatch;return s!==i.memoizedState&&(Ye.flags|=2048,po(9,Bc(),hA.bind(null,f,s),null)),[l,m,n]}function hA(n,i){n.action=i}function r_(n){var i=Ht(),s=vt;if(s!==null)return n_(i,s,n);Ht(),i=i.memoizedState,s=Ht();var l=s.queue.dispatch;return s.memoizedState=n,[i,l,!1]}function po(n,i,s,l){return n={tag:n,create:s,deps:l,inst:i,next:null},i=Ye.updateQueue,i===null&&(i=Pd(),Ye.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,i.lastEffect=n),n}function Bc(){return{destroy:void 0,resource:void 0}}function i_(){return Ht().memoizedState}function jc(n,i,s,l){var f=kn();l=l===void 0?null:l,Ye.flags|=n,f.memoizedState=po(1|i,Bc(),s,l)}function Vl(n,i,s,l){var f=Ht();l=l===void 0?null:l;var m=f.memoizedState.inst;vt!==null&&l!==null&&Cd(l,vt.memoizedState.deps)?f.memoizedState=po(i,m,s,l):(Ye.flags|=n,f.memoizedState=po(1|i,m,s,l))}function a_(n,i){jc(8390656,8,n,i)}function s_(n,i){Vl(2048,8,n,i)}function o_(n,i){return Vl(4,2,n,i)}function l_(n,i){return Vl(4,4,n,i)}function u_(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function c_(n,i,s){s=s!=null?s.concat([n]):null,Vl(4,4,u_.bind(null,i,n),s)}function zd(){}function h_(n,i){var s=Ht();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Cd(i,l[1])?l[0]:(s.memoizedState=[n,i],n)}function f_(n,i){var s=Ht();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Cd(i,l[1]))return l[0];if(l=n(),bs){vn(!0);try{n()}finally{vn(!1)}}return s.memoizedState=[l,i],l}function Bd(n,i,s){return s===void 0||(ia&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=pv(),Ye.lanes|=n,ha|=n,s)}function d_(n,i,s,l){return Yn(s,i)?s:ho.current!==null?(n=Bd(n,s,l),Yn(n,i)||(nn=!0),n):(ia&42)===0?(nn=!0,n.memoizedState=s):(n=pv(),Ye.lanes|=n,ha|=n,i)}function m_(n,i,s,l,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var E=Q.T,w={};Q.T=w,qd(n,!1,i,s);try{var D=f(),F=Q.S;if(F!==null&&F(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=oA(D,l);kl(n,i,Z,Wn(n))}else kl(n,i,l,Wn(n))}catch(re){kl(n,i,{then:function(){},status:"rejected",reason:re},Wn())}finally{ce.p=m,Q.T=E}}function fA(){}function jd(n,i,s,l){if(n.tag!==5)throw Error(a(476));var f=p_(n).queue;m_(n,f,i,ge,s===null?fA:function(){return g_(n),s(l)})}function p_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ge},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function g_(n){var i=p_(n).next.queue;kl(n,i,{},Wn())}function Hd(){return En(eu)}function y_(){return Ht().memoizedState}function __(){return Ht().memoizedState}function dA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Wn();n=na(s);var l=ra(i,n,s);l!==null&&(Zn(l,i,s),Nl(l,i,s)),i={cache:_d()},n.payload=i;return}i=i.return}}function mA(n,i,s){var l=Wn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Hc(n)?E_(i,s):(s=ld(n,i,s,l),s!==null&&(Zn(s,n,l),T_(s,i,l)))}function v_(n,i,s){var l=Wn();kl(n,i,s,l)}function kl(n,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hc(n))E_(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,w=m(E,s);if(f.hasEagerState=!0,f.eagerState=w,Yn(w,E))return Ac(n,i,f,0),At===null&&bc(),!1}catch{}finally{}if(s=ld(n,i,f,l),s!==null)return Zn(s,n,l),T_(s,i,l),!0}return!1}function qd(n,i,s,l){if(l={lane:2,revertLane:Tm(),action:l,hasEagerState:!1,eagerState:null,next:null},Hc(n)){if(i)throw Error(a(479))}else i=ld(n,s,l,2),i!==null&&Zn(i,n,2)}function Hc(n){var i=n.alternate;return n===Ye||i!==null&&i===Ye}function E_(n,i){fo=kc=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function T_(n,i,s){if((s&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Br(n,s)}}var qc={readContext:En,use:Uc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},w_={readContext:En,use:Uc,useCallback:function(n,i){return kn().memoizedState=[n,i===void 0?null:i],n},useContext:En,useEffect:a_,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,jc(4194308,4,u_.bind(null,i,n),s)},useLayoutEffect:function(n,i){return jc(4194308,4,n,i)},useInsertionEffect:function(n,i){jc(4,2,n,i)},useMemo:function(n,i){var s=kn();i=i===void 0?null:i;var l=n();if(bs){vn(!0);try{n()}finally{vn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(n,i,s){var l=kn();if(s!==void 0){var f=s(i);if(bs){vn(!0);try{s(i)}finally{vn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=mA.bind(null,Ye,n),[l.memoizedState,n]},useRef:function(n){var i=kn();return n={current:n},i.memoizedState=n},useState:function(n){n=Ld(n);var i=n.queue,s=v_.bind(null,Ye,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:zd,useDeferredValue:function(n,i){var s=kn();return Bd(s,n,i)},useTransition:function(){var n=Ld(!1);return n=m_.bind(null,Ye,n.queue,!0,!1),kn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var l=Ye,f=kn();if(ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),At===null)throw Error(a(349));(it&124)!==0||qy(l,i,s)}f.memoizedState=s;var m={value:s,getSnapshot:i};return f.queue=m,a_(Gy.bind(null,l,m,n),[n]),l.flags|=2048,po(9,Bc(),Fy.bind(null,l,m,s,i),null),s},useId:function(){var n=kn(),i=At.identifierPrefix;if(ht){var s=bi,l=Si;s=(l&~(1<<32-zt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Lc++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=lA++,i=""+i+"r"+s.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Hd,useFormState:e_,useActionState:e_,useOptimistic:function(n){var i=kn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=qd.bind(null,Ye,!0,s),s.dispatch=i,[n,i]},useMemoCache:xd,useCacheRefresh:function(){return kn().memoizedState=dA.bind(null,Ye)}},S_={readContext:En,use:Uc,useCallback:h_,useContext:En,useEffect:s_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:zc,useRef:i_,useState:function(){return zc(Ii)},useDebugValue:zd,useDeferredValue:function(n,i){var s=Ht();return d_(s,vt.memoizedState,n,i)},useTransition:function(){var n=zc(Ii)[0],i=Ht().memoizedState;return[typeof n=="boolean"?n:xl(n),i]},useSyncExternalStore:Hy,useId:y_,useHostTransitionStatus:Hd,useFormState:t_,useActionState:t_,useOptimistic:function(n,i){var s=Ht();return Ky(s,vt,n,i)},useMemoCache:xd,useCacheRefresh:__},pA={readContext:En,use:Uc,useCallback:h_,useContext:En,useEffect:s_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:kd,useRef:i_,useState:function(){return kd(Ii)},useDebugValue:zd,useDeferredValue:function(n,i){var s=Ht();return vt===null?Bd(s,n,i):d_(s,vt.memoizedState,n,i)},useTransition:function(){var n=kd(Ii)[0],i=Ht().memoizedState;return[typeof n=="boolean"?n:xl(n),i]},useSyncExternalStore:Hy,useId:y_,useHostTransitionStatus:Hd,useFormState:r_,useActionState:r_,useOptimistic:function(n,i){var s=Ht();return vt!==null?Ky(s,vt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:xd,useCacheRefresh:__},go=null,Ll=0;function Fc(n){var i=Ll;return Ll+=1,go===null&&(go=[]),xy(go,n,i)}function Ul(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Gc(n,i){throw i.$$typeof===T?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function b_(n){var i=n._init;return i(n._payload)}function A_(n){function i(U,x){if(n){var H=U.deletions;H===null?(U.deletions=[x],U.flags|=16):H.push(x)}}function s(U,x){if(!n)return null;for(;x!==null;)i(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function f(U,x){return U=wi(U,x),U.index=0,U.sibling=null,U}function m(U,x,H){return U.index=H,n?(H=U.alternate,H!==null?(H=H.index,H<x?(U.flags|=67108866,x):H):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function E(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function w(U,x,H,te){return x===null||x.tag!==6?(x=cd(H,U.mode,te),x.return=U,x):(x=f(x,H),x.return=U,x)}function D(U,x,H,te){var Ee=H.type;return Ee===V?Z(U,x,H.props.children,te,H.key):x!==null&&(x.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&b_(Ee)===x.type)?(x=f(x,H.props),Ul(x,H),x.return=U,x):(x=Ic(H.type,H.key,H.props,null,U.mode,te),Ul(x,H),x.return=U,x)}function F(U,x,H,te){return x===null||x.tag!==4||x.stateNode.containerInfo!==H.containerInfo||x.stateNode.implementation!==H.implementation?(x=hd(H,U.mode,te),x.return=U,x):(x=f(x,H.children||[]),x.return=U,x)}function Z(U,x,H,te,Ee){return x===null||x.tag!==7?(x=gs(H,U.mode,te,Ee),x.return=U,x):(x=f(x,H),x.return=U,x)}function re(U,x,H){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=cd(""+x,U.mode,H),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case S:return H=Ic(x.type,x.key,x.props,null,U.mode,H),Ul(H,x),H.return=U,H;case C:return x=hd(x,U.mode,H),x.return=U,x;case A:var te=x._init;return x=te(x._payload),re(U,x,H)}if(et(x)||L(x))return x=gs(x,U.mode,H,null),x.return=U,x;if(typeof x.then=="function")return re(U,Fc(x),H);if(x.$$typeof===oe)return re(U,Oc(U,x),H);Gc(U,x)}return null}function K(U,x,H,te){var Ee=x!==null?x.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:w(U,x,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===Ee?D(U,x,H,te):null;case C:return H.key===Ee?F(U,x,H,te):null;case A:return Ee=H._init,H=Ee(H._payload),K(U,x,H,te)}if(et(H)||L(H))return Ee!==null?null:Z(U,x,H,te,null);if(typeof H.then=="function")return K(U,x,Fc(H),te);if(H.$$typeof===oe)return K(U,x,Oc(U,H),te);Gc(U,H)}return null}function $(U,x,H,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(H)||null,w(x,U,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return U=U.get(te.key===null?H:te.key)||null,D(x,U,te,Ee);case C:return U=U.get(te.key===null?H:te.key)||null,F(x,U,te,Ee);case A:var Qe=te._init;return te=Qe(te._payload),$(U,x,H,te,Ee)}if(et(te)||L(te))return U=U.get(H)||null,Z(x,U,te,Ee,null);if(typeof te.then=="function")return $(U,x,H,Fc(te),Ee);if(te.$$typeof===oe)return $(U,x,H,Oc(x,te),Ee);Gc(x,te)}return null}function Le(U,x,H,te){for(var Ee=null,Qe=null,Ie=x,xe=x=0,an=null;Ie!==null&&xe<H.length;xe++){Ie.index>xe?(an=Ie,Ie=null):an=Ie.sibling;var ot=K(U,Ie,H[xe],te);if(ot===null){Ie===null&&(Ie=an);break}n&&Ie&&ot.alternate===null&&i(U,Ie),x=m(ot,x,xe),Qe===null?Ee=ot:Qe.sibling=ot,Qe=ot,Ie=an}if(xe===H.length)return s(U,Ie),ht&&_s(U,xe),Ee;if(Ie===null){for(;xe<H.length;xe++)Ie=re(U,H[xe],te),Ie!==null&&(x=m(Ie,x,xe),Qe===null?Ee=Ie:Qe.sibling=Ie,Qe=Ie);return ht&&_s(U,xe),Ee}for(Ie=l(Ie);xe<H.length;xe++)an=$(Ie,U,xe,H[xe],te),an!==null&&(n&&an.alternate!==null&&Ie.delete(an.key===null?xe:an.key),x=m(an,x,xe),Qe===null?Ee=an:Qe.sibling=an,Qe=an);return n&&Ie.forEach(function(Ea){return i(U,Ea)}),ht&&_s(U,xe),Ee}function Me(U,x,H,te){if(H==null)throw Error(a(151));for(var Ee=null,Qe=null,Ie=x,xe=x=0,an=null,ot=H.next();Ie!==null&&!ot.done;xe++,ot=H.next()){Ie.index>xe?(an=Ie,Ie=null):an=Ie.sibling;var Ea=K(U,Ie,ot.value,te);if(Ea===null){Ie===null&&(Ie=an);break}n&&Ie&&Ea.alternate===null&&i(U,Ie),x=m(Ea,x,xe),Qe===null?Ee=Ea:Qe.sibling=Ea,Qe=Ea,Ie=an}if(ot.done)return s(U,Ie),ht&&_s(U,xe),Ee;if(Ie===null){for(;!ot.done;xe++,ot=H.next())ot=re(U,ot.value,te),ot!==null&&(x=m(ot,x,xe),Qe===null?Ee=ot:Qe.sibling=ot,Qe=ot);return ht&&_s(U,xe),Ee}for(Ie=l(Ie);!ot.done;xe++,ot=H.next())ot=$(Ie,U,xe,ot.value,te),ot!==null&&(n&&ot.alternate!==null&&Ie.delete(ot.key===null?xe:ot.key),x=m(ot,x,xe),Qe===null?Ee=ot:Qe.sibling=ot,Qe=ot);return n&&Ie.forEach(function(g1){return i(U,g1)}),ht&&_s(U,xe),Ee}function Tt(U,x,H,te){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var Ee=H.key;x!==null;){if(x.key===Ee){if(Ee=H.type,Ee===V){if(x.tag===7){s(U,x.sibling),te=f(x,H.props.children),te.return=U,U=te;break e}}else if(x.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&b_(Ee)===x.type){s(U,x.sibling),te=f(x,H.props),Ul(te,H),te.return=U,U=te;break e}s(U,x);break}else i(U,x);x=x.sibling}H.type===V?(te=gs(H.props.children,U.mode,te,H.key),te.return=U,U=te):(te=Ic(H.type,H.key,H.props,null,U.mode,te),Ul(te,H),te.return=U,U=te)}return E(U);case C:e:{for(Ee=H.key;x!==null;){if(x.key===Ee)if(x.tag===4&&x.stateNode.containerInfo===H.containerInfo&&x.stateNode.implementation===H.implementation){s(U,x.sibling),te=f(x,H.children||[]),te.return=U,U=te;break e}else{s(U,x);break}else i(U,x);x=x.sibling}te=hd(H,U.mode,te),te.return=U,U=te}return E(U);case A:return Ee=H._init,H=Ee(H._payload),Tt(U,x,H,te)}if(et(H))return Le(U,x,H,te);if(L(H)){if(Ee=L(H),typeof Ee!="function")throw Error(a(150));return H=Ee.call(H),Me(U,x,H,te)}if(typeof H.then=="function")return Tt(U,x,Fc(H),te);if(H.$$typeof===oe)return Tt(U,x,Oc(U,H),te);Gc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,x!==null&&x.tag===6?(s(U,x.sibling),te=f(x,H),te.return=U,U=te):(s(U,x),te=cd(H,U.mode,te),te.return=U,U=te),E(U)):s(U,x)}return function(U,x,H,te){try{Ll=0;var Ee=Tt(U,x,H,te);return go=null,Ee}catch(Ie){if(Ie===Cl||Ie===Pc)throw Ie;var Qe=Qn(29,Ie,null,U.mode);return Qe.lanes=te,Qe.return=U,Qe}finally{}}}var yo=A_(!0),R_=A_(!1),yr=ee(null),Xr=null;function aa(n){var i=n.alternate;le(Xt,Xt.current&1),le(yr,n),Xr===null&&(i===null||ho.current!==null||i.memoizedState!==null)&&(Xr=n)}function I_(n){if(n.tag===22){if(le(Xt,Xt.current),le(yr,n),Xr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Xr=n)}}else sa()}function sa(){le(Xt,Xt.current),le(yr,yr.current)}function Ci(n){he(yr),Xr===n&&(Xr=null),he(Xt)}var Xt=ee(0);function Yc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Pm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Fd(n,i,s,l){i=n.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Gd={enqueueSetState:function(n,i,s){n=n._reactInternals;var l=Wn(),f=na(l);f.payload=i,s!=null&&(f.callback=s),i=ra(n,f,l),i!==null&&(Zn(i,n,l),Nl(i,n,l))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var l=Wn(),f=na(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=ra(n,f,l),i!==null&&(Zn(i,n,l),Nl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Wn(),l=na(s);l.tag=2,i!=null&&(l.callback=i),i=ra(n,l,s),i!==null&&(Zn(i,n,s),Nl(i,n,s))}};function C_(n,i,s,l,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!El(s,l)||!El(f,m):!0}function D_(n,i,s,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==n&&Gd.enqueueReplaceState(i,i.state,null)}function As(n,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(n=n.defaultProps){s===i&&(s=_({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}var Qc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function N_(n){Qc(n)}function O_(n){console.error(n)}function M_(n){Qc(n)}function Kc(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function P_(n,i,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Yd(n,i,s){return s=na(s),s.tag=3,s.payload={element:null},s.callback=function(){Kc(n,i)},s}function x_(n){return n=na(n),n.tag=3,n}function V_(n,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){P_(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){P_(i,s,l),typeof f!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function gA(n,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Al(i,s,f,!0),s=yr.current,s!==null){switch(s.tag){case 13:return Xr===null?gm():s.alternate===null&&Pt===0&&(Pt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Td?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),_m(n,l,f)),!1;case 22:return s.flags|=65536,l===Td?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),_m(n,l,f)),!1}throw Error(a(435,s.tag))}return _m(n,l,f),gm(),!1}if(ht)return i=yr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==md&&(n=Error(a(422),{cause:l}),bl(dr(n,s)))):(l!==md&&(i=Error(a(423),{cause:l}),bl(dr(i,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=dr(l,s),f=Yd(n.stateNode,l,f),bd(n,f),Pt!==4&&(Pt=2)),!1;var m=Error(a(520),{cause:l});if(m=dr(m,s),Gl===null?Gl=[m]:Gl.push(m),Pt!==4&&(Pt=2),i===null)return!0;l=dr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Yd(s.stateNode,l,n),bd(s,n),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fa===null||!fa.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=x_(f),V_(f,n,s,l),bd(s,f),!1}s=s.return}while(s!==null);return!1}var k_=Error(a(461)),nn=!1;function hn(n,i,s,l){i.child=n===null?R_(i,null,s,l):yo(i,n.child,s,l)}function L_(n,i,s,l,f){s=s.render;var m=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return ws(i),l=Dd(n,i,s,E,m,f),w=Nd(),n!==null&&!nn?(Od(n,i,f),Di(n,i,f)):(ht&&w&&fd(i),i.flags|=1,hn(n,i,l,f),i.child)}function U_(n,i,s,l,f){if(n===null){var m=s.type;return typeof m=="function"&&!ud(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,z_(n,i,m,l,f)):(n=Ic(s.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!em(n,f)){var E=m.memoizedProps;if(s=s.compare,s=s!==null?s:El,s(E,l)&&n.ref===i.ref)return Di(n,i,f)}return i.flags|=1,n=wi(m,l),n.ref=i.ref,n.return=i,i.child=n}function z_(n,i,s,l,f){if(n!==null){var m=n.memoizedProps;if(El(m,l)&&n.ref===i.ref)if(nn=!1,i.pendingProps=l=m,em(n,f))(n.flags&131072)!==0&&(nn=!0);else return i.lanes=n.lanes,Di(n,i,f)}return Qd(n,i,s,l,f)}function B_(n,i,s){var l=i.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|s:s,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return j_(n,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Mc(i,m!==null?m.cachePool:null),m!==null?zy(i,m):Rd(),I_(i);else return i.lanes=i.childLanes=536870912,j_(n,i,m!==null?m.baseLanes|s:s,s)}else m!==null?(Mc(i,m.cachePool),zy(i,m),sa(),i.memoizedState=null):(n!==null&&Mc(i,null),Rd(),sa());return hn(n,i,f,s),i.child}function j_(n,i,s,l){var f=Ed();return f=f===null?null:{parent:$t._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},n!==null&&Mc(i,null),Rd(),I_(i),n!==null&&Al(n,i,l,!0),null}function $c(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function Qd(n,i,s,l,f){return ws(i),s=Dd(n,i,s,l,void 0,f),l=Nd(),n!==null&&!nn?(Od(n,i,f),Di(n,i,f)):(ht&&l&&fd(i),i.flags|=1,hn(n,i,s,f),i.child)}function H_(n,i,s,l,f,m){return ws(i),i.updateQueue=null,s=jy(i,l,s,f),By(n),l=Nd(),n!==null&&!nn?(Od(n,i,m),Di(n,i,m)):(ht&&l&&fd(i),i.flags|=1,hn(n,i,s,m),i.child)}function q_(n,i,s,l,f){if(ws(i),i.stateNode===null){var m=so,E=s.contextType;typeof E=="object"&&E!==null&&(m=En(E)),m=new s(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Gd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},wd(i),E=s.contextType,m.context=typeof E=="object"&&E!==null?En(E):so,m.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Fd(i,s,E,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Gd.enqueueReplaceState(m,m.state,null),Ml(i,l,m,f),Ol(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,D=As(s,w);m.props=D;var F=m.context,Z=s.contextType;E=so,typeof Z=="object"&&Z!==null&&(E=En(Z));var re=s.getDerivedStateFromProps;Z=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==E)&&D_(i,m,l,E),ta=!1;var K=i.memoizedState;m.state=K,Ml(i,l,m,f),Ol(),F=i.memoizedState,w||K!==F||ta?(typeof re=="function"&&(Fd(i,s,re,l),F=i.memoizedState),(D=ta||C_(i,s,D,l,K,F,E))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),m.props=l,m.state=F,m.context=E,l=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Sd(n,i),E=i.memoizedProps,Z=As(s,E),m.props=Z,re=i.pendingProps,K=m.context,F=s.contextType,D=so,typeof F=="object"&&F!==null&&(D=En(F)),w=s.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==re||K!==D)&&D_(i,m,l,D),ta=!1,K=i.memoizedState,m.state=K,Ml(i,l,m,f),Ol();var $=i.memoizedState;E!==re||K!==$||ta||n!==null&&n.dependencies!==null&&Nc(n.dependencies)?(typeof w=="function"&&(Fd(i,s,w,l),$=i.memoizedState),(Z=ta||C_(i,s,Z,l,K,$,D)||n!==null&&n.dependencies!==null&&Nc(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,$,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,$,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),m.props=l,m.state=$,m.context=D,l=Z):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,$c(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=yo(i,n.child,null,f),i.child=yo(i,null,s,f)):hn(n,i,s,f),i.memoizedState=m.state,n=i.child):n=Di(n,i,f),n}function F_(n,i,s,l){return Sl(),i.flags|=256,hn(n,i,s,l),i.child}var Kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $d(n){return{baseLanes:n,cachePool:Oy()}}function Xd(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=_r),n}function G_(n,i,s){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Xt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(ht){if(f?aa(i):sa(),ht){var w=Mt,D;if(D=w){e:{for(D=w,w=$r;D.nodeType!==8;){if(!w){w=null;break e}if(D=Or(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(i.memoizedState={dehydrated:w,treeContext:ys!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},D=Qn(18,null,null,0),D.stateNode=w,D.return=i,i.child=D,Mn=i,Mt=null,D=!0):D=!1}D||Es(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Pm(w)?i.lanes=32:i.lanes=536870912,null;Ci(i)}return w=l.children,l=l.fallback,f?(sa(),f=i.mode,w=Xc({mode:"hidden",children:w},f),l=gs(l,f,s,null),w.return=i,l.return=i,w.sibling=l,i.child=w,f=i.child,f.memoizedState=$d(s),f.childLanes=Xd(n,E,s),i.memoizedState=Kd,l):(aa(i),Wd(i,w))}if(D=n.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(m)i.flags&256?(aa(i),i.flags&=-257,i=Zd(n,i,s)):i.memoizedState!==null?(sa(),i.child=n.child,i.flags|=128,i=null):(sa(),f=l.fallback,w=i.mode,l=Xc({mode:"visible",children:l.children},w),f=gs(f,w,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,yo(i,n.child,null,s),l=i.child,l.memoizedState=$d(s),l.childLanes=Xd(n,E,s),i.memoizedState=Kd,i=f);else if(aa(i),Pm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(a(419)),l.stack="",l.digest=E,bl({value:l,source:null,stack:null}),i=Zd(n,i,s)}else if(nn||Al(n,i,s,!1),E=(s&n.childLanes)!==0,nn||E){if(E=At,E!==null&&(l=s&-s,l=(l&42)!==0?1:jr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ao(n,l),Zn(E,n,l),k_;w.data==="$?"||gm(),i=Zd(n,i,s)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=D.treeContext,Mt=Or(w.nextSibling),Mn=i,ht=!0,vs=null,$r=!1,n!==null&&(pr[gr++]=Si,pr[gr++]=bi,pr[gr++]=ys,Si=n.id,bi=n.overflow,ys=i),i=Wd(i,l.children),i.flags|=4096);return i}return f?(sa(),f=l.fallback,w=i.mode,D=n.child,F=D.sibling,l=wi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?f=wi(F,f):(f=gs(f,w,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,w=n.child.memoizedState,w===null?w=$d(s):(D=w.cachePool,D!==null?(F=$t._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Oy(),w={baseLanes:w.baseLanes|s,cachePool:D}),f.memoizedState=w,f.childLanes=Xd(n,E,s),i.memoizedState=Kd,l):(aa(i),s=n.child,n=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=s,i.memoizedState=null,s)}function Wd(n,i){return i=Xc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Xc(n,i){return n=Qn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Zd(n,i,s){return yo(i,n.child,null,s),n=Wd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Y_(n,i,s){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),gd(n.return,i,s)}function Jd(n,i,s,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=f)}function Q_(n,i,s){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if(hn(n,i,l.children,s),l=Xt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Y_(n,s,i);else if(n.tag===19)Y_(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(le(Xt,l),f){case"forwards":for(s=i.child,f=null;s!==null;)n=s.alternate,n!==null&&Yc(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Jd(i,!1,f,s,m);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Yc(n)===null){i.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}Jd(i,!0,s,null,m);break;case"together":Jd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),ha|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Al(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=wi(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=wi(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function em(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Nc(n)))}function yA(n,i,s){switch(i.tag){case 3:yt(i,i.stateNode.containerInfo),ea(i,$t,n.memoizedState.cache),Sl();break;case 27:case 5:Rt(i);break;case 4:yt(i,i.stateNode.containerInfo);break;case 10:ea(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(aa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?G_(n,i,s):(aa(i),n=Di(n,i,s),n!==null?n.sibling:null);aa(i);break;case 19:var f=(n.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Al(n,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return Q_(n,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Xt,Xt.current),l)break;return null;case 22:case 23:return i.lanes=0,B_(n,i,s);case 24:ea(i,$t,n.memoizedState.cache)}return Di(n,i,s)}function K_(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)nn=!0;else{if(!em(n,s)&&(i.flags&128)===0)return nn=!1,yA(n,i,s);nn=(n.flags&131072)!==0}else nn=!1,ht&&(i.flags&1048576)!==0&&by(i,Dc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")ud(l)?(n=As(l,n),i.tag=1,i=q_(null,i,l,n,s)):(i.tag=0,i=Qd(null,i,l,n,s));else{if(l!=null){if(f=l.$$typeof,f===Re){i.tag=11,i=L_(null,i,l,n,s);break e}else if(f===M){i.tag=14,i=U_(null,i,l,n,s);break e}}throw i=qe(l)||l,Error(a(306,i,""))}}return i;case 0:return Qd(n,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=As(l,i.pendingProps),q_(n,i,l,f,s);case 3:e:{if(yt(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,Sd(n,i),Ml(i,l,null,s);var E=i.memoizedState;if(l=E.cache,ea(i,$t,l),l!==m.cache&&yd(i,[$t],s,!0),Ol(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=F_(n,i,l,s);break e}else if(l!==f){f=dr(Error(a(424)),i),bl(f),i=F_(n,i,l,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Mt=Or(n.firstChild),Mn=i,ht=!0,vs=null,$r=!0,s=R_(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Sl(),l===f){i=Di(n,i,s);break e}hn(n,i,l,s)}i=i.child}return i;case 26:return $c(n,i),n===null?(s=Zv(i.type,null,i.pendingProps,null))?i.memoizedState=s:ht||(s=i.type,n=i.pendingProps,l=ch(Oe.current).createElement(s),l[ie]=i,l[ue]=n,dn(l,s,n),ze(l),i.stateNode=l):i.memoizedState=Zv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Rt(i),n===null&&ht&&(l=i.stateNode=$v(i.type,i.pendingProps,Oe.current),Mn=i,$r=!0,f=Mt,pa(i.type)?(xm=f,Mt=Or(l.firstChild)):Mt=f),hn(n,i,i.pendingProps.children,s),$c(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ht&&((f=l=Mt)&&(l=GA(l,i.type,i.pendingProps,$r),l!==null?(i.stateNode=l,Mn=i,Mt=Or(l.firstChild),$r=!1,f=!0):f=!1),f||Es(i)),Rt(i),f=i.type,m=i.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,Nm(f,m)?l=null:E!==null&&Nm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Dd(n,i,uA,null,null,s),eu._currentValue=f),$c(n,i),hn(n,i,l,s),i.child;case 6:return n===null&&ht&&((n=s=Mt)&&(s=YA(s,i.pendingProps,$r),s!==null?(i.stateNode=s,Mn=i,Mt=null,n=!0):n=!1),n||Es(i)),null;case 13:return G_(n,i,s);case 4:return yt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=yo(i,null,l,s):hn(n,i,l,s),i.child;case 11:return L_(n,i,i.type,i.pendingProps,s);case 7:return hn(n,i,i.pendingProps,s),i.child;case 8:return hn(n,i,i.pendingProps.children,s),i.child;case 12:return hn(n,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ea(i,i.type,l.value),hn(n,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ws(i),f=En(f),l=l(f),i.flags|=1,hn(n,i,l,s),i.child;case 14:return U_(n,i,i.type,i.pendingProps,s);case 15:return z_(n,i,i.type,i.pendingProps,s);case 19:return Q_(n,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},n===null?(s=Xc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=wi(n.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return B_(n,i,s);case 24:return ws(i),l=En($t),n===null?(f=Ed(),f===null&&(f=At,m=_d(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),i.memoizedState={parent:l,cache:f},wd(i),ea(i,$t,f)):((n.lanes&s)!==0&&(Sd(n,i),Ml(i,null,null,s),Ol()),f=n.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ea(i,$t,l)):(l=m.cache,ea(i,$t,l),l!==f.cache&&yd(i,[$t],s,!0))),hn(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ni(n){n.flags|=4}function $_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!rE(i)){if(i=yr.current,i!==null&&((it&4194048)===it?Xr!==null:(it&62914560)!==it&&(it&536870912)===0||i!==Xr))throw Dl=Td,My;n.flags|=8192}}function Wc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ns():536870912,n.lanes|=i,To|=i)}function zl(n,i){if(!ht)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Nt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(i)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,i}function _A(n,i,s){var l=i.pendingProps;switch(dd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return Nt(i),null;case 3:return s=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ri($t),rr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(wl(i)?Ni(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Iy())),Nt(i),null;case 26:return s=i.memoizedState,n===null?(Ni(i),s!==null?(Nt(i),$_(i,s)):(Nt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Ni(i),Nt(i),$_(i,s)):(Nt(i),i.flags&=-16777217):(n.memoizedProps!==l&&Ni(i),Nt(i),i.flags&=-16777217),null;case 27:_n(i),s=Oe.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Nt(i),null}n=be.current,wl(i)?Ay(i):(n=$v(f,l,s),i.stateNode=n,Ni(i))}return Nt(i),null;case 5:if(_n(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Nt(i),null}if(n=be.current,wl(i))Ay(i);else{switch(f=ch(Oe.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}n[ie]=i,n[ue]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(dn(n,s,l),s){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ni(i)}}return Nt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Ni(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=Oe.current,wl(i)){if(n=i.stateNode,s=i.memoizedProps,l=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[ie]=i,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Hv(n.nodeValue,s)),n||Es(i)}else n=ch(n).createTextNode(l),n[ie]=i,i.stateNode=n}return Nt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=wl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ie]=i}else Sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),f=!1}else f=Iy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,n=n!==null&&n.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Wc(i,i.updateQueue),Nt(i),null;case 4:return rr(),n===null&&Am(i.stateNode.containerInfo),Nt(i),null;case 10:return Ri(i.type),Nt(i),null;case 19:if(he(Xt),f=i.memoizedState,f===null)return Nt(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)zl(f,!1);else{if(Pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Yc(n),m!==null){for(i.flags|=128,zl(f,!1),n=m.updateQueue,i.updateQueue=n,Wc(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)Sy(s,n),s=s.sibling;return le(Xt,Xt.current&1|2),i.child}n=n.sibling}f.tail!==null&&Rn()>eh&&(i.flags|=128,l=!0,zl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Yc(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Wc(i,n),zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!ht)return Nt(i),null}else 2*Rn()-f.renderingStartTime>eh&&s!==536870912&&(i.flags|=128,l=!0,zl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Rn(),i.sibling=null,n=Xt.current,le(Xt,l?n&1|2:n&1),i):(Nt(i),null);case 22:case 23:return Ci(i),Id(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),s=i.updateQueue,s!==null&&Wc(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),n!==null&&he(Ss),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ri($t),Nt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function vA(n,i){switch(dd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ri($t),rr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return _n(i),null;case 13:if(Ci(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Sl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return he(Xt),null;case 4:return rr(),null;case 10:return Ri(i.type),null;case 22:case 23:return Ci(i),Id(),n!==null&&he(Ss),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ri($t),null;case 25:return null;default:return null}}function X_(n,i){switch(dd(i),i.tag){case 3:Ri($t),rr();break;case 26:case 27:case 5:_n(i);break;case 4:rr();break;case 13:Ci(i);break;case 19:he(Xt);break;case 10:Ri(i.type);break;case 22:case 23:Ci(i),Id(),n!==null&&he(Ss);break;case 24:Ri($t)}}function Bl(n,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var m=s.create,E=s.inst;l=m(),E.destroy=l}s=s.next}while(s!==f)}}catch(w){St(i,i.return,w)}}function oa(n,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=i;var D=s,F=w;try{F()}catch(Z){St(f,D,Z)}}}l=l.next}while(l!==m)}}catch(Z){St(i,i.return,Z)}}function W_(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Uy(i,s)}catch(l){St(n,n.return,l)}}}function Z_(n,i,s){s.props=As(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){St(n,i,l)}}function jl(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){St(n,i,f)}}function Wr(n,i){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){St(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){St(n,i,f)}else s.current=null}function J_(n){var i=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){St(n,n.return,f)}}function tm(n,i,s){try{var l=n.stateNode;BA(l,n.type,s,i),l[ue]=i}catch(f){St(n,n.return,f)}}function ev(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&pa(n.type)||n.tag===4}function nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ev(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&pa(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rm(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=uh));else if(l!==4&&(l===27&&pa(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(rm(n,i,s),n=n.sibling;n!==null;)rm(n,i,s),n=n.sibling}function Zc(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(l!==4&&(l===27&&pa(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Zc(n,i,s),n=n.sibling;n!==null;)Zc(n,i,s),n=n.sibling}function tv(n){var i=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);dn(i,l,s),i[ie]=n,i[ue]=s}catch(m){St(n,n.return,m)}}var Oi=!1,Vt=!1,im=!1,nv=typeof WeakSet=="function"?WeakSet:Set,rn=null;function EA(n,i){if(n=n.containerInfo,Cm=gh,n=dy(n),nd(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var E=0,w=-1,D=-1,F=0,Z=0,re=n,K=null;t:for(;;){for(var $;re!==s||f!==0&&re.nodeType!==3||(w=E+f),re!==m||l!==0&&re.nodeType!==3||(D=E+l),re.nodeType===3&&(E+=re.nodeValue.length),($=re.firstChild)!==null;)K=re,re=$;for(;;){if(re===n)break t;if(K===s&&++F===f&&(w=E),K===m&&++Z===l&&(D=E),($=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=$}s=w===-1||D===-1?null:{start:w,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dm={focusedElem:n,selectionRange:s},gh=!1,rn=i;rn!==null;)if(i=rn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,rn=n;else for(;rn!==null;){switch(i=rn,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,s=i,f=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var Le=As(s.type,f,s.elementType===s.type);n=l.getSnapshotBeforeUpdate(Le,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Me){St(s,s.return,Me)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Mm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Mm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,rn=n;break}rn=i.return}}function rv(n,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:la(n,s),l&4&&Bl(5,s);break;case 1:if(la(n,s),l&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(E){St(s,s.return,E)}else{var f=As(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){St(s,s.return,E)}}l&64&&W_(s),l&512&&jl(s,s.return);break;case 3:if(la(n,s),l&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Uy(n,i)}catch(E){St(s,s.return,E)}}break;case 27:i===null&&l&4&&tv(s);case 26:case 5:la(n,s),i===null&&l&4&&J_(s),l&512&&jl(s,s.return);break;case 12:la(n,s);break;case 13:la(n,s),l&4&&sv(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=DA.bind(null,s),QA(n,s))));break;case 22:if(l=s.memoizedState!==null||Oi,!l){i=i!==null&&i.memoizedState!==null||Vt,f=Oi;var m=Vt;Oi=l,(Vt=i)&&!m?ua(n,s,(s.subtreeFlags&8772)!==0):la(n,s),Oi=f,Vt=m}break;case 30:break;default:la(n,s)}}function iv(n){var i=n.alternate;i!==null&&(n.alternate=null,iv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&ve(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Dt=null,Ln=!1;function Mi(n,i,s){for(s=s.child;s!==null;)av(n,i,s),s=s.sibling}function av(n,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(lt,s)}catch{}switch(s.tag){case 26:Vt||Wr(s,i),Mi(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||Wr(s,i);var l=Dt,f=Ln;pa(s.type)&&(Dt=s.stateNode,Ln=!1),Mi(n,i,s),Xl(s.stateNode),Dt=l,Ln=f;break;case 5:Vt||Wr(s,i);case 6:if(l=Dt,f=Ln,Dt=null,Mi(n,i,s),Dt=l,Ln=f,Dt!==null)if(Ln)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(s.stateNode)}catch(m){St(s,i,m)}else try{Dt.removeChild(s.stateNode)}catch(m){St(s,i,m)}break;case 18:Dt!==null&&(Ln?(n=Dt,Qv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),iu(n)):Qv(Dt,s.stateNode));break;case 4:l=Dt,f=Ln,Dt=s.stateNode.containerInfo,Ln=!0,Mi(n,i,s),Dt=l,Ln=f;break;case 0:case 11:case 14:case 15:Vt||oa(2,s,i),Vt||oa(4,s,i),Mi(n,i,s);break;case 1:Vt||(Wr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Z_(s,i,l)),Mi(n,i,s);break;case 21:Mi(n,i,s);break;case 22:Vt=(l=Vt)||s.memoizedState!==null,Mi(n,i,s),Vt=l;break;default:Mi(n,i,s)}}function sv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{iu(n)}catch(s){St(i,i.return,s)}}function TA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new nv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new nv),i;default:throw Error(a(435,n.tag))}}function am(n,i){var s=TA(n);i.forEach(function(l){var f=NA.bind(null,n,l);s.has(l)||(s.add(l),l.then(f,f))})}function Kn(n,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],m=n,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(pa(w.type)){Dt=w.stateNode,Ln=!1;break e}break;case 5:Dt=w.stateNode,Ln=!1;break e;case 3:case 4:Dt=w.stateNode.containerInfo,Ln=!0;break e}w=w.return}if(Dt===null)throw Error(a(160));av(m,E,f),Dt=null,Ln=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ov(i,n),i=i.sibling}var Nr=null;function ov(n,i){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Kn(i,n),$n(n),l&4&&(oa(3,n,n.return),Bl(3,n),oa(5,n,n.return));break;case 1:Kn(i,n),$n(n),l&512&&(Vt||s===null||Wr(s,s.return)),l&64&&Oi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Nr;if(Kn(i,n),$n(n),l&512&&(Vt||s===null||Wr(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Se]||m[ie]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),dn(m,l,s),m[ie]=n,ze(m),l=m;break e;case"link":var E=tE("link","href",f).get(l+(s.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(l),dn(m,l,s),f.head.appendChild(m);break;case"meta":if(E=tE("meta","content",f).get(l+(s.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(w,1);break t}}m=f.createElement(l),dn(m,l,s),f.head.appendChild(m);break;default:throw Error(a(468,l))}m[ie]=n,ze(m),l=m}n.stateNode=l}else nE(f,n.type,n.stateNode);else n.stateNode=eE(f,l,n.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?nE(f,n.type,n.stateNode):eE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&tm(n,n.memoizedProps,s.memoizedProps)}break;case 27:Kn(i,n),$n(n),l&512&&(Vt||s===null||Wr(s,s.return)),s!==null&&l&4&&tm(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Kn(i,n),$n(n),l&512&&(Vt||s===null||Wr(s,s.return)),n.flags&32){f=n.stateNode;try{ur(f,"")}catch($){St(n,n.return,$)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,tm(n,f,s!==null?s.memoizedProps:f)),l&1024&&(im=!0);break;case 6:if(Kn(i,n),$n(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch($){St(n,n.return,$)}}break;case 3:if(dh=null,f=Nr,Nr=hh(i.containerInfo),Kn(i,n),Nr=f,$n(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{iu(i.containerInfo)}catch($){St(n,n.return,$)}im&&(im=!1,lv(n));break;case 4:l=Nr,Nr=hh(n.stateNode.containerInfo),Kn(i,n),$n(n),Nr=l;break;case 12:Kn(i,n),$n(n);break;case 13:Kn(i,n),$n(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(hm=Rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,am(n,l)));break;case 22:f=n.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,F=Oi,Z=Vt;if(Oi=F||f,Vt=Z||D,Kn(i,n),Vt=Z,Oi=F,$n(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||D||Oi||Vt||Rs(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(m=D.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=D.stateNode;var re=D.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){St(D,D.return,$)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch($){St(D,D.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,am(n,s))));break;case 19:Kn(i,n),$n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,am(n,l)));break;case 30:break;case 21:break;default:Kn(i,n),$n(n)}}function $n(n){var i=n.flags;if(i&2){try{for(var s,l=n.return;l!==null;){if(ev(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=nm(n);Zc(n,m,f);break;case 5:var E=s.stateNode;s.flags&32&&(ur(E,""),s.flags&=-33);var w=nm(n);Zc(n,w,E);break;case 3:case 4:var D=s.stateNode.containerInfo,F=nm(n);rm(n,F,D);break;default:throw Error(a(161))}}catch(Z){St(n,n.return,Z)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function la(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rv(n,i.alternate,i),i=i.sibling}function Rs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:oa(4,i,i.return),Rs(i);break;case 1:Wr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Z_(i,i.return,s),Rs(i);break;case 27:Xl(i.stateNode);case 26:case 5:Wr(i,i.return),Rs(i);break;case 22:i.memoizedState===null&&Rs(i);break;case 30:Rs(i);break;default:Rs(i)}n=n.sibling}}function ua(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:ua(f,m,s),Bl(4,m);break;case 1:if(ua(f,m,s),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){St(l,l.return,F)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Ly(D[f],w)}catch(F){St(l,l.return,F)}}s&&E&64&&W_(m),jl(m,m.return);break;case 27:tv(m);case 26:case 5:ua(f,m,s),s&&l===null&&E&4&&J_(m),jl(m,m.return);break;case 12:ua(f,m,s);break;case 13:ua(f,m,s),s&&E&4&&sv(f,m);break;case 22:m.memoizedState===null&&ua(f,m,s),jl(m,m.return);break;case 30:break;default:ua(f,m,s)}i=i.sibling}}function sm(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Rl(s))}function om(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Rl(n))}function Zr(n,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uv(n,i,s,l),i=i.sibling}function uv(n,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Zr(n,i,s,l),f&2048&&Bl(9,i);break;case 1:Zr(n,i,s,l);break;case 3:Zr(n,i,s,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Rl(n)));break;case 12:if(f&2048){Zr(n,i,s,l),n=i.stateNode;try{var m=i.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){St(i,i.return,D)}}else Zr(n,i,s,l);break;case 13:Zr(n,i,s,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Zr(n,i,s,l):Hl(n,i):m._visibility&2?Zr(n,i,s,l):(m._visibility|=2,_o(n,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&sm(E,i);break;case 24:Zr(n,i,s,l),f&2048&&om(i.alternate,i);break;default:Zr(n,i,s,l)}}function _o(n,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,E=i,w=s,D=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:_o(m,E,w,D,f),Bl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?_o(m,E,w,D,f):Hl(m,E):(Z._visibility|=2,_o(m,E,w,D,f)),f&&F&2048&&sm(E.alternate,E);break;case 24:_o(m,E,w,D,f),f&&F&2048&&om(E.alternate,E);break;default:_o(m,E,w,D,f)}i=i.sibling}}function Hl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,l=i,f=l.flags;switch(l.tag){case 22:Hl(s,l),f&2048&&sm(l.alternate,l);break;case 24:Hl(s,l),f&2048&&om(l.alternate,l);break;default:Hl(s,l)}i=i.sibling}}var ql=8192;function vo(n){if(n.subtreeFlags&ql)for(n=n.child;n!==null;)cv(n),n=n.sibling}function cv(n){switch(n.tag){case 26:vo(n),n.flags&ql&&n.memoizedState!==null&&s1(Nr,n.memoizedState,n.memoizedProps);break;case 5:vo(n);break;case 3:case 4:var i=Nr;Nr=hh(n.stateNode.containerInfo),vo(n),Nr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=ql,ql=16777216,vo(n),ql=i):vo(n));break;default:vo(n)}}function hv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Fl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];rn=l,dv(l,n)}hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fv(n),n=n.sibling}function fv(n){switch(n.tag){case 0:case 11:case 15:Fl(n),n.flags&2048&&oa(9,n,n.return);break;case 3:Fl(n);break;case 12:Fl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Jc(n)):Fl(n);break;default:Fl(n)}}function Jc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];rn=l,dv(l,n)}hv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:oa(8,i,i.return),Jc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Jc(i));break;default:Jc(i)}n=n.sibling}}function dv(n,i){for(;rn!==null;){var s=rn;switch(s.tag){case 0:case 11:case 15:oa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,rn=l;else e:for(s=n;rn!==null;){l=rn;var f=l.sibling,m=l.return;if(iv(l),l===s){rn=null;break e}if(f!==null){f.return=m,rn=f;break e}rn=m}}}var wA={getCacheForType:function(n){var i=En($t),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},SA=typeof WeakMap=="function"?WeakMap:Map,mt=0,At=null,Ke=null,it=0,pt=0,Xn=null,ca=!1,Eo=!1,lm=!1,Pi=0,Pt=0,ha=0,Is=0,um=0,_r=0,To=0,Gl=null,Un=null,cm=!1,hm=0,eh=1/0,th=null,fa=null,fn=0,da=null,wo=null,So=0,fm=0,dm=null,mv=null,Yl=0,mm=null;function Wn(){if((mt&2)!==0&&it!==0)return it&-it;if(Q.T!==null){var n=uo;return n!==0?n:Tm()}return N()}function pv(){_r===0&&(_r=(it&536870912)===0||ht?mi():536870912);var n=yr.current;return n!==null&&(n.flags|=32),_r}function Zn(n,i,s){(n===At&&(pt===2||pt===9)||n.cancelPendingCommit!==null)&&(bo(n,0),ma(n,it,_r,!1)),Ar(n,s),((mt&2)===0||n!==At)&&(n===At&&((mt&2)===0&&(Is|=s),Pt===4&&ma(n,it,_r,!1)),Jr(n))}function gv(n,i,s){if((mt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&n.expiredLanes)===0||sr(n,i),f=l?RA(n,i):ym(n,i,!0),m=l;do{if(f===0){Eo&&!l&&ma(n,i,0,!1);break}else{if(s=n.current.alternate,m&&!bA(s)){f=ym(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=n;f=Gl;var D=w.current.memoizedState.isDehydrated;if(D&&(bo(w,E).flags|=256),E=ym(w,E,!1),E!==2){if(lm&&!D){w.errorRecoveryDisabledLanes|=m,Is|=m,f=4;break e}m=Un,Un=f,m!==null&&(Un===null?Un=m:Un.push.apply(Un,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){bo(n,0),ma(n,i,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ma(l,i,_r,!ca);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=hm+300-Rn(),10<f)){if(ma(l,i,_r,!ca),di(l,0,!0)!==0)break e;l.timeoutHandle=Gv(yv.bind(null,l,s,Un,th,cm,i,_r,Is,To,ca,m,2,-0,0),f);break e}yv(l,s,Un,th,cm,i,_r,Is,To,ca,m,0,-0,0)}}break}while(!0);Jr(n)}function yv(n,i,s,l,f,m,E,w,D,F,Z,re,K,$){if(n.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:a1},cv(i),re=o1(),re!==null)){n.cancelPendingCommit=re(bv.bind(null,n,i,m,s,l,f,E,w,D,Z,1,K,$)),ma(n,m,E,!F);return}bv(n,i,m,s,l,f,E,w,D)}function bA(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],m=f.getSnapshot;f=f.value;try{if(!Yn(m(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ma(n,i,s,l){i&=~um,i&=~Is,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var m=31-zt(f),E=1<<m;l[m]=-1,f&=~E}s!==0&&In(n,s,i)}function nh(){return(mt&6)===0?(Ql(0),!1):!0}function pm(){if(Ke!==null){if(pt===0)var n=Ke.return;else n=Ke,Ai=Ts=null,Md(n),go=null,Ll=0,n=Ke;for(;n!==null;)X_(n.alternate,n),n=n.return;Ke=null}}function bo(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,HA(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),pm(),At=n,Ke=s=wi(n.current,null),it=i,pt=0,Xn=null,ca=!1,Eo=sr(n,i),lm=!1,To=_r=um=Is=ha=Pt=0,Un=Gl=null,cm=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-zt(l),m=1<<f;i|=n[f],l&=~m}return Pi=i,bc(),s}function _v(n,i){Ye=null,Q.H=qc,i===Cl||i===Pc?(i=Vy(),pt=3):i===My?(i=Vy(),pt=4):pt=i===k_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xn=i,Ke===null&&(Pt=1,Kc(n,dr(i,n.current)))}function vv(){var n=Q.H;return Q.H=qc,n===null?qc:n}function Ev(){var n=Q.A;return Q.A=wA,n}function gm(){Pt=4,ca||(it&4194048)!==it&&yr.current!==null||(Eo=!0),(ha&134217727)===0&&(Is&134217727)===0||At===null||ma(At,it,_r,!1)}function ym(n,i,s){var l=mt;mt|=2;var f=vv(),m=Ev();(At!==n||it!==i)&&(th=null,bo(n,i)),i=!1;var E=Pt;e:do try{if(pt!==0&&Ke!==null){var w=Ke,D=Xn;switch(pt){case 8:pm(),E=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(i=!0);var F=pt;if(pt=0,Xn=null,Ao(n,w,D,F),s&&Eo){E=0;break e}break;default:F=pt,pt=0,Xn=null,Ao(n,w,D,F)}}AA(),E=Pt;break}catch(Z){_v(n,Z)}while(!0);return i&&n.shellSuspendCounter++,Ai=Ts=null,mt=l,Q.H=f,Q.A=m,Ke===null&&(At=null,it=0,bc()),E}function AA(){for(;Ke!==null;)Tv(Ke)}function RA(n,i){var s=mt;mt|=2;var l=vv(),f=Ev();At!==n||it!==i?(th=null,eh=Rn()+500,bo(n,i)):Eo=sr(n,i);e:do try{if(pt!==0&&Ke!==null){i=Ke;var m=Xn;t:switch(pt){case 1:pt=0,Xn=null,Ao(n,i,m,1);break;case 2:case 9:if(Py(m)){pt=0,Xn=null,wv(i);break}i=function(){pt!==2&&pt!==9||At!==n||(pt=7),Jr(n)},m.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Py(m)?(pt=0,Xn=null,wv(i)):(pt=0,Xn=null,Ao(n,i,m,7));break;case 5:var E=null;switch(Ke.tag){case 26:E=Ke.memoizedState;case 5:case 27:var w=Ke;if(!E||rE(E)){pt=0,Xn=null;var D=w.sibling;if(D!==null)Ke=D;else{var F=w.return;F!==null?(Ke=F,rh(F)):Ke=null}break t}}pt=0,Xn=null,Ao(n,i,m,5);break;case 6:pt=0,Xn=null,Ao(n,i,m,6);break;case 8:pm(),Pt=6;break e;default:throw Error(a(462))}}IA();break}catch(Z){_v(n,Z)}while(!0);return Ai=Ts=null,Q.H=l,Q.A=f,mt=s,Ke!==null?0:(At=null,it=0,bc(),Pt)}function IA(){for(;Ke!==null&&!es();)Tv(Ke)}function Tv(n){var i=K_(n.alternate,n,Pi);n.memoizedProps=n.pendingProps,i===null?rh(n):Ke=i}function wv(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=H_(s,i,i.pendingProps,i.type,void 0,it);break;case 11:i=H_(s,i,i.pendingProps,i.type.render,i.ref,it);break;case 5:Md(i);default:X_(s,i),i=Ke=Sy(i,Pi),i=K_(s,i,Pi)}n.memoizedProps=n.pendingProps,i===null?rh(n):Ke=i}function Ao(n,i,s,l){Ai=Ts=null,Md(i),go=null,Ll=0;var f=i.return;try{if(gA(n,f,i,s,it)){Pt=1,Kc(n,dr(s,n.current)),Ke=null;return}}catch(m){if(f!==null)throw Ke=f,m;Pt=1,Kc(n,dr(s,n.current)),Ke=null;return}i.flags&32768?(ht||l===1?n=!0:Eo||(it&536870912)!==0?n=!1:(ca=n=!0,(l===2||l===9||l===3||l===6)&&(l=yr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(i,n)):rh(i)}function rh(n){var i=n;do{if((i.flags&32768)!==0){Sv(i,ca);return}n=i.return;var s=_A(i.alternate,i,Pi);if(s!==null){Ke=s;return}if(i=i.sibling,i!==null){Ke=i;return}Ke=i=n}while(i!==null);Pt===0&&(Pt=5)}function Sv(n,i){do{var s=vA(n.alternate,n);if(s!==null){s.flags&=32767,Ke=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Ke=n;return}Ke=n=s}while(n!==null);Pt=6,Ke=null}function bv(n,i,s,l,f,m,E,w,D){n.cancelPendingCommit=null;do ih();while(fn!==0);if((mt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=od,Qi(n,s,m,E,w,D),n===At&&(Ke=At=null,it=0),wo=i,da=n,So=s,fm=m,dm=f,mv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,OA(fi,function(){return Dv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ce.p,ce.p=2,E=mt,mt|=4;try{EA(n,i,s)}finally{mt=E,ce.p=f,Q.T=l}}fn=1,Av(),Rv(),Iv()}}function Av(){if(fn===1){fn=0;var n=da,i=wo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=ce.p;ce.p=2;var f=mt;mt|=4;try{ov(i,n);var m=Dm,E=dy(n.containerInfo),w=m.focusedElem,D=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&fy(w.ownerDocument.documentElement,w)){if(D!==null&&nd(w)){var F=D.start,Z=D.end;if(Z===void 0&&(Z=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(Z,w.value.length);else{var re=w.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var $=K.getSelection(),Le=w.textContent.length,Me=Math.min(D.start,Le),Tt=D.end===void 0?Me:Math.min(D.end,Le);!$.extend&&Me>Tt&&(E=Tt,Tt=Me,Me=E);var U=hy(w,Me),x=hy(w,Tt);if(U&&x&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==x.node||$.focusOffset!==x.offset)){var H=re.createRange();H.setStart(U.node,U.offset),$.removeAllRanges(),Me>Tt?($.addRange(H),$.extend(x.node,x.offset)):(H.setEnd(x.node,x.offset),$.addRange(H))}}}}for(re=[],$=w;$=$.parentNode;)$.nodeType===1&&re.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var te=re[w];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}gh=!!Cm,Dm=Cm=null}finally{mt=f,ce.p=l,Q.T=s}}n.current=i,fn=2}}function Rv(){if(fn===2){fn=0;var n=da,i=wo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=ce.p;ce.p=2;var f=mt;mt|=4;try{rv(n,i.alternate,i)}finally{mt=f,ce.p=l,Q.T=s}}fn=3}}function Iv(){if(fn===4||fn===3){fn=0,Fs();var n=da,i=wo,s=So,l=mv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?fn=5:(fn=0,wo=da=null,Cv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(fa=null),Ki(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=ce.p,ce.p=2,Q.T=null;try{for(var m=n.onRecoverableError,E=0;E<l.length;E++){var w=l[E];m(w.value,{componentStack:w.stack})}}finally{Q.T=i,ce.p=f}}(So&3)!==0&&ih(),Jr(n),f=n.pendingLanes,(s&4194090)!==0&&(f&42)!==0?n===mm?Yl++:(Yl=0,mm=n):Yl=0,Ql(0)}}function Cv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Rl(i)))}function ih(n){return Av(),Rv(),Iv(),Dv()}function Dv(){if(fn!==5)return!1;var n=da,i=fm;fm=0;var s=Ki(So),l=Q.T,f=ce.p;try{ce.p=32>s?32:s,Q.T=null,s=dm,dm=null;var m=da,E=So;if(fn=0,wo=da=null,So=0,(mt&6)!==0)throw Error(a(331));var w=mt;if(mt|=4,fv(m.current),uv(m,m.current,E,s),mt=w,Ql(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(lt,m)}catch{}return!0}finally{ce.p=f,Q.T=l,Cv(n,i)}}function Nv(n,i,s){i=dr(s,i),i=Yd(n.stateNode,i,2),n=ra(n,i,2),n!==null&&(Ar(n,2),Jr(n))}function St(n,i,s){if(n.tag===3)Nv(n,n,s);else for(;i!==null;){if(i.tag===3){Nv(i,n,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))){n=dr(s,n),s=x_(2),l=ra(i,s,2),l!==null&&(V_(s,l,i,n),Ar(l,2),Jr(l));break}}i=i.return}}function _m(n,i,s){var l=n.pingCache;if(l===null){l=n.pingCache=new SA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(lm=!0,f.add(s),n=CA.bind(null,n,i,s),i.then(n,n))}function CA(n,i,s){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,At===n&&(it&s)===s&&(Pt===4||Pt===3&&(it&62914560)===it&&300>Rn()-hm?(mt&2)===0&&bo(n,0):um|=s,To===it&&(To=0)),Jr(n)}function Ov(n,i){i===0&&(i=ns()),n=ao(n,i),n!==null&&(Ar(n,i),Jr(n))}function DA(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Ov(n,s)}function NA(n,i){var s=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Ov(n,s)}function OA(n,i){return hi(n,i)}var ah=null,Ro=null,vm=!1,sh=!1,Em=!1,Cs=0;function Jr(n){n!==Ro&&n.next===null&&(Ro===null?ah=Ro=n:Ro=Ro.next=n),sh=!0,vm||(vm=!0,PA())}function Ql(n,i){if(!Em&&sh){Em=!0;do for(var s=!1,l=ah;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-zt(42|n)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,Vv(l,m))}else m=it,m=di(l,l===At?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||sr(l,m)||(s=!0,Vv(l,m));l=l.next}while(s);Em=!1}}function MA(){Mv()}function Mv(){sh=vm=!1;var n=0;Cs!==0&&(jA()&&(n=Cs),Cs=0);for(var i=Rn(),s=null,l=ah;l!==null;){var f=l.next,m=Pv(l,i);m===0?(l.next=null,s===null?ah=f:s.next=f,f===null&&(Ro=s)):(s=l,(n!==0||(m&3)!==0)&&(sh=!0)),l=f}Ql(n)}function Pv(n,i){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-zt(m),w=1<<E,D=f[E];D===-1?((w&s)===0||(w&l)!==0)&&(f[E]=Yi(w,i)):D<=i&&(n.expiredLanes|=w),m&=~w}if(i=At,s=it,s=di(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===i&&(pt===2||pt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&An(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||sr(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(l!==null&&An(l),Ki(s)){case 2:case 8:s=qi;break;case 32:s=fi;break;case 268435456:s=ir;break;default:s=fi}return l=xv.bind(null,n),s=hi(s,l),n.callbackPriority=i,n.callbackNode=s,i}return l!==null&&l!==null&&An(l),n.callbackPriority=2,n.callbackNode=null,2}function xv(n,i){if(fn!==0&&fn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(ih()&&n.callbackNode!==s)return null;var l=it;return l=di(n,n===At?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(gv(n,l,i),Pv(n,Rn()),n.callbackNode!=null&&n.callbackNode===s?xv.bind(null,n):null)}function Vv(n,i){if(ih())return null;gv(n,i,!0)}function PA(){qA(function(){(mt&6)!==0?hi(ts,MA):Mv()})}function Tm(){return Cs===0&&(Cs=mi()),Cs}function kv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qs(""+n)}function Lv(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function xA(n,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var m=kv((f[ue]||null).action),E=l.submitter;E&&(i=(i=E[ue]||null)?kv(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var w=new Ks("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var D=E?Lv(f,E):new FormData(f);jd(s,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(w.preventDefault(),D=E?Lv(f,E):new FormData(f),jd(s,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var wm=0;wm<sd.length;wm++){var Sm=sd[wm],VA=Sm.toLowerCase(),kA=Sm[0].toUpperCase()+Sm.slice(1);Dr(VA,"on"+kA)}Dr(gy,"onAnimationEnd"),Dr(yy,"onAnimationIteration"),Dr(_y,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Jb,"onTransitionRun"),Dr(eA,"onTransitionStart"),Dr(tA,"onTransitionCancel"),Dr(vy,"onTransitionEnd"),Jt("onMouseEnter",["mouseout","mouseover"]),Jt("onMouseLeave",["mouseout","mouseover"]),Jt("onPointerEnter",["pointerout","pointerover"]),Jt("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function Uv(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],D=w.instance,F=w.currentTarget;if(w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(Z){Qc(Z)}f.currentTarget=null,m=D}else for(E=0;E<l.length;E++){if(w=l[E],D=w.instance,F=w.currentTarget,w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(Z){Qc(Z)}f.currentTarget=null,m=D}}}}function $e(n,i){var s=i[Ae];s===void 0&&(s=i[Ae]=new Set);var l=n+"__bubble";s.has(l)||(zv(i,n,2,!1),s.add(l))}function bm(n,i,s){var l=0;i&&(l|=4),zv(s,n,l,i)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Am(n){if(!n[oh]){n[oh]=!0,ct.forEach(function(s){s!=="selectionchange"&&(LA.has(s)||bm(s,!1,n),bm(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[oh]||(i[oh]=!0,bm("selectionchange",!1,i))}}function zv(n,i,s,l){switch(uE(i)){case 2:var f=c1;break;case 8:f=h1;break;default:f=zm}s=f.bind(null,i,s,n),f=void 0,!hr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,s,{capture:!0,passive:f}):n.addEventListener(i,s,!0):f!==void 0?n.addEventListener(i,s,{passive:f}):n.addEventListener(i,s,!1)}function Rm(n,i,s,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=He(w),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=m=E;continue e}w=w.parentNode}}l=l.return}uc(function(){var F=m,Z=cr(s),re=[];e:{var K=Ey.get(n);if(K!==void 0){var $=Ks,Le=n;switch(n){case"keypress":if(Fr(s)===0)break e;case"keydown":case"keyup":$=eo;break;case"focusin":Le="focus",$=Ws;break;case"focusout":Le="blur",$=Ws;break;case"beforeblur":case"afterblur":$=Ws;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=yc;break;case gy:case yy:case _y:$=Zs;break;case vy:$=vc;break;case"scroll":case"scrollend":$=cc;break;case"wheel":$=to;break;case"copy":case"cut":case"paste":$=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=_l;break;case"toggle":case"beforetoggle":$=Tc}var Me=(i&4)!==0,Tt=!Me&&(n==="scroll"||n==="scrollend"),U=Me?K!==null?K+"Capture":null:K;Me=[];for(var x=F,H;x!==null;){var te=x;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||U===null||(te=os(x,U),te!=null&&Me.push($l(x,te,H))),Tt)break;x=x.return}0<Me.length&&(K=new $(K,Le,null,s,Z),re.push({event:K,listeners:Me}))}}if((i&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",K&&s!==gi&&(Le=s.relatedTarget||s.fromElement)&&(He(Le)||Le[ye]))break e;if(($||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,$?(Le=s.relatedTarget||s.toElement,$=F,Le=Le?He(Le):null,Le!==null&&(Tt=u(Le),Me=Le.tag,Le!==Tt||Me!==5&&Me!==27&&Me!==6)&&(Le=null)):($=null,Le=F),$!==Le)){if(Me=fr,te="onMouseLeave",U="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(Me=_l,te="onPointerLeave",U="onPointerEnter",x="pointer"),Tt=$==null?K:dt($),H=Le==null?K:dt(Le),K=new Me(te,x+"leave",$,s,Z),K.target=Tt,K.relatedTarget=H,te=null,He(Z)===F&&(Me=new Me(U,x+"enter",Le,s,Z),Me.target=H,Me.relatedTarget=Tt,te=Me),Tt=te,$&&Le)t:{for(Me=$,U=Le,x=0,H=Me;H;H=Io(H))x++;for(H=0,te=U;te;te=Io(te))H++;for(;0<x-H;)Me=Io(Me),x--;for(;0<H-x;)U=Io(U),H--;for(;x--;){if(Me===U||U!==null&&Me===U.alternate)break t;Me=Io(Me),U=Io(U)}Me=null}else Me=null;$!==null&&Bv(re,K,$,Me,!1),Le!==null&&Tt!==null&&Bv(re,Tt,Le,Me,!0)}}e:{if(K=F?dt(F):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Ee=ay;else if(Kt(K))if(sy)Ee=Xb;else{Ee=Kb;var Qe=Qb}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&hl(F.elementType)&&(Ee=ay):Ee=$b;if(Ee&&(Ee=Ee(n,F))){Ti(re,Ee,s,Z);break e}Qe&&Qe(n,K,F),n==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&Zi(K,"number",K.value)}switch(Qe=F?dt(F):window,n){case"focusin":(Kt(Qe)||Qe.contentEditable==="true")&&(no=Qe,rd=F,Tl=null);break;case"focusout":Tl=rd=no=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,my(re,s,Z);break;case"selectionchange":if(Zb)break;case"keydown":case"keyup":my(re,s,Z)}var Ie;if(Qr)e:{switch(n){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else nt?W(n,s)&&(xe="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(xe="onCompositionStart");xe&&(v&&s.locale!=="ko"&&(nt||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&nt&&(Ie=dl()):(qr=Z,Ji="value"in qr?qr.value:qr.textContent,nt=!0)),Qe=lh(F,xe),0<Qe.length&&(xe=new gl(xe,n,null,s,Z),re.push({event:xe,listeners:Qe}),Ie?xe.data=Ie:(Ie=de(s),Ie!==null&&(xe.data=Ie)))),(Ie=y?Qt(n,s):rt(n,s))&&(xe=lh(F,"onBeforeInput"),0<xe.length&&(Qe=new gl("onBeforeInput","beforeinput",null,s,Z),re.push({event:Qe,listeners:xe}),Qe.data=Ie)),xA(re,n,F,s,Z)}Uv(re,i)})}function $l(n,i,s){return{instance:n,listener:i,currentTarget:s}}function lh(n,i){for(var s=i+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=os(n,s),f!=null&&l.unshift($l(n,f,m)),f=os(n,i),f!=null&&l.push($l(n,f,m))),n.tag===3)return l;n=n.return}return[]}function Io(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Bv(n,i,s,l,f){for(var m=i._reactName,E=[];s!==null&&s!==l;){var w=s,D=w.alternate,F=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||F===null||(D=F,f?(F=os(s,m),F!=null&&E.unshift($l(s,F,D))):f||(F=os(s,m),F!=null&&E.push($l(s,F,D)))),s=s.return}E.length!==0&&n.push({event:i,listeners:E})}var UA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function jv(n){return(typeof n=="string"?n:""+n).replace(UA,`
`).replace(zA,"")}function Hv(n,i){return i=jv(i),jv(n)===i}function uh(){}function Et(n,i,s,l,f,m){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ur(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ur(n,""+l);break;case"className":Dn(n,"class",l);break;case"tabIndex":Dn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(n,s,l);break;case"style":cl(n,l,m);break;case"data":if(i!=="object"){Dn(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Qs(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&Et(n,i,"name",f.name,f,null),Et(n,i,"formEncType",f.formEncType,f,null),Et(n,i,"formMethod",f.formMethod,f,null),Et(n,i,"formTarget",f.formTarget,f,null)):(Et(n,i,"encType",f.encType,f,null),Et(n,i,"method",f.method,f,null),Et(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Qs(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=uh);break;case"onScroll":l!=null&&$e("scroll",n);break;case"onScrollEnd":l!=null&&$e("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=Qs(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":$e("beforetoggle",n),$e("toggle",n),Fn(n,"popover",l);break;case"xlinkActuate":Pe(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fn(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xf.get(s)||s,Fn(n,s,l))}}function Im(n,i,s,l,f,m){switch(s){case"style":cl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?ur(n,l):(typeof l=="number"||typeof l=="bigint")&&ur(n,""+l);break;case"onScroll":l!=null&&$e("scroll",n);break;case"onScrollEnd":l!=null&&$e("scrollend",n);break;case"onClick":l!=null&&(n.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),m=n[ue]||null,m=m!=null?m[s]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,l,f);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):Fn(n,s,l)}}}function dn(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",n),$e("load",n);var l=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var E=s[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Et(n,i,m,E,s,null)}}f&&Et(n,i,"srcSet",s.srcSet,s,null),l&&Et(n,i,"src",s.src,s,null);return;case"input":$e("invalid",n);var w=m=E=f=null,D=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":E=Z;break;case"checked":D=Z;break;case"defaultChecked":F=Z;break;case"value":m=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Et(n,i,l,Z,s,null)}}is(n,m,w,D,F,E,f,!1),Ys(n);return;case"select":$e("invalid",n),l=E=m=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:Et(n,i,f,w,s,null)}i=m,s=E,n.multiple=!!l,i!=null?pi(n,!!l,i,!1):s!=null&&pi(n,!!l,s,!0);return;case"textarea":$e("invalid",n),m=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(w=s[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Et(n,i,E,w,s,null)}as(n,l,f,m),Ys(n);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Et(n,i,D,l,s,null)}return;case"dialog":$e("beforetoggle",n),$e("toggle",n),$e("cancel",n),$e("close",n);break;case"iframe":case"object":$e("load",n);break;case"video":case"audio":for(l=0;l<Kl.length;l++)$e(Kl[l],n);break;case"image":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"embed":case"source":case"link":$e("error",n),$e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Et(n,i,F,l,s,null)}return;default:if(hl(i)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&Im(n,i,Z,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&Et(n,i,w,l,s,null))}function BA(n,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,D=null,F=null,Z=null;for($ in s){var re=s[$];if(s.hasOwnProperty($)&&re!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=re;default:l.hasOwnProperty($)||Et(n,i,$,null,l,re)}}for(var K in l){var $=l[K];if(re=s[K],l.hasOwnProperty(K)&&($!=null||re!=null))switch(K){case"type":m=$;break;case"name":f=$;break;case"checked":F=$;break;case"defaultChecked":Z=$;break;case"value":E=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:$!==re&&Et(n,i,K,$,l,re)}}Gn(n,E,w,D,F,Z,m,f);return;case"select":$=E=w=K=null;for(m in s)if(D=s[m],s.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":$=D;default:l.hasOwnProperty(m)||Et(n,i,m,null,l,D)}for(f in l)if(m=l[f],D=s[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":K=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==D&&Et(n,i,f,m,l,D)}i=w,s=E,l=$,K!=null?pi(n,!!s,K,!1):!!l!=!!s&&(i!=null?pi(n,!!s,i,!0):pi(n,!!s,s?[]:"",!1));return;case"textarea":$=K=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Et(n,i,w,null,l,f)}for(E in l)if(f=l[E],m=s[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Et(n,i,E,f,l,m)}_t(n,K,$);return;case"option":for(var Le in s)if(K=s[Le],s.hasOwnProperty(Le)&&K!=null&&!l.hasOwnProperty(Le))switch(Le){case"selected":n.selected=!1;break;default:Et(n,i,Le,null,l,K)}for(D in l)if(K=l[D],$=s[D],l.hasOwnProperty(D)&&K!==$&&(K!=null||$!=null))switch(D){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Et(n,i,D,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in s)K=s[Me],s.hasOwnProperty(Me)&&K!=null&&!l.hasOwnProperty(Me)&&Et(n,i,Me,null,l,K);for(F in l)if(K=l[F],$=s[F],l.hasOwnProperty(F)&&K!==$&&(K!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:Et(n,i,F,K,l,$)}return;default:if(hl(i)){for(var Tt in s)K=s[Tt],s.hasOwnProperty(Tt)&&K!==void 0&&!l.hasOwnProperty(Tt)&&Im(n,i,Tt,void 0,l,K);for(Z in l)K=l[Z],$=s[Z],!l.hasOwnProperty(Z)||K===$||K===void 0&&$===void 0||Im(n,i,Z,K,l,$);return}}for(var U in s)K=s[U],s.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&Et(n,i,U,null,l,K);for(re in l)K=l[re],$=s[re],!l.hasOwnProperty(re)||K===$||K==null&&$==null||Et(n,i,re,K,l,$)}var Cm=null,Dm=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function qv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Nm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Om=null;function jA(){var n=window.event;return n&&n.type==="popstate"?n===Om?!1:(Om=n,!0):(Om=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,qA=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(n){return Yv.resolve(null).then(n).catch(FA)}:Gv;function FA(n){setTimeout(function(){throw n})}function pa(n){return n==="head"}function Qv(n,i){var s=i,l=0,f=0;do{var m=s.nextSibling;if(n.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<l&&8>l){s=l;var E=n.ownerDocument;if(s&1&&Xl(E.documentElement),s&2&&Xl(E.body),s&4)for(s=E.head,Xl(s),E=s.firstChild;E;){var w=E.nextSibling,D=E.nodeName;E[Se]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=w}}if(f===0){n.removeChild(m),iu(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=m}while(s);iu(i)}function Mm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Mm(s),ve(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function GA(n,i,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Se])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Or(n.nextSibling),n===null)break}return null}function YA(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Or(n.nextSibling),n===null))return null;return n}function Pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function QA(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Or(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var xm=null;function Kv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function $v(n,i,s){switch(i=ch(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Xl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);ve(n)}var vr=new Map,Xv=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var xi=ce.d;ce.d={f:KA,r:$A,D:XA,C:WA,L:ZA,m:JA,X:t1,S:e1,M:n1};function KA(){var n=xi.f(),i=nh();return n||i}function $A(n){var i=tt(n);i!==null&&i.tag===5&&i.type==="form"?g_(i):xi.r(n)}var Co=typeof document>"u"?null:document;function Wv(n,i,s){var l=Co;if(l&&typeof i=="string"&&i){var f=Bt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Xv.has(f)||(Xv.add(f),n={rel:n,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),dn(i,"link",n),ze(i),l.head.appendChild(i)))}}function XA(n){xi.D(n),Wv("dns-prefetch",n,null)}function WA(n,i){xi.C(n,i),Wv("preconnect",n,i)}function ZA(n,i,s){xi.L(n,i,s);var l=Co;if(l&&n&&i){var f='link[rel="preload"][as="'+Bt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Bt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Bt(s.imageSizes)+'"]')):f+='[href="'+Bt(n)+'"]';var m=f;switch(i){case"style":m=Do(n);break;case"script":m=No(n)}vr.has(m)||(n=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),vr.set(m,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Wl(m))||i==="script"&&l.querySelector(Zl(m))||(i=l.createElement("link"),dn(i,"link",n),ze(i),l.head.appendChild(i)))}}function JA(n,i){xi.m(n,i);var s=Co;if(s&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Bt(l)+'"][href="'+Bt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=No(n)}if(!vr.has(m)&&(n=_({rel:"modulepreload",href:n},i),vr.set(m,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zl(m)))return}l=s.createElement("link"),dn(l,"link",n),ze(l),s.head.appendChild(l)}}}function e1(n,i,s){xi.S(n,i,s);var l=Co;if(l&&n){var f=ut(l).hoistableStyles,m=Do(n);i=i||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Wl(m)))w.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},s),(s=vr.get(m))&&Vm(n,s);var D=E=l.createElement("link");ze(D),dn(D,"link",n),D._p=new Promise(function(F,Z){D.onload=F,D.onerror=Z}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,fh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function t1(n,i){xi.X(n,i);var s=Co;if(s&&n){var l=ut(s).hoistableScripts,f=No(n),m=l.get(f);m||(m=s.querySelector(Zl(f)),m||(n=_({src:n,async:!0},i),(i=vr.get(f))&&km(n,i),m=s.createElement("script"),ze(m),dn(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function n1(n,i){xi.M(n,i);var s=Co;if(s&&n){var l=ut(s).hoistableScripts,f=No(n),m=l.get(f);m||(m=s.querySelector(Zl(f)),m||(n=_({src:n,async:!0,type:"module"},i),(i=vr.get(f))&&km(n,i),m=s.createElement("script"),ze(m),dn(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Zv(n,i,s,l){var f=(f=Oe.current)?hh(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Do(s.href),s=ut(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Do(s.href);var m=ut(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Wl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),vr.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},vr.set(n,s),m||r1(f,n,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=No(s),s=ut(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Do(n){return'href="'+Bt(n)+'"'}function Wl(n){return'link[rel="stylesheet"]['+n+"]"}function Jv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function r1(n,i,s,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),dn(i,"link",s),ze(i),n.head.appendChild(i))}function No(n){return'[src="'+Bt(n)+'"]'}function Zl(n){return"script[async]"+n}function eE(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Bt(s.href)+'"]');if(l)return i.instance=l,ze(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ze(l),dn(l,"style",f),fh(l,s.precedence,n),i.instance=l;case"stylesheet":f=Do(s.href);var m=n.querySelector(Wl(f));if(m)return i.state.loading|=4,i.instance=m,ze(m),m;l=Jv(s),(f=vr.get(f))&&Vm(l,f),m=(n.ownerDocument||n).createElement("link"),ze(m);var E=m;return E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),dn(m,"link",l),i.state.loading|=4,fh(m,s.precedence,n),i.instance=m;case"script":return m=No(s.src),(f=n.querySelector(Zl(m)))?(i.instance=f,ze(f),f):(l=s,(f=vr.get(m))&&(l=_({},s),km(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ze(f),dn(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fh(l,s.precedence,n));return i.instance}function fh(n,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Vm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function km(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var dh=null;function tE(n,i,s){if(dh===null){var l=new Map,f=dh=new Map;f.set(s,l)}else f=dh,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var m=s[f];if(!(m[Se]||m[ie]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=n+E;var w=l.get(E);w?w.push(m):l.set(E,[m])}}return l}function nE(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function i1(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function rE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Jl=null;function a1(){}function s1(n,i,s){if(Jl===null)throw Error(a(475));var l=Jl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Do(s.href),m=n.querySelector(Wl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=mh.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,ze(m);return}m=n.ownerDocument||n,s=Jv(s),(f=vr.get(f))&&Vm(s,f),m=m.createElement("link"),ze(m);var E=m;E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),dn(m,"link",s),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=mh.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function o1(){if(Jl===null)throw Error(a(475));var n=Jl;return n.stylesheets&&n.count===0&&Lm(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Lm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ph=null;function Lm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ph=new Map,i.forEach(l1,n),ph=null,mh.call(n))}function l1(n,i){if(!(i.state.loading&4)){var s=ph.get(n);if(s)var l=s.get(null);else{s=new Map,ph.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),m=s.get(E)||l,m===l&&s.set(null,f),s.set(E,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var eu={$$typeof:oe,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function u1(n,i,s,l,f,m,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=or(0),this.hiddenUpdates=or(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function iE(n,i,s,l,f,m,E,w,D,F,Z,re){return n=new u1(n,i,s,E,w,D,F,re),i=1,m===!0&&(i|=24),m=Qn(3,null,null,i),n.current=m,m.stateNode=n,i=_d(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:i},wd(m),n}function aE(n){return n?(n=so,n):so}function sE(n,i,s,l,f,m){f=aE(f),l.context===null?l.context=f:l.pendingContext=f,l=na(i),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=ra(n,l,i),s!==null&&(Zn(s,n,i),Nl(s,n,i))}function oE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Um(n,i){oE(n,i),(n=n.alternate)&&oE(n,i)}function lE(n){if(n.tag===13){var i=ao(n,67108864);i!==null&&Zn(i,n,67108864),Um(n,67108864)}}var gh=!0;function c1(n,i,s,l){var f=Q.T;Q.T=null;var m=ce.p;try{ce.p=2,zm(n,i,s,l)}finally{ce.p=m,Q.T=f}}function h1(n,i,s,l){var f=Q.T;Q.T=null;var m=ce.p;try{ce.p=8,zm(n,i,s,l)}finally{ce.p=m,Q.T=f}}function zm(n,i,s,l){if(gh){var f=Bm(l);if(f===null)Rm(n,i,l,yh,s),cE(n,l);else if(d1(f,n,i,s,l))l.stopPropagation();else if(cE(n,l),i&4&&-1<f1.indexOf(n)){for(;f!==null;){var m=tt(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Hn(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var D=1<<31-zt(E);w.entanglements[1]|=D,E&=~D}Jr(m),(mt&6)===0&&(eh=Rn()+500,Ql(0))}}break;case 13:w=ao(m,2),w!==null&&Zn(w,m,2),nh(),Um(m,2)}if(m=Bm(l),m===null&&Rm(n,i,l,yh,s),m===f)break;f=m}f!==null&&l.stopPropagation()}else Rm(n,i,l,null,s)}}function Bm(n){return n=cr(n),jm(n)}var yh=null;function jm(n){if(yh=null,n=He(n),n!==null){var i=u(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=h(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return yh=n,null}function uE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ol()){case ts:return 2;case qi:return 8;case fi:case br:return 32;case ir:return 268435456;default:return 32}default:return 32}}var Hm=!1,ga=null,ya=null,_a=null,tu=new Map,nu=new Map,va=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cE(n,i){switch(n){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":tu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(i.pointerId)}}function ru(n,i,s,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=tt(i),i!==null&&lE(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function d1(n,i,s,l,f){switch(i){case"focusin":return ga=ru(ga,n,i,s,l,f),!0;case"dragenter":return ya=ru(ya,n,i,s,l,f),!0;case"mouseover":return _a=ru(_a,n,i,s,l,f),!0;case"pointerover":var m=f.pointerId;return tu.set(m,ru(tu.get(m)||null,n,i,s,l,f)),!0;case"gotpointercapture":return m=f.pointerId,nu.set(m,ru(nu.get(m)||null,n,i,s,l,f)),!0}return!1}function hE(n){var i=He(n.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){n.blockedOn=i,B(n.priority,function(){if(s.tag===13){var l=Wn();l=jr(l);var f=ao(s,l);f!==null&&Zn(f,s,l),Um(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _h(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Bm(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);gi=l,s.target.dispatchEvent(l),gi=null}else return i=tt(s),i!==null&&lE(i),n.blockedOn=s,!1;i.shift()}return!0}function fE(n,i,s){_h(n)&&s.delete(i)}function m1(){Hm=!1,ga!==null&&_h(ga)&&(ga=null),ya!==null&&_h(ya)&&(ya=null),_a!==null&&_h(_a)&&(_a=null),tu.forEach(fE),nu.forEach(fE)}function vh(n,i){n.blockedOn===i&&(n.blockedOn=null,Hm||(Hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,m1)))}var Eh=null;function dE(n){Eh!==n&&(Eh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eh===n&&(Eh=null);for(var i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(jm(l||s)===null)continue;break}var m=tt(s);m!==null&&(n.splice(i,3),i-=3,jd(m,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function iu(n){function i(D){return vh(D,n)}ga!==null&&vh(ga,n),ya!==null&&vh(ya,n),_a!==null&&vh(_a,n),tu.forEach(i),nu.forEach(i);for(var s=0;s<va.length;s++){var l=va[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<va.length&&(s=va[0],s.blockedOn===null);)hE(s),s.blockedOn===null&&va.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],m=s[l+1],E=f[ue]||null;if(typeof m=="function")E||dE(s);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[ue]||null)w=E.formAction;else if(jm(f)!==null)continue}else w=E.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),dE(s)}}}function qm(n){this._internalRoot=n}Th.prototype.render=qm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Wn();sE(s,l,n,i,null,null)},Th.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;sE(n.current,2,null,n,null,null),nh(),i[ye]=null}};function Th(n){this._internalRoot=n}Th.prototype.unstable_scheduleHydration=function(n){if(n){var i=N();n={blockedOn:null,target:n,priority:i};for(var s=0;s<va.length&&i!==0&&i<va[s].priority;s++);va.splice(s,0,n),s===0&&hE(n)}};var mE=e.version;if(mE!=="19.1.1")throw Error(a(527,mE,"19.1.1"));ce.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var p1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{lt=wh.inject(p1),Ge=wh}catch{}}return su.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,l="",f=N_,m=O_,E=M_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=iE(n,1,!1,null,null,s,l,f,m,E,w,null),n[ye]=i.current,Am(n),new qm(i)},su.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var l=!1,f="",m=N_,E=O_,w=M_,D=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),i=iE(n,1,!0,i,s??null,l,f,m,E,w,D,F),i.context=aE(null),s=i.current,l=Wn(),l=jr(l),f=na(l),f.callback=null,ra(s,f,l),s=l,i.current.lanes=s,Ar(i,s),Jr(i),n[ye]=i.current,Am(n),new Th(i)},su.version="19.1.1",su}var bE;function b1(){if(bE)return Ym.exports;bE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ym.exports=S1(),Ym.exports}var A1=b1();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j0=r=>{throw TypeError(r)},R1=(r,e,t)=>e.has(r)||j0("Cannot "+t),Xm=(r,e,t)=>(R1(r,e,"read from private field"),t?t.call(r):e.get(r)),I1=(r,e,t)=>e.has(r)?j0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),AE="popstate";function C1(r={}){function e(a,o){let{pathname:u,search:h,hash:d}=a.location;return Iu("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:za(o)}return N1(e,t,null,r)}function Xe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D1(){return Math.random().toString(36).substring(2,10)}function RE(r,e){return{usr:r.state,key:r.key,idx:e}}function Iu(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ka(e):e,state:t,key:e&&e.key||a||D1()}}function za({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ka(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function N1(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function T(){d="POP";let z=_(),ne=z==null?null:z-g;g=z,p&&p({action:d,location:X.location,delta:ne})}function S(z,ne){d="PUSH";let se=Iu(X.location,z,ne);g=_()+1;let oe=RE(se,g),Re=X.createHref(se);try{h.pushState(oe,"",Re)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(Re)}u&&p&&p({action:d,location:X.location,delta:1})}function C(z,ne){d="REPLACE";let se=Iu(X.location,z,ne);g=_();let oe=RE(se,g),Re=X.createHref(se);h.replaceState(oe,"",Re),u&&p&&p({action:d,location:X.location,delta:0})}function V(z){return H0(z)}let X={get action(){return d},get location(){return r(o,h)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(AE,T),p=z,()=>{o.removeEventListener(AE,T),p=null}},createHref(z){return e(o,z)},createURL:V,encodeLocation(z){let ne=V(z);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:C,go(z){return h.go(z)}};return X}function H0(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:za(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var fu,IE=class{constructor(r){if(I1(this,fu,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(Xm(this,fu).has(r))return Xm(this,fu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Xm(this,fu).set(r,e)}};fu=new WeakMap;var O1=new Set(["lazy","caseSensitive","path","id","index","children"]);function M1(r){return O1.has(r)}var P1=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function x1(r){return P1.has(r)}function V1(r){return r.index===!0}function Cu(r,e,t=[],a={},o=!1){return r.map((u,h)=>{let d=[...t,String(h)],p=typeof u.id=="string"?u.id:d.join("-");if(Xe(u.index!==!0||!u.children,"Cannot specify children on an index route"),Xe(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),V1(u)){let g={...u,...e(u),id:p};return a[p]=g,g}else{let g={...u,...e(u),id:p,children:void 0};return a[p]=g,u.children&&(g.children=Cu(u.children,e,d,a,o)),g}})}function ba(r,e,t="/"){return Mh(r,e,t,!1)}function Mh(r,e,t,a){let o=typeof e=="string"?Ka(e):e,u=Sr(o.pathname||"/",t);if(u==null)return null;let h=q0(r);L1(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=K1(u);d=Y1(h[p],g,a)}return d}function k1(r,e){let{route:t,pathname:a,params:o}=r;return{id:t.id,pathname:a,params:o,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function q0(r,e=[],t=[],a="",o=!1){let u=(h,d,p=o,g)=>{let _={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&p)return;Xe(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let T=ti([a,_.relativePath]),S=t.concat(_);h.children&&h.children.length>0&&(Xe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),q0(h.children,e,S,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:F1(T,h.index),routesMeta:S})};return r.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))u(h,d);else for(let p of F0(h.path))u(h,d,!0,p)}),e}function F0(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=F0(a.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function L1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:G1(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var U1=/^:[\w-]+$/,z1=3,B1=2,j1=1,H1=10,q1=-2,CE=r=>r==="*";function F1(r,e){let t=r.split("/"),a=t.length;return t.some(CE)&&(a+=q1),e&&(a+=B1),t.filter(o=>!CE(o)).reduce((o,u)=>o+(U1.test(u)?z1:u===""?j1:H1),a)}function G1(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function Y1(r,e,t=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!T&&g&&t&&!a[a.length-1].route.index&&(T=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ti([u,T.pathname]),pathnameBase:Z1(ti([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ti([u,T.pathnameBase]))}return h}function $h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=Q1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:T},S)=>{if(_==="*"){let V=d[S]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const C=d[S];return T&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function Q1(r,e=!1,t=!0){Yt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function K1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Sr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function $1({basename:r,pathname:e}){return e==="/"?r:ti([r,e])}function X1(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?Ka(r):r;return{pathname:t?t.startsWith("/")?t:W1(t,e):e,search:J1(a),hash:eR(o)}}function W1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Wm(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G0(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wp(r){let e=G0(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function Zp(r,e,t,a=!1){let o;typeof r=="string"?o=Ka(r):(o={...r},Xe(!o.pathname||!o.pathname.includes("?"),Wm("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Wm("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Wm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=X1(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var ti=r=>r.join("/").replace(/\/\/+/g,"/"),Z1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),J1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,eR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Xh=class{constructor(r,e,t,a=!1){this.status=r,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Du(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Y0=["POST","PUT","PATCH","DELETE"],tR=new Set(Y0),nR=["GET",...Y0],rR=new Set(nR),iR=new Set([301,302,303,307,308]),aR=new Set([307,308]),Zm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ou={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},oR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jp=r=>oR.test(r),lR=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Q0="remix-router-transitions",K0=Symbol("ResetLoaderData");function uR(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||lR,u={},h=Cu(r.routes,o,void 0,u),d,p=r.basename||"/";p.startsWith("/")||(p=`/${p}`);let g=r.dataStrategy||mR,_={...r.future},T=null,S=new Set,C=null,V=null,X=null,z=r.hydrationData!=null,ne=ba(h,r.history.location,p),se=!1,oe=null,Re;if(ne==null&&!r.patchRoutesOnNavigation){let N=Er(404,{pathname:r.history.location.pathname}),{matches:B,route:G}=Sh(h);Re=!0,ne=B,oe={[G.id]:N}}else if(ne&&!r.hydrationData&&In(ne,h,r.history.location.pathname).active&&(ne=null),ne)if(ne.some(N=>N.route.lazy))Re=!1;else if(!ne.some(N=>N.route.loader))Re=!0;else{let N=r.hydrationData?r.hydrationData.loaderData:null,B=r.hydrationData?r.hydrationData.errors:null;if(B){let G=ne.findIndex(ie=>B[ie.route.id]!==void 0);Re=ne.slice(0,G+1).every(ie=>!vp(ie.route,N,B))}else Re=ne.every(G=>!vp(G.route,N,B))}else{Re=!1,ne=[];let N=In(null,h,r.history.location.pathname);N.active&&N.matches&&(se=!0,ne=N.matches)}let fe,q={historyAction:r.history.action,location:r.history.location,matches:ne,initialized:Re,navigation:Zm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||oe,fetchers:new Map,blockers:new Map},M="POP",A=!1,R,P=!1,k=new Map,L=null,I=!1,qe=!1,et=new Set,Q=new Map,ce=0,ge=-1,Be=new Map,O=new Set,ee=new Map,he=new Map,le=new Set,be=new Map,je,Oe=null;function Ut(){if(T=r.history.listen(({action:N,location:B,delta:G})=>{if(je){je(),je=void 0;return}Yt(be.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Yi({currentLocation:q.location,nextLocation:B,historyAction:N});if(ie&&G!=null){let ue=new Promise(ye=>{je=ye});r.history.go(G*-1),sr(ie,{state:"blocked",location:B,proceed(){sr(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),ue.then(()=>r.history.go(G))},reset(){let ye=new Map(q.blockers);ye.set(ie,ou),Rt({blockers:ye})}});return}return An(N,B)}),t){DR(e,k);let N=()=>NR(e,k);e.addEventListener("pagehide",N),L=()=>e.removeEventListener("pagehide",N)}return q.initialized||An("POP",q.location,{initialHydration:!0}),fe}function yt(){T&&T(),L&&L(),S.clear(),R&&R.abort(),q.fetchers.forEach((N,B)=>zt(B)),q.blockers.forEach((N,B)=>di(B))}function rr(N){return S.add(N),()=>S.delete(N)}function Rt(N,B={}){N.matches&&(N.matches=N.matches.map(ue=>{let ye=u[ue.route.id],Ae=ue.route;return Ae.element!==ye.element||Ae.errorElement!==ye.errorElement||Ae.hydrateFallbackElement!==ye.hydrateFallbackElement?{...ue,route:ye}:ue})),q={...q,...N};let G=[],ie=[];q.fetchers.forEach((ue,ye)=>{ue.state==="idle"&&(le.has(ye)?G.push(ye):ie.push(ye))}),le.forEach(ue=>{!q.fetchers.has(ue)&&!Q.has(ue)&&G.push(ue)}),[...S].forEach(ue=>ue(q,{deletedFetchers:G,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),G.forEach(ue=>zt(ue)),ie.forEach(ue=>q.fetchers.delete(ue))}function _n(N,B,{flushSync:G}={}){let ie=q.actionData!=null&&q.navigation.formMethod!=null&&Bn(q.navigation.formMethod)&&q.navigation.state==="loading"&&N.state?._isRedirect!==!0,ue;B.actionData?Object.keys(B.actionData).length>0?ue=B.actionData:ue=null:ie?ue=q.actionData:ue=null;let ye=B.loaderData?UE(q.loaderData,B.loaderData,B.matches||[],B.errors):q.loaderData,Ae=q.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((Se,ve)=>Ae.set(ve,ou)));let Te=I?!1:Qi(N,B.matches||q.matches),we=A===!0||q.navigation.formMethod!=null&&Bn(q.navigation.formMethod)&&N.state?._isRedirect!==!0;d&&(h=d,d=void 0),I||M==="POP"||(M==="PUSH"?r.history.push(N,N.state):M==="REPLACE"&&r.history.replace(N,N.state));let De;if(M==="POP"){let Se=k.get(q.location.pathname);Se&&Se.has(N.pathname)?De={currentLocation:q.location,nextLocation:N}:k.has(N.pathname)&&(De={currentLocation:N,nextLocation:q.location})}else if(P){let Se=k.get(q.location.pathname);Se?Se.add(N.pathname):(Se=new Set([N.pathname]),k.set(q.location.pathname,Se)),De={currentLocation:q.location,nextLocation:N}}Rt({...B,actionData:ue,loaderData:ye,historyAction:M,location:N,initialized:!0,navigation:Zm,revalidation:"idle",restoreScrollPosition:Te,preventScrollReset:we,blockers:Ae},{viewTransitionOpts:De,flushSync:G===!0}),M="POP",A=!1,P=!1,I=!1,qe=!1,Oe?.resolve(),Oe=null}async function kr(N,B){if(typeof N=="number"){r.history.go(N);return}let G=_p(q.location,q.matches,p,N,B?.fromRouteId,B?.relative),{path:ie,submission:ue,error:ye}=DE(!1,G,B),Ae=q.location,Te=Iu(q.location,ie,B&&B.state);Te={...Te,...r.history.encodeLocation(Te)};let we=B&&B.replace!=null?B.replace:void 0,De="PUSH";we===!0?De="REPLACE":we===!1||ue!=null&&Bn(ue.formMethod)&&ue.formAction===q.location.pathname+q.location.search&&(De="REPLACE");let Se=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,ve=(B&&B.flushSync)===!0,He=Yi({currentLocation:Ae,nextLocation:Te,historyAction:De});if(He){sr(He,{state:"blocked",location:Te,proceed(){sr(He,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),kr(N,B)},reset(){let tt=new Map(q.blockers);tt.set(He,ou),Rt({blockers:tt})}});return}await An(De,Te,{submission:ue,pendingError:ye,preventScrollReset:Se,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:ve})}function hi(){Oe||(Oe=OR()),Gi(),Rt({revalidation:"loading"});let N=Oe.promise;return q.navigation.state==="submitting"?N:q.navigation.state==="idle"?(An(q.historyAction,q.location,{startUninterruptedRevalidation:!0}),N):(An(M||q.historyAction,q.navigation.location,{overrideNavigation:q.navigation,enableViewTransition:P===!0}),N)}async function An(N,B,G){R&&R.abort(),R=null,M=N,I=(G&&G.startUninterruptedRevalidation)===!0,Ar(q.location,q.matches),A=(G&&G.preventScrollReset)===!0,P=(G&&G.enableViewTransition)===!0;let ie=d||h,ue=G&&G.overrideNavigation,ye=G?.initialHydration&&q.matches&&q.matches.length>0&&!se?q.matches:ba(ie,B,p),Ae=(G&&G.flushSync)===!0;if(ye&&q.initialized&&!qe&&wR(q.location,B)&&!(G&&G.submission&&Bn(G.submission.formMethod))){_n(B,{matches:ye},{flushSync:Ae});return}let Te=In(ye,ie,B.pathname);if(Te.active&&Te.matches&&(ye=Te.matches),!ye){let{error:ut,notFoundMatches:ze,route:ct}=mi(B.pathname);_n(B,{matches:ze,loaderData:{},errors:{[ct.id]:ut}},{flushSync:Ae});return}R=new AbortController;let we=Mo(r.history,B,R.signal,G&&G.submission),De=r.unstable_getContext?await r.unstable_getContext():new IE,Se;if(G&&G.pendingError)Se=[Aa(ye).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Bn(G.submission.formMethod)){let ut=await es(we,B,G.submission,ye,De,Te.active,G&&G.initialHydration===!0,{replace:G.replace,flushSync:Ae});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[ze,ct]=ut.pendingActionResult;if(Jn(ct)&&Du(ct.error)&&ct.error.status===404){R=null,_n(B,{matches:ut.matches,loaderData:{},errors:{[ze]:ct.error}});return}}ye=ut.matches||ye,Se=ut.pendingActionResult,ue=Jm(B,G.submission),Ae=!1,Te.active=!1,we=Mo(r.history,we.url,we.signal)}let{shortCircuited:ve,matches:He,loaderData:tt,errors:dt}=await Fs(we,B,ye,De,Te.active,ue,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Ae,Se);ve||(R=null,_n(B,{matches:He||ye,...zE(Se),loaderData:tt,errors:dt}))}async function es(N,B,G,ie,ue,ye,Ae,Te={}){Gi();let we=IR(B,G);if(Rt({navigation:we},{flushSync:Te.flushSync===!0}),ye){let ve=await Br(ie,B.pathname,N.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){if(ve.partialMatches.length===0){let{matches:tt,route:dt}=Sh(h);return{matches:tt,pendingActionResult:[dt.id,{type:"error",error:ve.error}]}}let He=Aa(ve.partialMatches).route.id;return{matches:ve.partialMatches,pendingActionResult:[He,{type:"error",error:ve.error}]}}else if(ve.matches)ie=ve.matches;else{let{notFoundMatches:He,error:tt,route:dt}=mi(B.pathname);return{matches:He,pendingActionResult:[dt.id,{type:"error",error:tt}]}}}let De,Se=Ph(ie,B);if(!Se.route.action&&!Se.route.lazy)De={type:"error",error:Er(405,{method:N.method,pathname:B.pathname,routeId:Se.route.id})};else{let ve=Bo(o,u,N,ie,Se,Ae?[]:a,ue),He=await ir(N,ve,ue,null);if(De=He[Se.route.id],!De){for(let tt of ie)if(He[tt.route.id]){De=He[tt.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(Os(De)){let ve;return Te&&Te.replace!=null?ve=Te.replace:ve=VE(De.response.headers.get("Location"),new URL(N.url),p)===q.location.pathname+q.location.search,await br(N,De,!0,{submission:G,replace:ve}),{shortCircuited:!0}}if(Jn(De)){let ve=Aa(ie,Se.route.id);return(Te&&Te.replace)!==!0&&(M="PUSH"),{matches:ie,pendingActionResult:[ve.route.id,De,Se.route.id]}}return{matches:ie,pendingActionResult:[Se.route.id,De]}}async function Fs(N,B,G,ie,ue,ye,Ae,Te,we,De,Se,ve){let He=ye||Jm(B,Ae),tt=Ae||Te||jE(He),dt=!I&&!De;if(ue){if(dt){let Ct=Rn(ve);Rt({navigation:He,...Ct!==void 0?{actionData:Ct}:{}},{flushSync:Se})}let Pe=await Br(G,B.pathname,N.signal);if(Pe.type==="aborted")return{shortCircuited:!0};if(Pe.type==="error"){if(Pe.partialMatches.length===0){let{matches:Rr,route:un}=Sh(h);return{matches:Rr,loaderData:{},errors:{[un.id]:Pe.error}}}let Ct=Aa(Pe.partialMatches).route.id;return{matches:Pe.partialMatches,loaderData:{},errors:{[Ct]:Pe.error}}}else if(Pe.matches)G=Pe.matches;else{let{error:Ct,notFoundMatches:Rr,route:un}=mi(B.pathname);return{matches:Rr,loaderData:{},errors:{[un.id]:Ct}}}}let ut=d||h,{dsMatches:ze,revalidatingFetchers:ct}=NE(N,ie,o,u,r.history,q,G,tt,B,De?[]:a,De===!0,qe,et,le,ee,O,ut,p,r.patchRoutesOnNavigation!=null,ve);if(ge=++ce,!r.dataStrategy&&!ze.some(Pe=>Pe.shouldLoad)&&!ze.some(Pe=>Pe.route.unstable_middleware)&&ct.length===0){let Pe=Ur();return _n(B,{matches:G,loaderData:{},errors:ve&&Jn(ve[1])?{[ve[0]]:ve[1].error}:null,...zE(ve),...Pe?{fetchers:new Map(q.fetchers)}:{}},{flushSync:Se}),{shortCircuited:!0}}if(dt){let Pe={};if(!ue){Pe.navigation=He;let Ct=Rn(ve);Ct!==void 0&&(Pe.actionData=Ct)}ct.length>0&&(Pe.fetchers=ol(ct)),Rt(Pe,{flushSync:Se})}ct.forEach(Pe=>{ar(Pe.key),Pe.controller&&Q.set(Pe.key,Pe.controller)});let Vn=()=>ct.forEach(Pe=>ar(Pe.key));R&&R.signal.addEventListener("abort",Vn);let{loaderResults:ln,fetcherResults:Jt}=await Fi(ze,ct,N,ie);if(N.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Vn),ct.forEach(Pe=>Q.delete(Pe.key));let Cn=bh(ln);if(Cn)return await br(N,Cn.result,!0,{replace:we}),{shortCircuited:!0};if(Cn=bh(Jt),Cn)return O.add(Cn.key),await br(N,Cn.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:$i,errors:qn}=LE(q,G,ln,ve,ct,Jt);De&&q.errors&&(qn={...q.errors,...qn});let lr=Ur(),Fn=zr(ge),Dn=lr||Fn||ct.length>0;return{matches:G,loaderData:$i,errors:qn,...Dn?{fetchers:new Map(q.fetchers)}:{}}}function Rn(N){if(N&&!Jn(N[1]))return{[N[0]]:N[1].data};if(q.actionData)return Object.keys(q.actionData).length===0?null:q.actionData}function ol(N){return N.forEach(B=>{let G=q.fetchers.get(B.key),ie=lu(void 0,G?G.data:void 0);q.fetchers.set(B.key,ie)}),new Map(q.fetchers)}async function ts(N,B,G,ie){ar(N);let ue=(ie&&ie.flushSync)===!0,ye=d||h,Ae=_p(q.location,q.matches,p,G,B,ie?.relative),Te=ba(ye,Ae,p),we=In(Te,ye,Ae);if(we.active&&we.matches&&(Te=we.matches),!Te){Ge(N,B,Er(404,{pathname:Ae}),{flushSync:ue});return}let{path:De,submission:Se,error:ve}=DE(!0,Ae,ie);if(ve){Ge(N,B,ve,{flushSync:ue});return}let He=r.unstable_getContext?await r.unstable_getContext():new IE,tt=(ie&&ie.preventScrollReset)===!0;if(Se&&Bn(Se.formMethod)){await qi(N,B,De,Te,He,we.active,ue,tt,Se);return}ee.set(N,{routeId:B,path:De}),await fi(N,B,De,Te,He,we.active,ue,tt,Se)}async function qi(N,B,G,ie,ue,ye,Ae,Te,we){Gi(),ee.delete(N);let De=q.fetchers.get(N);lt(N,CR(we,De),{flushSync:Ae});let Se=new AbortController,ve=Mo(r.history,G,Se.signal,we);if(ye){let bt=await Br(ie,new URL(ve.url).pathname,ve.signal,N);if(bt.type==="aborted")return;if(bt.type==="error"){Ge(N,B,bt.error,{flushSync:Ae});return}else if(bt.matches)ie=bt.matches;else{Ge(N,B,Er(404,{pathname:G}),{flushSync:Ae});return}}let He=Ph(ie,G);if(!He.route.action&&!He.route.lazy){let bt=Er(405,{method:we.formMethod,pathname:G,routeId:B});Ge(N,B,bt,{flushSync:Ae});return}Q.set(N,Se);let tt=ce,dt=Bo(o,u,ve,ie,He,a,ue),ze=(await ir(ve,dt,ue,N))[He.route.id];if(ve.signal.aborted){Q.get(N)===Se&&Q.delete(N);return}if(le.has(N)){if(Os(ze)||Jn(ze)){lt(N,Sa(void 0));return}}else{if(Os(ze))if(Q.delete(N),ge>tt){lt(N,Sa(void 0));return}else return O.add(N),lt(N,lu(we)),br(ve,ze,!1,{fetcherSubmission:we,preventScrollReset:Te});if(Jn(ze)){Ge(N,B,ze.error);return}}let ct=q.navigation.location||q.location,Vn=Mo(r.history,ct,Se.signal),ln=d||h,Jt=q.navigation.state!=="idle"?ba(ln,q.navigation.location,p):q.matches;Xe(Jt,"Didn't find any matches after fetcher action");let Cn=++ce;Be.set(N,Cn);let $i=lu(we,ze.data);q.fetchers.set(N,$i);let{dsMatches:qn,revalidatingFetchers:lr}=NE(Vn,ue,o,u,r.history,q,Jt,we,ct,a,!1,qe,et,le,ee,O,ln,p,r.patchRoutesOnNavigation!=null,[He.route.id,ze]);lr.filter(bt=>bt.key!==N).forEach(bt=>{let Ir=bt.key,Xi=q.fetchers.get(Ir),Wi=lu(void 0,Xi?Xi.data:void 0);q.fetchers.set(Ir,Wi),ar(Ir),bt.controller&&Q.set(Ir,bt.controller)}),Rt({fetchers:new Map(q.fetchers)});let Fn=()=>lr.forEach(bt=>ar(bt.key));Se.signal.addEventListener("abort",Fn);let{loaderResults:Dn,fetcherResults:Pe}=await Fi(qn,lr,Vn,ue);if(Se.signal.aborted)return;if(Se.signal.removeEventListener("abort",Fn),Be.delete(N),Q.delete(N),lr.forEach(bt=>Q.delete(bt.key)),q.fetchers.has(N)){let bt=Sa(ze.data);q.fetchers.set(N,bt)}let Ct=bh(Dn);if(Ct)return br(Vn,Ct.result,!1,{preventScrollReset:Te});if(Ct=bh(Pe),Ct)return O.add(Ct.key),br(Vn,Ct.result,!1,{preventScrollReset:Te});let{loaderData:Rr,errors:un}=LE(q,Jt,Dn,void 0,lr,Pe);zr(Cn),q.navigation.state==="loading"&&Cn>ge?(Xe(M,"Expected pending action"),R&&R.abort(),_n(q.navigation.location,{matches:Jt,loaderData:Rr,errors:un,fetchers:new Map(q.fetchers)})):(Rt({errors:un,loaderData:UE(q.loaderData,Rr,Jt,un),fetchers:new Map(q.fetchers)}),qe=!1)}async function fi(N,B,G,ie,ue,ye,Ae,Te,we){let De=q.fetchers.get(N);lt(N,lu(we,De?De.data:void 0),{flushSync:Ae});let Se=new AbortController,ve=Mo(r.history,G,Se.signal);if(ye){let ct=await Br(ie,new URL(ve.url).pathname,ve.signal,N);if(ct.type==="aborted")return;if(ct.type==="error"){Ge(N,B,ct.error,{flushSync:Ae});return}else if(ct.matches)ie=ct.matches;else{Ge(N,B,Er(404,{pathname:G}),{flushSync:Ae});return}}let He=Ph(ie,G);Q.set(N,Se);let tt=ce,dt=Bo(o,u,ve,ie,He,a,ue),ze=(await ir(ve,dt,ue,N))[He.route.id];if(Q.get(N)===Se&&Q.delete(N),!ve.signal.aborted){if(le.has(N)){lt(N,Sa(void 0));return}if(Os(ze))if(ge>tt){lt(N,Sa(void 0));return}else{O.add(N),await br(ve,ze,!1,{preventScrollReset:Te});return}if(Jn(ze)){Ge(N,B,ze.error);return}lt(N,Sa(ze.data))}}async function br(N,B,G,{submission:ie,fetcherSubmission:ue,preventScrollReset:ye,replace:Ae}={}){B.response.headers.has("X-Remix-Revalidate")&&(qe=!0);let Te=B.response.headers.get("Location");Xe(Te,"Expected a Location header on the redirect Response"),Te=VE(Te,new URL(N.url),p);let we=Iu(q.location,Te,{_isRedirect:!0});if(t){let dt=!1;if(B.response.headers.has("X-Remix-Reload-Document"))dt=!0;else if(Jp(Te)){const ut=H0(Te,!0);dt=ut.origin!==e.location.origin||Sr(ut.pathname,p)==null}if(dt){Ae?e.location.replace(Te):e.location.assign(Te);return}}R=null;let De=Ae===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Se,formAction:ve,formEncType:He}=q.navigation;!ie&&!ue&&Se&&ve&&He&&(ie=jE(q.navigation));let tt=ie||ue;if(aR.has(B.response.status)&&tt&&Bn(tt.formMethod))await An(De,we,{submission:{...tt,formAction:Te},preventScrollReset:ye||A,enableViewTransition:G?P:void 0});else{let dt=Jm(we,ie);await An(De,we,{overrideNavigation:dt,fetcherSubmission:ue,preventScrollReset:ye||A,enableViewTransition:G?P:void 0})}}async function ir(N,B,G,ie){let ue,ye={};try{ue=await gR(g,N,B,ie,G,!1)}catch(Ae){return B.filter(Te=>Te.shouldLoad).forEach(Te=>{ye[Te.route.id]={type:"error",error:Ae}}),ye}if(N.signal.aborted)return ye;for(let[Ae,Te]of Object.entries(ue))if(AR(Te)){let we=Te.result;ye[Ae]={type:"redirect",response:ER(we,N,Ae,B,p)}}else ye[Ae]=await vR(Te);return ye}async function Fi(N,B,G,ie){let ue=ir(G,N,ie,null),ye=Promise.all(B.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let Se=(await ir(we.request,we.matches,ie,we.key))[we.match.route.id];return{[we.key]:Se}}else return Promise.resolve({[we.key]:{type:"error",error:Er(404,{pathname:we.path})}})})),Ae=await ue,Te=(await ye).reduce((we,De)=>Object.assign(we,De),{});return{loaderResults:Ae,fetcherResults:Te}}function Gi(){qe=!0,ee.forEach((N,B)=>{Q.has(B)&&et.add(B),ar(B)})}function lt(N,B,G={}){q.fetchers.set(N,B),Rt({fetchers:new Map(q.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Ge(N,B,G,ie={}){let ue=Aa(q.matches,B);zt(N),Rt({errors:{[ue.route.id]:G},fetchers:new Map(q.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function vn(N){return he.set(N,(he.get(N)||0)+1),le.has(N)&&le.delete(N),q.fetchers.get(N)||sR}function zt(N){let B=q.fetchers.get(N);Q.has(N)&&!(B&&B.state==="loading"&&Be.has(N))&&ar(N),ee.delete(N),Be.delete(N),O.delete(N),le.delete(N),et.delete(N),q.fetchers.delete(N)}function Gs(N){let B=(he.get(N)||0)-1;B<=0?(he.delete(N),le.add(N)):he.set(N,B),Rt({fetchers:new Map(q.fetchers)})}function ar(N){let B=Q.get(N);B&&(B.abort(),Q.delete(N))}function Lr(N){for(let B of N){let G=vn(B),ie=Sa(G.data);q.fetchers.set(B,ie)}}function Ur(){let N=[],B=!1;for(let G of O){let ie=q.fetchers.get(G);Xe(ie,`Expected fetcher: ${G}`),ie.state==="loading"&&(O.delete(G),N.push(G),B=!0)}return Lr(N),B}function zr(N){let B=[];for(let[G,ie]of Be)if(ie<N){let ue=q.fetchers.get(G);Xe(ue,`Expected fetcher: ${G}`),ue.state==="loading"&&(ar(G),Be.delete(G),B.push(G))}return Lr(B),B.length>0}function Hn(N,B){let G=q.blockers.get(N)||ou;return be.get(N)!==B&&be.set(N,B),G}function di(N){q.blockers.delete(N),be.delete(N)}function sr(N,B){let G=q.blockers.get(N)||ou;Xe(G.state==="unblocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="proceeding"||G.state==="blocked"&&B.state==="unblocked"||G.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${B.state}`);let ie=new Map(q.blockers);ie.set(N,B),Rt({blockers:ie})}function Yi({currentLocation:N,nextLocation:B,historyAction:G}){if(be.size===0)return;be.size>1&&Yt(!1,"A router only supports one blocker at a time");let ie=Array.from(be.entries()),[ue,ye]=ie[ie.length-1],Ae=q.blockers.get(ue);if(!(Ae&&Ae.state==="proceeding")&&ye({currentLocation:N,nextLocation:B,historyAction:G}))return ue}function mi(N){let B=Er(404,{pathname:N}),G=d||h,{matches:ie,route:ue}=Sh(G);return{notFoundMatches:ie,route:ue,error:B}}function ns(N,B,G){if(C=N,X=B,V=G||null,!z&&q.navigation===Zm){z=!0;let ie=Qi(q.location,q.matches);ie!=null&&Rt({restoreScrollPosition:ie})}return()=>{C=null,X=null,V=null}}function or(N,B){return V&&V(N,B.map(ie=>k1(ie,q.loaderData)))||N.key}function Ar(N,B){if(C&&X){let G=or(N,B);C[G]=X()}}function Qi(N,B){if(C){let G=or(N,B),ie=C[G];if(typeof ie=="number")return ie}return null}function In(N,B,G){if(r.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Mh(B,G,p,!0)}}else return{active:!0,matches:Mh(B,G,p,!0)||[]};return{active:!1,matches:null}}async function Br(N,B,G,ie){if(!r.patchRoutesOnNavigation)return{type:"success",matches:N};let ue=N;for(;;){let ye=d==null,Ae=d||h,Te=u;try{await r.patchRoutesOnNavigation({signal:G,path:B,matches:ue,fetcherKey:ie,patch:(Se,ve)=>{G.aborted||OE(Se,ve,Ae,Te,o,!1)}})}catch(Se){return{type:"error",error:Se,partialMatches:ue}}finally{ye&&!G.aborted&&(h=[...h])}if(G.aborted)return{type:"aborted"};let we=ba(Ae,B,p);if(we)return{type:"success",matches:we};let De=Mh(Ae,B,p,!0);if(!De||ue.length===De.length&&ue.every((Se,ve)=>Se.route.id===De[ve].route.id))return{type:"success",matches:null};ue=De}}function jr(N){u={},d=Cu(N,o,void 0,u)}function Ki(N,B,G=!1){let ie=d==null;OE(N,B,d||h,u,o,G),ie&&(h=[...h],Rt({}))}return fe={get basename(){return p},get future(){return _},get state(){return q},get routes(){return h},get window(){return e},initialize:Ut,subscribe:rr,enableScrollRestoration:ns,navigate:kr,fetch:ts,revalidate:hi,createHref:N=>r.history.createHref(N),encodeLocation:N=>r.history.encodeLocation(N),getFetcher:vn,deleteFetcher:Gs,dispose:yt,getBlocker:Hn,deleteBlocker:di,patchRoutes:Ki,_internalFetchControllers:Q,_internalSetRoutes:jr,_internalSetStateDoNotUseOrYouWillBreakYourApp(N){Rt(N)}},fe}function cR(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function _p(r,e,t,a,o,u){let h,d;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){d=g;break}}else h=e,d=e[e.length-1];let p=Zp(a||".",Wp(h),Sr(r.pathname,t)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&d){let g=eg(p.search);if(d.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(p.search),T=_.getAll("index");_.delete("index"),T.filter(C=>C).forEach(C=>_.append("index",C));let S=_.toString();p.search=S?`?${S}`:""}}return t!=="/"&&(p.pathname=$1({basename:t,pathname:p.pathname})),za(p)}function DE(r,e,t){if(!t||!cR(t))return{path:e};if(t.formMethod&&!RR(t.formMethod))return{path:e,error:Er(405,{method:t.formMethod})};let a=()=>({path:e,error:Er(400,{type:"invalid-body"})}),u=(t.formMethod||"get").toUpperCase(),h=ew(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Bn(u))return a();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[C,V])=>`${S}${C}=${V}
`,""):String(t.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Bn(u))return a();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return a()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Tp(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Tp(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=kE(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=kE(d)}catch{return a()}let g={formMethod:u,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Bn(g.formMethod))return{path:e,submission:g};let _=Ka(e);return r&&_.search&&eg(_.search)&&d.append("index",""),_.search=`?${d}`,{path:za(_),submission:g}}function NE(r,e,t,a,o,u,h,d,p,g,_,T,S,C,V,X,z,ne,se,oe){let Re=oe?Jn(oe[1])?oe[1].error:oe[1].data:void 0,fe=o.createURL(u.location),q=o.createURL(p),M;if(_&&u.errors){let I=Object.keys(u.errors)[0];M=h.findIndex(qe=>qe.route.id===I)}else if(oe&&Jn(oe[1])){let I=oe[0];M=h.findIndex(qe=>qe.route.id===I)-1}let A=oe?oe[1].statusCode:void 0,R=A&&A>=400,P={currentUrl:fe,currentParams:u.matches[0]?.params||{},nextUrl:q,nextParams:h[0].params,...d,actionResult:Re,actionStatus:A},k=h.map((I,qe)=>{let{route:et}=I,Q=null;if(M!=null&&qe>M?Q=!1:et.lazy?Q=!0:et.loader==null?Q=!1:_?Q=vp(et,u.loaderData,u.errors):hR(u.loaderData,u.matches[qe],I)&&(Q=!0),Q!==null)return Ep(t,a,r,I,g,e,Q);let ce=R?!1:T||fe.pathname+fe.search===q.pathname+q.search||fe.search!==q.search||fR(u.matches[qe],I),ge={...P,defaultShouldRevalidate:ce},Be=Wh(I,ge);return Ep(t,a,r,I,g,e,Be,ge)}),L=[];return V.forEach((I,qe)=>{if(_||!h.some(he=>he.route.id===I.routeId)||C.has(qe))return;let et=u.fetchers.get(qe),Q=et&&et.state!=="idle"&&et.data===void 0,ce=ba(z,I.path,ne);if(!ce){if(se&&Q)return;L.push({key:qe,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(X.has(qe))return;let ge=Ph(ce,I.path),Be=new AbortController,O=Mo(o,I.path,Be.signal),ee=null;if(S.has(qe))S.delete(qe),ee=Bo(t,a,O,ce,ge,g,e);else if(Q)T&&(ee=Bo(t,a,O,ce,ge,g,e));else{let he={...P,defaultShouldRevalidate:R?!1:T};Wh(ge,he)&&(ee=Bo(t,a,O,ce,ge,g,e,he))}ee&&L.push({key:qe,routeId:I.routeId,path:I.path,matches:ee,match:ge,request:O,controller:Be})}),{dsMatches:k,revalidatingFetchers:L}}function vp(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=t!=null&&t[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function hR(r,e,t){let a=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return a||o}function fR(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Wh(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function OE(r,e,t,a,o,u){let h;if(r){let g=a[r];Xe(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),h=g.children}else h=t;let d=[],p=[];if(e.forEach(g=>{let _=h.find(T=>$0(g,T));_?p.push({existingRoute:_,newRoute:g}):d.push(g)}),d.length>0){let g=Cu(d,o,[r||"_","patch",String(h?.length||"0")],a);h.push(...g)}if(u&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:_,newRoute:T}=p[g],S=_,[C]=Cu([T],o,[],{},!0);Object.assign(S,{element:C.element?C.element:S.element,errorElement:C.errorElement?C.errorElement:S.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:S.hydrateFallbackElement})}}function $0(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,a)=>e.children?.some(o=>$0(t,o))):!1}var ME=new WeakMap,X0=({key:r,route:e,manifest:t,mapRouteProperties:a})=>{let o=t[e.id];if(Xe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let h=ME.get(o);h||(h={},ME.set(o,h));let d=h[r];if(d)return d;let p=(async()=>{let g=M1(r),T=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)Yt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),h[r]=Promise.resolve();else if(T)Yt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let S=await u();S!=null&&(Object.assign(o,{[r]:S}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(S=>S===void 0)&&(o.lazy=void 0))})();return h[r]=p,p},PE=new WeakMap;function dR(r,e,t,a,o){let u=t[r.id];if(Xe(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let _=PE.get(u);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let T=(async()=>{Xe(typeof r.lazy=="function","No lazy route function found");let S=await r.lazy(),C={};for(let V in S){let X=S[V];if(X===void 0)continue;let z=x1(V),se=u[V]!==void 0&&V!=="hasErrorBoundary";z?Yt(!z,"Route property "+V+" is not a supported property to be returned from a lazy route function. This property will be ignored."):se?Yt(!se,`Route "${u.id}" has a static property "${V}" defined but its lazy function is also returning a value for this property. The lazy route property "${V}" will be ignored.`):C[V]=X}Object.assign(u,C),Object.assign(u,{...a(u),lazy:void 0})})();return PE.set(u,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let h=Object.keys(r.lazy),d=[],p;for(let _ of h){if(o&&o.includes(_))continue;let T=X0({key:_,route:r,manifest:t,mapRouteProperties:a});T&&(d.push(T),_===e&&(p=T))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function xE(r){let e=r.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{t[e[u].route.id]=o}),t}async function mR(r){return r.matches.some(e=>e.route.unstable_middleware)?W0(r,()=>xE(r)):xE(r)}function W0(r,e){return pR(r,e,a=>a,SR,t);function t(a,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:a}}));{let{matches:h}=r,d=Math.min(h.findIndex(g=>g.route.id===o)||0,h.findIndex(g=>g.unstable_shouldCallHandler())||0),p=Aa(h,h[d].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function pR(r,e,t,a,o){let{matches:u,request:h,params:d,context:p}=r,g=u.flatMap(T=>T.route.unstable_middleware?T.route.unstable_middleware.map(S=>[T.route.id,S]):[]);return await Z0({request:h,params:d,context:p},g,e,t,a,o)}async function Z0(r,e,t,a,o,u,h=0){let{request:d}=r;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let p=e[h];if(!p)return await t();let[g,_]=p,T,S=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");try{return T={value:await Z0(r,e,t,a,o,u,h+1)},T.value}catch(C){return T={value:await u(C,g,T)},T.value}};try{let C=await _(r,S),V=C!=null?a(C):void 0;return o(V)?V:T?V??T.value:(T={value:await S()},T.value)}catch(C){return await u(C,g,T)}}function J0(r,e,t,a,o){let u=X0({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),h=dR(a.route,Bn(t.method)?"action":"loader",e,r,o);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function Ep(r,e,t,a,o,u,h,d=null){let p=!1,g=J0(r,e,t,a,o);return{...a,_lazyPromises:g,shouldLoad:h,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(_){return p=!0,d?typeof _=="boolean"?Wh(a,{...d,defaultShouldRevalidate:_}):Wh(a,d):h},resolve(_){return p||h||_&&!Bn(t.method)&&(a.route.lazy||a.route.loader)?yR({request:t,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:_,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Bo(r,e,t,a,o,u,h,d=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:J0(r,e,t,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ep(r,e,t,p,u,h,!0,d))}async function gR(r,e,t,a,o,u){t.some(g=>g._lazyPromises?.middleware)&&await Promise.all(t.map(g=>g._lazyPromises?.middleware));let h={request:e,params:t[0].params,context:o,matches:t},p=await r({...h,fetcherKey:a,unstable_runClientMiddleware:g=>{let _=h;return W0(_,()=>g({..._,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function yR({request:r,match:e,lazyHandlerPromise:t,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let h,d,p=Bn(r.method),g=p?"action":"loader",_=T=>{let S,C=new Promise((z,ne)=>S=ne);d=()=>S(),r.signal.addEventListener("abort",d);let V=z=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):T({request:r,params:e.params,context:u},...z!==void 0?[z]:[]),X=(async()=>{try{return{type:"data",result:await(o?o(ne=>V(ne)):V())}}catch(z){return{type:"error",result:z}}})();return Promise.race([X,C])};try{let T=p?e.route.action:e.route.loader;if(t||a)if(T){let S,[C]=await Promise.all([_(T).catch(V=>{S=V}),t,a]);if(S!==void 0)throw S;h=C}else{await t;let S=p?e.route.action:e.route.loader;if(S)[h]=await Promise.all([_(S),a]);else if(g==="action"){let C=new URL(r.url),V=C.pathname+C.search;throw Er(405,{method:r.method,pathname:V,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(T)h=await _(T);else{let S=new URL(r.url),C=S.pathname+S.search;throw Er(404,{pathname:C})}}catch(T){return{type:"error",result:T}}finally{d&&r.signal.removeEventListener("abort",d)}return h}async function _R(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function vR(r){let{result:e,type:t}=r;if(tw(e)){let a;try{a=await _R(e)}catch(o){return{type:"error",error:o}}return t==="error"?{type:"error",error:new Xh(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return t==="error"?BE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Xh(e.init?.status||500,void 0,e.data),statusCode:Du(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Du(e)?e.status:void 0}:BE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function ER(r,e,t,a,o){let u=r.headers.get("Location");if(Xe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jp(u)){let h=a.slice(0,a.findIndex(d=>d.route.id===t)+1);u=_p(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function VE(r,e,t){if(Jp(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Sr(o.pathname,t)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function Mo(r,e,t,a){let o=r.createURL(ew(e)).toString(),u={signal:t};if(a&&Bn(a.formMethod)){let{formMethod:h,formEncType:d}=a;u.method=h.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(a.json)):d==="text/plain"?u.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?u.body=Tp(a.formData):u.body=a.formData}return new Request(o,u)}function Tp(r){let e=new URLSearchParams;for(let[t,a]of r.entries())e.append(t,typeof a=="string"?a:a.name);return e}function kE(r){let e=new FormData;for(let[t,a]of r.entries())e.append(t,a);return e}function TR(r,e,t,a=!1,o=!1){let u={},h=null,d,p=!1,g={},_=t&&Jn(t[1])?t[1].error:void 0;return r.forEach(T=>{if(!(T.route.id in e))return;let S=T.route.id,C=e[S];if(Xe(!Os(C),"Cannot handle redirect results in processLoaderData"),Jn(C)){let V=C.error;if(_!==void 0&&(V=_,_=void 0),h=h||{},o)h[S]=V;else{let X=Aa(r,S);h[X.route.id]==null&&(h[X.route.id]=V)}a||(u[S]=K0),p||(p=!0,d=Du(C.error)?C.error.status:500),C.headers&&(g[S]=C.headers)}else u[S]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(d=C.statusCode),C.headers&&(g[S]=C.headers)}),_!==void 0&&t&&(h={[t[0]]:_},t[2]&&(u[t[2]]=void 0)),{loaderData:u,errors:h,statusCode:d||200,loaderHeaders:g}}function LE(r,e,t,a,o,u){let{loaderData:h,errors:d}=TR(e,t,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:_,controller:T}=p;if(T&&T.signal.aborted)return;let S=u[g];if(Xe(S,"Did not find corresponding fetcher result"),Jn(S)){let C=Aa(r.matches,_?.route.id);d&&d[C.route.id]||(d={...d,[C.route.id]:S.error}),r.fetchers.delete(g)}else if(Os(S))Xe(!1,"Unhandled fetcher revalidation redirect");else{let C=Sa(S.data);r.fetchers.set(g,C)}}),{loaderData:h,errors:d}}function UE(r,e,t,a){let o=Object.entries(e).filter(([,u])=>u!==K0).reduce((u,[h,d])=>(u[h]=d,u),{});for(let u of t){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function zE(r){return r?Jn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Aa(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function Sh(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Er(r,{pathname:e,routeId:t,method:a,type:o,message:u}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):r===403?(h="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(h="Not Found",d=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new Xh(r||500,h,new Error(d),!0)}function bh(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[a,o]=e[t];if(Os(o))return{key:a,result:o}}}function ew(r){let e=typeof r=="string"?Ka(r):r;return za({...e,hash:""})}function wR(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function SR(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,t])=>typeof e=="string"&&bR(t))}function bR(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function AR(r){return tw(r.result)&&iR.has(r.result.status)}function Jn(r){return r.type==="error"}function Os(r){return(r&&r.type)==="redirect"}function BE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function tw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function RR(r){return rR.has(r.toUpperCase())}function Bn(r){return tR.has(r.toUpperCase())}function eg(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Ph(r,e){let t=typeof e=="string"?Ka(e).search:e.search;if(r[r.length-1].route.index&&eg(t||""))return r[r.length-1];let a=G0(r);return a[a.length-1]}function jE(r){let{formMethod:e,formAction:t,formEncType:a,text:o,formData:u,json:h}=r;if(!(!e||!t||!a)){if(o!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:t,formEncType:a,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:h,text:void 0}}}function Jm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IR(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function lu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function CR(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Sa(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function DR(r,e){try{let t=r.sessionStorage.getItem(Q0);if(t){let a=JSON.parse(t);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function NR(r,e){if(e.size>0){let t={};for(let[a,o]of e)t[a]=[...o];try{r.sessionStorage.setItem(Q0,JSON.stringify(t))}catch(a){Yt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function OR(){let r,e,t=new Promise((a,o)=>{r=async u=>{a(u);try{await t}catch{}},e=async u=>{o(u);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var zs=Y.createContext(null);zs.displayName="DataRouter";var qu=Y.createContext(null);qu.displayName="DataRouterState";Y.createContext(!1);var tg=Y.createContext({isTransitioning:!1});tg.displayName="ViewTransition";var nw=Y.createContext(new Map);nw.displayName="Fetchers";var MR=Y.createContext(null);MR.displayName="Await";var ui=Y.createContext(null);ui.displayName="Navigation";var wf=Y.createContext(null);wf.displayName="Location";var ci=Y.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var ng=Y.createContext(null);ng.displayName="RouteError";function PR(r,{relative:e}={}){Xe(Fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=Y.useContext(ui),{hash:o,pathname:u,search:h}=Yu(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:ti([t,u])),a.createHref({pathname:d,search:h,hash:o})}function Fu(){return Y.useContext(wf)!=null}function Bs(){return Xe(Fu(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(wf).location}var rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iw(r){Y.useContext(ui).static||Y.useLayoutEffect(r)}function Gu(){let{isDataRoute:r}=Y.useContext(ci);return r?QR():xR()}function xR(){Xe(Fu(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(zs),{basename:e,navigator:t}=Y.useContext(ui),{matches:a}=Y.useContext(ci),{pathname:o}=Bs(),u=JSON.stringify(Wp(a)),h=Y.useRef(!1);return iw(()=>{h.current=!0}),Y.useCallback((p,g={})=>{if(Yt(h.current,rw),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Zp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ti([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}Y.createContext(null);function VR(){let{matches:r}=Y.useContext(ci),e=r[r.length-1];return e?e.params:{}}function Yu(r,{relative:e}={}){let{matches:t}=Y.useContext(ci),{pathname:a}=Bs(),o=JSON.stringify(Wp(t));return Y.useMemo(()=>Zp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function kR(r,e,t,a,o){Xe(Fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Y.useContext(ui),{matches:h}=Y.useContext(ci),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let se=T&&T.path||"";aw(g,!T||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let S=Bs(),C;C=S;let V=C.pathname||"/",X=V;if(_!=="/"){let se=_.replace(/^\//,"").split("/");X="/"+V.replace(/^\//,"").split("/").slice(se.length).join("/")}let z=ba(r,{pathname:X});return Yt(T||z!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Yt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jR(z&&z.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:ti([_,u.encodeLocation?u.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?_:ti([_,u.encodeLocation?u.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),h,t,a,o)}function LR(){let r=YR(),e=Du(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:o},t):null,h)}var UR=Y.createElement(LR,null),zR=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Y.createElement(ci.Provider,{value:this.props.routeContext},Y.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BR({routeContext:r,match:e,children:t}){let a=Y.useContext(zs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(ci.Provider,{value:r},t)}function jR(r,e=[],t=null,a=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let u=r,h=t?.errors;if(h!=null){let g=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);Xe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:S}=t,C=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||C){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,T)=>{let S,C=!1,V=null,X=null;t&&(S=h&&_.route.id?h[_.route.id]:void 0,V=_.route.errorElement||UR,d&&(p<0&&T===0?(aw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,X=null):p===T&&(C=!0,X=_.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,T+1)),ne=()=>{let se;return S?se=V:C?se=X:_.route.Component?se=Y.createElement(_.route.Component,null):_.route.element?se=_.route.element:se=g,Y.createElement(BR,{match:_,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:se})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?Y.createElement(zR,{location:t.location,revalidation:t.revalidation,component:V,error:S,children:ne(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:a}):ne()},null)}function rg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(r){let e=Y.useContext(zs);return Xe(e,rg(r)),e}function qR(r){let e=Y.useContext(qu);return Xe(e,rg(r)),e}function FR(r){let e=Y.useContext(ci);return Xe(e,rg(r)),e}function ig(r){let e=FR(r),t=e.matches[e.matches.length-1];return Xe(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function GR(){return ig("useRouteId")}function YR(){let r=Y.useContext(ng),e=qR("useRouteError"),t=ig("useRouteError");return r!==void 0?r:e.errors?.[t]}function QR(){let{router:r}=HR("useNavigate"),e=ig("useNavigate"),t=Y.useRef(!1);return iw(()=>{t.current=!0}),Y.useCallback(async(o,u={})=>{Yt(t.current,rw),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var HE={};function aw(r,e,t){!e&&!HE[r]&&(HE[r]=!0,Yt(!1,t))}var qE={};function FE(r,e){!r&&!qE[e]&&(qE[e]=!0,console.warn(e))}function KR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Yt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Y.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Yt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Y.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Yt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Y.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var $R=["HydrateFallback","hydrateFallbackElement"],XR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function WR({router:r,flushSync:e,unstable_onError:t}){let[a,o]=Y.useState(r.state),[u,h]=Y.useState(),[d,p]=Y.useState({isTransitioning:!1}),[g,_]=Y.useState(),[T,S]=Y.useState(),[C,V]=Y.useState(),X=Y.useRef(new Map),z=Y.useCallback(fe=>{o(q=>(fe.errors&&t&&Object.entries(fe.errors).forEach(([M,A])=>{q.errors?.[M]!==A&&t(A)}),fe))},[t]),ne=Y.useCallback((fe,{deletedFetchers:q,flushSync:M,viewTransitionOpts:A})=>{fe.fetchers.forEach((P,k)=>{P.data!==void 0&&X.current.set(k,P.data)}),q.forEach(P=>X.current.delete(P)),FE(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let R=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(FE(A==null||R,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!R){e&&M?e(()=>z(fe)):Y.startTransition(()=>z(fe));return}if(e&&M){e(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let P=r.window.document.startViewTransition(()=>{e(()=>z(fe))});P.finished.finally(()=>{e(()=>{_(void 0),S(void 0),h(void 0),p({isTransitioning:!1})})}),e(()=>S(P));return}T?(g&&g.resolve(),T.skipTransition(),V({state:fe,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(h(fe),p({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[r.window,e,T,g,z]);Y.useLayoutEffect(()=>r.subscribe(ne),[r,ne]),Y.useEffect(()=>{d.isTransitioning&&!d.flushSync&&_(new XR)},[d]),Y.useEffect(()=>{if(g&&u&&r.window){let fe=u,q=g.promise,M=r.window.document.startViewTransition(async()=>{Y.startTransition(()=>z(fe)),await q});M.finished.finally(()=>{_(void 0),S(void 0),h(void 0),p({isTransitioning:!1})}),S(M)}},[u,g,r.window,z]),Y.useEffect(()=>{g&&u&&a.location.key===u.location.key&&g.resolve()},[g,T,a.location,u]),Y.useEffect(()=>{!d.isTransitioning&&C&&(h(C.state),p({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),V(void 0))},[d.isTransitioning,C]);let se=Y.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:fe=>r.navigate(fe),push:(fe,q,M)=>r.navigate(fe,{state:q,preventScrollReset:M?.preventScrollReset}),replace:(fe,q,M)=>r.navigate(fe,{replace:!0,state:q,preventScrollReset:M?.preventScrollReset})}),[r]),oe=r.basename||"/",Re=Y.useMemo(()=>({router:r,navigator:se,static:!1,basename:oe,unstable_onError:t}),[r,se,oe,t]);return Y.createElement(Y.Fragment,null,Y.createElement(zs.Provider,{value:Re},Y.createElement(qu.Provider,{value:a},Y.createElement(nw.Provider,{value:X.current},Y.createElement(tg.Provider,{value:d},Y.createElement(eI,{basename:oe,location:a.location,navigationType:a.historyAction,navigator:se},Y.createElement(ZR,{routes:r.routes,future:r.future,state:a,unstable_onError:t})))))),null)}var ZR=Y.memo(JR);function JR({routes:r,future:e,state:t,unstable_onError:a}){return kR(r,void 0,t,a,e)}function eI({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:u=!1}){Xe(!Fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=Y.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Ka(t));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:S="default"}=t,C=Y.useMemo(()=>{let V=Sr(p,h);return V==null?null:{location:{pathname:V,search:g,hash:_,state:T,key:S},navigationType:a}},[h,p,g,_,T,S,a]);return Yt(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:Y.createElement(ui.Provider,{value:d},Y.createElement(wf.Provider,{children:e,value:C}))}var xh="get",Vh="application/x-www-form-urlencoded";function Sf(r){return r!=null&&typeof r.tagName=="string"}function tI(r){return Sf(r)&&r.tagName.toLowerCase()==="button"}function nI(r){return Sf(r)&&r.tagName.toLowerCase()==="form"}function rI(r){return Sf(r)&&r.tagName.toLowerCase()==="input"}function iI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function aI(r,e){return r.button===0&&(!e||e==="_self")&&!iI(r)}var Ah=null;function sI(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var oI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ep(r){return r!=null&&!oI.has(r)?(Yt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):r}function lI(r,e){let t,a,o,u,h;if(nI(r)){let d=r.getAttribute("action");a=d?Sr(d,e):null,t=r.getAttribute("method")||xh,o=ep(r.getAttribute("enctype"))||Vh,u=new FormData(r)}else if(tI(r)||rI(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(a=p?Sr(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||xh,o=ep(r.getAttribute("formenctype"))||ep(d.getAttribute("enctype"))||Vh,u=new FormData(d,r),!sI()){let{name:g,type:_,value:T}=r;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Sf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xh,a=null,o=Vh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ag(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function uI(r,e,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&Sr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function cI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fI(r,e,t){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await cI(u,t);return h.links?h.links():[]}return[]}));return gI(a.flat(1).filter(hI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function GE(r,e,t,a,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let _=a.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function dI(r,e,{includeHydrateFallback:t}={}){return mI(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function mI(r){return[...new Set(r)]}function pI(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function gI(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(pI(o));return t.has(u)||(t.add(u),a.push({key:u,link:o})),a},[])}function sw(){let r=Y.useContext(zs);return ag(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yI(){let r=Y.useContext(qu);return ag(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sg=Y.createContext(void 0);sg.displayName="FrameworkContext";function ow(){let r=Y.useContext(sg);return ag(r,"You must render this element inside a <HydratedRouter> element"),r}function _I(r,e){let t=Y.useContext(sg),[a,o]=Y.useState(!1),[u,h]=Y.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,S=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let X=ne=>{ne.forEach(se=>{h(se.isIntersecting)})},z=new IntersectionObserver(X,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[r]),Y.useEffect(()=>{if(a){let X=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(X)}}},[a]);let C=()=>{o(!0)},V=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,S,{}]:[u,S,{onFocus:uu(d,C),onBlur:uu(p,V),onMouseEnter:uu(g,C),onMouseLeave:uu(_,V),onTouchStart:uu(T,C)}]:[!1,S,{}]}function uu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function vI({page:r,...e}){let{router:t}=sw(),a=Y.useMemo(()=>ba(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?Y.createElement(TI,{page:r,matches:a,...e}):null}function EI(r){let{manifest:e,routeModules:t}=ow(),[a,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return fI(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),a}function TI({page:r,matches:e,...t}){let a=Bs(),{manifest:o,routeModules:u}=ow(),{basename:h}=sw(),{loaderData:d,matches:p}=yI(),g=Y.useMemo(()=>GE(r,e,p,o,a,"data"),[r,e,p,o,a]),_=Y.useMemo(()=>GE(r,e,p,o,a,"assets"),[r,e,p,o,a]),T=Y.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let V=new Set,X=!1;if(e.forEach(ne=>{let se=o.routes[ne.route.id];!se||!se.hasLoader||(!g.some(oe=>oe.route.id===ne.route.id)&&ne.route.id in d&&u[ne.route.id]?.shouldRevalidate||se.hasClientLoader?X=!0:V.add(ne.route.id))}),V.size===0)return[];let z=uI(r,h,"data");return X&&V.size>0&&z.searchParams.set("_routes",e.filter(ne=>V.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[z.pathname+z.search]},[h,d,a,o,g,e,r,u]),S=Y.useMemo(()=>dI(_,o),[_,o]),C=EI(_);return Y.createElement(Y.Fragment,null,T.map(V=>Y.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),S.map(V=>Y.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),C.map(({key:V,link:X})=>Y.createElement("link",{key:V,nonce:t.nonce,...X})))}function wI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lw&&(window.__reactRouterVersion="7.8.2")}catch{}function SI(r,e){return uR({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:C1({window:e?.window}),hydrationData:e?.hydrationData||bI(),routes:r,mapRouteProperties:KR,hydrationRouteProperties:$R,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function bI(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:AI(r.errors)}),r}function AI(r){if(!r)return null;let e=Object.entries(r),t={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")t[a]=new Xh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",t[a]=h}catch{}}if(t[a]==null){let u=new Error(o.message);u.stack="",t[a]=u}}else t[a]=o;return t}var uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:T,...S},C){let{basename:V}=Y.useContext(ui),X=typeof g=="string"&&uw.test(g),z,ne=!1;if(typeof g=="string"&&X&&(z=g,lw))try{let R=new URL(window.location.href),P=g.startsWith("//")?new URL(R.protocol+g):new URL(g),k=Sr(P.pathname,V);P.origin===R.origin&&k!=null?g=k+P.search+P.hash:ne=!0}catch{Yt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=PR(g,{relative:o}),[oe,Re,fe]=_I(a,S),q=DI(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:T});function M(R){e&&e(R),R.defaultPrevented||q(R)}let A=Y.createElement("a",{...S,...fe,href:z||se,onClick:ne||u?e:M,ref:wI(C,Re),target:p,"data-discover":!X&&t==="render"?"true":void 0});return oe&&!X?Y.createElement(Y.Fragment,null,A,Y.createElement(vI,{page:se})):A});Na.displayName="Link";var RI=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},_){let T=Yu(h,{relative:g.relative}),S=Bs(),C=Y.useContext(qu),{navigator:V,basename:X}=Y.useContext(ui),z=C!=null&&xI(T)&&d===!0,ne=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,se=S.pathname,oe=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(se=se.toLowerCase(),oe=oe?oe.toLowerCase():null,ne=ne.toLowerCase()),oe&&X&&(oe=Sr(oe,X)||oe);const Re=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let fe=se===ne||!o&&se.startsWith(ne)&&se.charAt(Re)==="/",q=oe!=null&&(oe===ne||!o&&oe.startsWith(ne)&&oe.charAt(ne.length)==="/"),M={isActive:fe,isPending:q,isTransitioning:z},A=fe?e:void 0,R;typeof a=="function"?R=a(M):R=[a,fe?"active":null,q?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(M):u;return Y.createElement(Na,{...g,"aria-current":A,className:R,ref:_,style:P,to:h,viewTransition:d},typeof p=="function"?p(M):p)});RI.displayName="NavLink";var II=Y.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:u,method:h=xh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...S},C)=>{let V=MI(),X=PI(d,{relative:g}),z=h.toLowerCase()==="get"?"get":"post",ne=typeof d=="string"&&uw.test(d),se=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let Re=oe.nativeEvent.submitter,fe=Re?.getAttribute("formmethod")||h;V(Re||oe.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T})};return Y.createElement("form",{ref:C,method:z,action:X,onSubmit:a?p:se,...S,"data-discover":!ne&&r==="render"?"true":void 0})});II.displayName="Form";function CI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cw(r){let e=Y.useContext(zs);return Xe(e,CI(r)),e}function DI(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Gu(),p=Bs(),g=Yu(r,{relative:u});return Y.useCallback(_=>{if(aI(_,e)){_.preventDefault();let T=t!==void 0?t:za(p)===za(g);d(r,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,a,e,r,o,u,h])}var NI=0,OI=()=>`__${String(++NI)}__`;function MI(){let{router:r}=cw("useSubmit"),{basename:e}=Y.useContext(ui),t=GR();return Y.useCallback(async(a,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=lI(a,e);if(o.navigate===!1){let _=o.fetcherKey||OI();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function PI(r,{relative:e}={}){let{basename:t}=Y.useContext(ui),a=Y.useContext(ci);Xe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Yu(r||".",{relative:e})},h=Bs();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ti([t,u.pathname])),za(u)}function xI(r,{relative:e}={}){let t=Y.useContext(tg);Xe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=cw("useViewTransitionState"),o=Yu(r,{relative:e});if(!t.isTransitioning)return!1;let u=Sr(t.currentLocation.pathname,a)||t.currentLocation.pathname,h=Sr(t.nextLocation.pathname,a)||t.nextLocation.pathname;return $h(o.pathname,h)!=null||$h(o.pathname,u)!=null}var VI=B0();function kI(r){return Y.createElement(WR,{flushSync:VI.flushSync,...r})}function LI(){return me.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:me.jsxs("div",{className:"text-center",children:[me.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Streaks for Anything"}),me.jsx("p",{className:"mb-8",children:"Build habits with friends or solo. Track your daily streaks!"}),me.jsx("div",{className:"space-x-4",children:me.jsx(Na,{to:"/auth",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Sign Up / Sign In"})})]})})}const UI=()=>{};var YE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},zI=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;p||(C=64,h||(S=64)),a.push(t[_],t[T],t[S],t[C])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new BI;const S=u<<2|d>>4;if(a.push(S),g!==64){const C=d<<4&240|g>>2;if(a.push(C),T!==64){const V=g<<6&192|T;a.push(V)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jI=function(r){const e=hw(r);return fw.encodeByteArray(e,!0)},Zh=function(r){return jI(r).replace(/\./g,"")},dw=function(r){try{return fw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=()=>HI().__FIREBASE_DEFAULTS__,FI=()=>{if(typeof process>"u"||typeof YE>"u")return;const r=YE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},GI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&dw(r[1]);return e&&JSON.parse(e)},bf=()=>{try{return UI()||qI()||FI()||GI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mw=r=>bf()?.emulatorHosts?.[r],YI=r=>{const e=mw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},pw=()=>bf()?.config,gw=r=>bf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yw(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zh(JSON.stringify(t)),Zh(JSON.stringify(h)),""].join(".")}const vu={};function $I(){const r={prod:[],emulator:[]};for(const e of Object.keys(vu))vu[e]?r.emulator.push(e):r.prod.push(e);return r}function XI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let QE=!1;function _w(r,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||vu[r]===e||vu[r]||QE)return;vu[r]=e;function t(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=$I().prod.length>0;function h(){const S=document.getElementById(a);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{QE=!0,h()},S}function _(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=XI(a),C=t("text"),V=document.getElementById(C)||document.createElement("span"),X=t("learnmore"),z=document.getElementById(X)||document.createElement("a"),ne=t("preprendIcon"),se=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const oe=S.element;d(oe),_(z,X);const Re=g();p(se,ne),oe.append(se,V,z,Re),document.body.appendChild(oe)}u?(V.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function ZI(){const r=bf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nC(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rC(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iC(){try{return typeof indexedDB=="object"}catch{return!1}}function aC(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="FirebaseError";class Hi extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=sC,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?oC(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Hi(o,d,a)}}function oC(r,e){return r.replace(lC,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const lC=/\{\$([^}]+)}/g;function uC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ps(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(KE(u)&&KE(h)){if(!Ps(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function KE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function du(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function mu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function cC(r,e){const t=new hC(r,e);return t.subscribe.bind(t)}class hC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");fC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=tp),o.error===void 0&&(o.error=tp),o.complete===void 0&&(o.complete=tp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r){return r&&r._delegate?r._delegate:r}class xs{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new QI;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pC(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:mC(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mC(r){return r===Ds?void 0:r}function pC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const yC={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},_C=We.INFO,vC={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},EC=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=vC[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class og{constructor(e){this.name=e,this._logLevel=_C,this._logHandler=EC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const TC=(r,e)=>e.some(t=>r instanceof t);let $E,XE;function wC(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SC(){return XE||(XE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vw=new WeakMap,wp=new WeakMap,Ew=new WeakMap,np=new WeakMap,lg=new WeakMap;function bC(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Pa(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&vw.set(t,r)}).catch(()=>{}),lg.set(e,r),e}function AC(r){if(wp.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});wp.set(r,e)}let Sp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return wp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ew.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pa(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function RC(r){Sp=r(Sp)}function IC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(rp(this),e,...t);return Ew.set(a,e.sort?e.sort():[e]),Pa(a)}:SC().includes(r)?function(...e){return r.apply(rp(this),e),Pa(vw.get(this))}:function(...e){return Pa(r.apply(rp(this),e))}}function CC(r){return typeof r=="function"?IC(r):(r instanceof IDBTransaction&&AC(r),TC(r,wC())?new Proxy(r,Sp):r)}function Pa(r){if(r instanceof IDBRequest)return bC(r);if(np.has(r))return np.get(r);const e=CC(r);return e!==r&&(np.set(r,e),lg.set(e,r)),e}const rp=r=>lg.get(r);function DC(r,e,{blocked:t,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=Pa(h);return a&&h.addEventListener("upgradeneeded",p=>{a(Pa(h.result),p.oldVersion,p.newVersion,Pa(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const NC=["get","getKey","getAll","getAllKeys","count"],OC=["put","add","delete","clear"],ip=new Map;function WE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ip.get(e))return ip.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=OC.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||NC.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return ip.set(e,u),u}RC(r=>({...r,get:(e,t,a)=>WE(e,t)||r.get(e,t,a),has:(e,t)=>!!WE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PC(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function PC(r){return r.getComponent()?.type==="VERSION"}const bp="@firebase/app",ZE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new og("@firebase/app"),xC="@firebase/app-compat",VC="@firebase/analytics-compat",kC="@firebase/analytics",LC="@firebase/app-check-compat",UC="@firebase/app-check",zC="@firebase/auth",BC="@firebase/auth-compat",jC="@firebase/database",HC="@firebase/data-connect",qC="@firebase/database-compat",FC="@firebase/functions",GC="@firebase/functions-compat",YC="@firebase/installations",QC="@firebase/installations-compat",KC="@firebase/messaging",$C="@firebase/messaging-compat",XC="@firebase/performance",WC="@firebase/performance-compat",ZC="@firebase/remote-config",JC="@firebase/remote-config-compat",eD="@firebase/storage",tD="@firebase/storage-compat",nD="@firebase/firestore",rD="@firebase/ai",iD="@firebase/firestore-compat",aD="firebase",sD="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",oD={[bp]:"fire-core",[xC]:"fire-core-compat",[kC]:"fire-analytics",[VC]:"fire-analytics-compat",[UC]:"fire-app-check",[LC]:"fire-app-check-compat",[zC]:"fire-auth",[BC]:"fire-auth-compat",[jC]:"fire-rtdb",[HC]:"fire-data-connect",[qC]:"fire-rtdb-compat",[FC]:"fire-fn",[GC]:"fire-fn-compat",[YC]:"fire-iid",[QC]:"fire-iid-compat",[KC]:"fire-fcm",[$C]:"fire-fcm-compat",[XC]:"fire-perf",[WC]:"fire-perf-compat",[ZC]:"fire-rc",[JC]:"fire-rc-compat",[eD]:"fire-gcs",[tD]:"fire-gcs-compat",[nD]:"fire-fst",[iD]:"fire-fst-compat",[rD]:"fire-vertex","fire-js":"fire-js",[aD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Map,lD=new Map,Rp=new Map;function JE(r,e){try{r.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Yo(r){const e=r.name;if(Rp.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,r);for(const t of Jh.values())JE(t,r);for(const t of lD.values())JE(t,r);return!0}function ug(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Tr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new Qu("app","Firebase",uD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=sD;function Tw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a={name:Ap,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw xa.create("bad-app-name",{appName:String(o)});if(t||(t=pw()),!t)throw xa.create("no-options");const u=Jh.get(o);if(u){if(Ps(t,u.options)&&Ps(a,u.config))return u;throw xa.create("duplicate-app",{appName:o})}const h=new gC(o);for(const p of Rp.values())h.addComponent(p);const d=new cD(t,a,h);return Jh.set(o,d),d}function ww(r=Ap){const e=Jh.get(r);if(!e&&r===Ap&&pw())return Tw();if(!e)throw xa.create("no-app",{appName:r});return e}function Va(r,e,t){let a=oD[r]??r;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(h.join(" "));return}Yo(new xs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="firebase-heartbeat-database",fD=1,Nu="firebase-heartbeat-store";let ap=null;function Sw(){return ap||(ap=DC(hD,fD,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Nu)}catch(t){console.warn(t)}}}}).catch(r=>{throw xa.create("idb-open",{originalErrorMessage:r.message})})),ap}async function dD(r){try{const t=(await Sw()).transaction(Nu),a=await t.objectStore(Nu).get(bw(r));return await t.done,a}catch(e){if(e instanceof Hi)Ui.warn(e.message);else{const t=xa.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(t.message)}}}async function eT(r,e){try{const a=(await Sw()).transaction(Nu,"readwrite");await a.objectStore(Nu).put(e,bw(r)),await a.done}catch(t){if(t instanceof Hi)Ui.warn(t.message);else{const a=xa.create("idb-set",{originalErrorMessage:t?.message});Ui.warn(a.message)}}}function bw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=1024,pD=30;class gD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _D(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>pD){const o=vD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tT(),{heartbeatsToSend:t,unsentEntries:a}=yD(this._heartbeatsCache.heartbeats),o=Zh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ui.warn(e),""}}}function tT(){return new Date().toISOString().substring(0,10)}function yD(r,e=mD){const t=[];let a=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),nT(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),nT(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class _D{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iC()?aC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dD(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function nT(r){return Zh(JSON.stringify({version:2,heartbeats:r})).length}function vD(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(r){Yo(new xs("platform-logger",e=>new MC(e),"PRIVATE")),Yo(new xs("heartbeat",e=>new gD(e),"PRIVATE")),Va(bp,ZE,r),Va(bp,ZE,"esm2020"),Va("fire-js","")}ED("");function Aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TD=Aw,Rw=new Qu("auth","Firebase",Aw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new og("@firebase/auth");function wD(r,...e){ef.logLevel<=We.WARN&&ef.warn(`Auth (${el}): ${r}`,...e)}function kh(r,...e){ef.logLevel<=We.ERROR&&ef.error(`Auth (${el}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,...e){throw cg(r,...e)}function ni(r,...e){return cg(r,...e)}function Iw(r,e,t){const a={...TD(),[e]:t};return new Qu("auth","Firebase",a).create(e,{appName:r.name})}function Li(r){return Iw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cg(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return Rw.create(r,...e)}function ke(r,e,...t){if(!r)throw cg(e,...t)}function Vi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw kh(e),new Error(e)}function zi(r,e){r||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){return typeof self<"u"&&self.location?.href||""}function SD(){return rT()==="http:"||rT()==="https:"}function rT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SD()||eC()||"connection"in navigator)?navigator.onLine:!0}function AD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=WI()||tC()}get(){return bD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r,e){zi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CD=new $u(3e4,6e4);function $a(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Xa(r,e,t,a,o={}){return Dw(r,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const d=Ku({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return JI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Jo(r.emulatorConfig.host)&&(g.credentials="include"),Cw.fetch()(await Nw(r,r.config.apiHost,t,d),g)})}async function Dw(r,e,t){r._canInitEmulator=!1;const a={...RD,...e};try{const o=new ND(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Rh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Rh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Rh(r,"user-disabled",h);const _=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Iw(r,_,g);Pr(r,_)}}catch(o){if(o instanceof Hi)throw o;Pr(r,"network-request-failed",{message:String(o)})}}async function Xu(r,e,t,a,o={}){const u=await Xa(r,e,t,a,o);return"mfaPendingCredential"in u&&Pr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Nw(r,e,t,a){const o=`${e}${t}?${a}`,u=r,h=u.config.emulator?hg(r.config,o):`${r.config.apiScheme}://${o}`;return ID.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function DD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ND{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(ni(this.auth,"network-request-failed")),CD.get())})}}function Rh(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=ni(r,e,a);return o.customData._tokenResponse=t,o}function iT(r){return r!==void 0&&r.enterprise!==void 0}class OD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MD(r,e){return Xa(r,"GET","/v2/recaptchaConfig",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(r,e){return Xa(r,"POST","/v1/accounts:delete",e)}async function tf(r,e){return Xa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xD(r,e=!1){const t=Zt(r),a=await t.getIdToken(e),o=fg(a);ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:a,authTime:Eu(sp(o.auth_time)),issuedAtTime:Eu(sp(o.iat)),expirationTime:Eu(sp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sp(r){return Number(r)*1e3}function fg(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const o=dw(t);return o?JSON.parse(o):(kh("Failed to decode base64 JWT payload"),null)}catch(o){return kh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function aT(r){const e=fg(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Hi&&VD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function VD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(r){const e=r.auth,t=await r.getIdToken(),a=await Ou(r,tf(e,{idToken:t}));ke(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Ow(o.providerUserInfo):[],h=UD(r.providerData,u),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function LD(r){const e=Zt(r);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UD(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Ow(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(r,e){const t=await Dw(r,{},async()=>{const a=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Nw(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return r.emulatorConfig&&Jo(r.emulatorConfig.host)&&(p.credentials="include"),Cw.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function BD(r,e){return Xa(r,"POST","/v2/accounts:revokeToken",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=aT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:u}=await zD(e,t);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:u}=t,h=new jo;return a&&(ke(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(ke(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ke(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Mr{constructor({uid:e,auth:t,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new kD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xD(this,e)}reload(){return LD(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await Ou(this,PD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:C,providerData:V,stsTokenManager:X}=t;ke(T&&X,e,"internal-error");const z=jo.fromJSON(this.name,X);ke(typeof T=="string",e,"internal-error"),Ta(a,e.name),Ta(o,e.name),ke(typeof S=="boolean",e,"internal-error"),ke(typeof C=="boolean",e,"internal-error"),Ta(u,e.name),Ta(h,e.name),Ta(d,e.name),Ta(p,e.name),Ta(g,e.name),Ta(_,e.name);const ne=new Mr({uid:T,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:C,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:z,createdAt:g,lastLoginAt:_});return V&&Array.isArray(V)&&(ne.providerData=V.map(se=>({...se}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,t,a=!1){const o=new jo;o.updateFromServerResponse(t);const u=new Mr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await nf(u),u}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];ke(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ow(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new jo;d.updateFromIdToken(a);const p=new Mr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;function ki(r){zi(r instanceof Function,"Expected a class definition");let e=sT.get(r);return e?(zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,sT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mw.type="NONE";const oT=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r,e,t){return`firebase:${r}:${e}:${t}`}class Ho{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tf(this.auth,{idToken:e}).catch(()=>{});return t?Mr._fromGetAccountInfoResponse(this.auth,t,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Ho(ki(oT),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ki(oT);const h=Lh(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){let T;if(typeof _=="string"){const S=await tf(e,{idToken:_}).catch(()=>{});if(!S)break;T=await Mr._fromGetAccountInfoResponse(e,S,_)}else T=Mr._fromJSON(e,_);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ho(u,e,a):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ho(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uw(e))return"Blackberry";if(zw(e))return"Webos";if(xw(e))return"Safari";if((e.includes("chrome/")||Vw(e))&&!e.includes("edge/"))return"Chrome";if(Lw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if(a?.length===2)return a[1]}return"Other"}function Pw(r=bn()){return/firefox\//i.test(r)}function xw(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vw(r=bn()){return/crios\//i.test(r)}function kw(r=bn()){return/iemobile/i.test(r)}function Lw(r=bn()){return/android/i.test(r)}function Uw(r=bn()){return/blackberry/i.test(r)}function zw(r=bn()){return/webos/i.test(r)}function dg(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jD(r=bn()){return dg(r)&&!!window.navigator?.standalone}function HD(){return nC()&&document.documentMode===10}function Bw(r=bn()){return dg(r)||Lw(r)||zw(r)||Uw(r)||/windows phone/i.test(r)||kw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r,e=[]){let t;switch(r){case"Browser":t=lT(bn());break;case"Worker":t=`${lT(bn())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${el}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(r,e={}){return Xa(r,"GET","/v2/passwordPolicy",$a(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=6;class YD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??GD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new qD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tf(this,{idToken:e}),a=await Mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Li(this));const t=e?Zt(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FD(this),t=new YD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await BD(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ki(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function js(r){return Zt(r)}class uT{constructor(e){this.auth=e,this.observer=null,this.addObserver=cC(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KD(r){Af=r}function Hw(r){return Af.loadJS(r)}function $D(){return Af.recaptchaEnterpriseScript}function XD(){return Af.gapiScript}function WD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ZD{constructor(){this.enterprise=new JD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class JD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const e2="recaptcha-enterprise",qw="NO_RECAPTCHA";class t2{constructor(e){this.type=e2,this.auth=js(e)}async verify(e="verify",t=!1){async function a(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{MD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new OD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;iT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(qw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(d=>{if(!t&&iT(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=$D();p.length!==0&&(p+=d),Hw(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function cT(r,e,t,a=!1,o=!1){const u=new t2(r);let h;if(o)h=qw;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Dp(r,e,t,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await cT(r,e,t,t==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await cT(r,e,t,t==="getOobCode");return a(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r,e){const t=ug(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ps(u,e??{}))return o;Pr(o,"already-initialized")}return t.initialize({options:e})}function r2(r,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(ki);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function i2(r,e,t){const a=js(r);ke(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Fw(e),{host:h,port:d}=a2(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ke(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ke(Ps(g,a.config.emulator)&&Ps(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,Jo(h)?(yw(`${u}//${h}${p}`),_w("Auth",!0)):s2()}function Fw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function a2(r){const e=Fw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:hT(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:hT(h)}}}function hT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function s2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function o2(r,e){return Xa(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(r,e){return Xu(r,"POST","/v1/accounts:signInWithPassword",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(r,e){return Xu(r,"POST","/v1/accounts:signInWithEmailLink",$a(r,e))}async function c2(r,e){return Xu(r,"POST","/v1/accounts:signInWithEmailLink",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends mg{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Mu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Mu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dp(e,t,"signInWithPassword",l2);case"emailLink":return u2(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dp(e,a,"signUpPassword",o2);case"emailLink":return c2(e,{idToken:t,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(r,e){return Xu(r,"POST","/v1/accounts:signInWithIdp",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="http://localhost";class Vs extends mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=t;if(!a||!o)return null;const h=new Vs(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,qo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:h2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function d2(r){const e=du(mu(r)).link,t=e?du(mu(e)).deep_link_id:null,a=du(mu(r)).deep_link_id;return(a?du(mu(a)).link:null)||a||t||e||r}class pg{constructor(e){const t=du(mu(e)),a=t.apiKey??null,o=t.oobCode??null,u=f2(t.mode??null);ke(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=d2(e);try{return new pg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(e,t){return Mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=pg.parseLink(t);return ke(a,"argument-error"),Mu._fromEmailAndCode(e,a.code,a.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Wu{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vs._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Ia.credential(t,a)}catch{return null}}}Ia.GOOGLE_SIGN_IN_METHOD="google.com";Ia.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Wu{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Wu{constructor(){super("twitter.com")}static credential(e,t){return Vs._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Da.credential(t,a)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(r,e){return Xu(r,"POST","/v1/accounts:signUp",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const u=await Mr._fromIdTokenResponse(e,a,o),h=fT(a);return new ks({user:u,providerId:h,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=fT(a);return new ks({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function fT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Hi{constructor(e,t,a,o){super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new rf(e,t,a,o)}}function Yw(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(r,u,e,a):u})}async function p2(r,e,t=!1){const a=await Ou(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ks._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(r,e,t=!1){const{auth:a}=r;if(Tr(a.app))return Promise.reject(Li(a));const o="reauthenticate";try{const u=await Ou(r,Yw(a,o,e,r),t);ke(u.idToken,a,"internal-error");const h=fg(u.idToken);ke(h,a,"internal-error");const{sub:d}=h;return ke(r.uid===d,a,"user-mismatch"),ks._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Pr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(r,e,t=!1){if(Tr(r.app))return Promise.reject(Li(r));const a="signIn",o=await Yw(r,a,e),u=await ks._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(u.user),u}async function y2(r,e){return Qw(js(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(r){const e=js(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _2(r,e,t){if(Tr(r.app))return Promise.reject(Li(r));const a=js(r),h=await Dp(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Kw(r),p}),d=await ks._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function v2(r,e,t){return Tr(r.app)?Promise.reject(Li(r)):y2(Zt(r),tl.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Kw(r),a})}function E2(r,e,t,a){return Zt(r).onIdTokenChanged(e,t,a)}function T2(r,e,t){return Zt(r).beforeAuthStateChanged(e,t)}function w2(r,e,t,a){return Zt(r).onAuthStateChanged(e,t,a)}function S2(r){return Zt(r).signOut()}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=1e3,A2=10;class Xw extends $w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!t&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);HD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A2):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xw.type="LOCAL";const R2=Xw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends $w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ww.type="SESSION";const Zw=Ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new Rf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await I2(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=gg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function D2(r){ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function N2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O2(){return navigator?.serviceWorker?.controller||null}function M2(){return Jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebaseLocalStorageDb",P2=1,sf="firebaseLocalStorage",tS="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function If(r,e){return r.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function x2(){const r=indexedDB.deleteDatabase(eS);return new Zu(r).toPromise()}function Np(){const r=indexedDB.open(eS,P2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(sf,{keyPath:tS})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(sf)?e(a):(a.close(),await x2(),e(await Np()))})})}async function dT(r,e,t){const a=If(r,!0).put({[tS]:e,value:t});return new Zu(a).toPromise()}async function V2(r,e){const t=If(r,!1).get(e),a=await new Zu(t).toPromise();return a===void 0?null:a.value}function mT(r,e){const t=If(r,!0).delete(e);return new Zu(t).toPromise()}const k2=800,L2=3;class nS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>L2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(M2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await N2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await dT(e,af,"1"),await mT(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>dT(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>V2(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=If(o,!1).getAll();return new Zu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nS.type="LOCAL";const U2=nS;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r,e){return e?ki(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function B2(r){return Qw(r.auth,new yg(r),r.bypassAuthState)}function j2(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),g2(t,new yg(r),r.bypassAuthState)}async function H2(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),p2(t,new yg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B2;case"linkViaPopup":case"linkViaRedirect":return H2;case"reauthViaPopup":case"reauthViaRedirect":return j2;default:Pr(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new $u(2e3,1e4);class Uo extends rS{constructor(e,t,a,o,u){super(e,t,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q2.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="pendingRedirect",Uh=new Map;class G2 extends rS{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Uh.get(this.auth._key());if(!e){try{const a=await Y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y2(r,e){const t=$2(e),a=K2(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function Q2(r,e){Uh.set(r._key(),e)}function K2(r){return ki(r._redirectPersistence)}function $2(r){return Lh(F2,r.config.apiKey,r.name)}async function X2(r,e,t=!1){if(Tr(r.app))return Promise.reject(Li(r));const a=js(r),o=z2(a,e),h=await new G2(a,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=600*1e3;class Z2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!iS(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ni(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W2&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}saveEventToCache(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}}function pT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function iS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function J2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,e={}){return Xa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nN=/^https?/;async function rN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await eN(r);for(const t of e)try{if(iN(t))return}catch{}Pr(r,"unauthorized-domain")}function iN(r){const e=Ip(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===a}if(!nN.test(t))return!1;if(tN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new $u(3e4,6e4);function gT(){const r=ri().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function sN(r){return new Promise((e,t)=>{function a(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),t(ni(r,"network-request-failed"))},timeout:aN.get()})}if(ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ri().gapi?.load)a();else{const o=WD("iframefcb");return ri()[o]=()=>{gapi.load?a():t(ni(r,"network-request-failed"))},Hw(`${XD()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw zh=null,e})}let zh=null;function oN(r){return zh=zh||sN(r),zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new $u(5e3,15e3),uN="__/auth/iframe",cN="emulator/auth/iframe",hN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dN(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?hg(e,cN):`https://${r.config.authDomain}/${uN}`,a={apiKey:e.apiKey,appName:r.name,v:el},o=fN.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${t}?${Ku(a).slice(1)}`}async function mN(r){const e=await oN(r),t=ri().gapi;return ke(t,r,"internal-error"),e.open({where:document.body,url:dN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hN,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=ni(r,"network-request-failed"),d=ri().setTimeout(()=>{u(h)},lN.get());function p(){ri().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gN=500,yN=600,_N="_blank",vN="http://localhost";class yT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EN(r,e,t,a=gN,o=yN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p={...pN,width:a.toString(),height:o.toString(),top:u,left:h},g=bn().toLowerCase();t&&(d=Vw(g)?_N:t),Pw(g)&&(e=e||vN,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[C,V])=>`${S}${C}=${V},`,"");if(jD(g)&&d!=="_self")return TN(e||"",d),new yT(null);const T=window.open(e||"",d,_);ke(T,r,"popup-blocked");try{T.focus()}catch{}return new yT(T)}function TN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="__/auth/handler",SN="emulator/auth/handler",bN=encodeURIComponent("fac");async function _T(r,e,t,a,o,u){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:el,eventId:o};if(e instanceof Gw){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",uC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Wu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${bN}=${encodeURIComponent(p)}`:"";return`${AN(r)}?${Ku(d).slice(1)}${g}`}function AN({config:r}){return r.emulator?hg(r,SN):`https://${r.authDomain}/${wN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class RN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zw,this._completeRedirectFn=X2,this._overrideRedirectResult=Q2}async _openPopup(e,t,a,o){zi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await _T(e,t,a,Ip(),o);return EN(e,u,gg())}async _openRedirect(e,t,a,o){await this._originValidation(e);const u=await _T(e,t,a,Ip(),o);return D2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(zi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await mN(e),a=new Z2(e);return t.register("authEvent",o=>(ke(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(op,{type:op},o=>{const u=o?.[0]?.[op];u!==void 0&&t(!!u),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bw()||xw()||dg()}}const IN=RN;var vT="@firebase/auth",ET="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NN(r){Yo(new xs("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;ke(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jw(r)},g=new QD(a,o,u,p);return r2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Yo(new xs("auth-internal",e=>{const t=js(e.getProvider("auth").getImmediate());return(a=>new CN(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Va(vT,ET,DN(r)),Va(vT,ET,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=300,MN=gw("authIdTokenMaxAge")||ON;let TT=null;const PN=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>MN)return;const o=t?.token;TT!==o&&(TT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xN(r=ww()){const e=ug(r,"auth");if(e.isInitialized())return e.getImmediate();const t=n2(r,{popupRedirectResolver:IN,persistence:[U2,R2,Zw]}),a=gw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=PN(u.toString());T2(t,h,()=>h(t.currentUser)),E2(t,d=>h(d))}}const o=mw("auth");return o&&i2(t,`http://${o}`),t}function VN(){return document.getElementsByTagName("head")?.[0]??document}KD({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ni("internal-error");u.customData=o,t(u)},a.type="text/javascript",a.charset="UTF-8",VN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NN("Browser");var wT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,aS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function R(){}R.prototype=A.prototype,M.D=A.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(P,k,L){for(var I=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)I[qe-2]=arguments[qe];return A.prototype[k].apply(P,I)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,A,R){R||(R=0);var P=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)P[k]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(k=0;16>k;++k)P[k]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=M.g[0],R=M.g[1],k=M.g[2];var L=M.g[3],I=A+(L^R&(k^L))+P[0]+3614090360&4294967295;A=R+(I<<7&4294967295|I>>>25),I=L+(k^A&(R^k))+P[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=k+(R^L&(A^R))+P[2]+606105819&4294967295,k=L+(I<<17&4294967295|I>>>15),I=R+(A^k&(L^A))+P[3]+3250441966&4294967295,R=k+(I<<22&4294967295|I>>>10),I=A+(L^R&(k^L))+P[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(k^A&(R^k))+P[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=k+(R^L&(A^R))+P[6]+2821735955&4294967295,k=L+(I<<17&4294967295|I>>>15),I=R+(A^k&(L^A))+P[7]+4249261313&4294967295,R=k+(I<<22&4294967295|I>>>10),I=A+(L^R&(k^L))+P[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(k^A&(R^k))+P[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=k+(R^L&(A^R))+P[10]+4294925233&4294967295,k=L+(I<<17&4294967295|I>>>15),I=R+(A^k&(L^A))+P[11]+2304563134&4294967295,R=k+(I<<22&4294967295|I>>>10),I=A+(L^R&(k^L))+P[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(k^A&(R^k))+P[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=k+(R^L&(A^R))+P[14]+2792965006&4294967295,k=L+(I<<17&4294967295|I>>>15),I=R+(A^k&(L^A))+P[15]+1236535329&4294967295,R=k+(I<<22&4294967295|I>>>10),I=A+(k^L&(R^k))+P[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^k&(A^R))+P[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=k+(A^R&(L^A))+P[11]+643717713&4294967295,k=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(k^L))+P[0]+3921069994&4294967295,R=k+(I<<20&4294967295|I>>>12),I=A+(k^L&(R^k))+P[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^k&(A^R))+P[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=k+(A^R&(L^A))+P[15]+3634488961&4294967295,k=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(k^L))+P[4]+3889429448&4294967295,R=k+(I<<20&4294967295|I>>>12),I=A+(k^L&(R^k))+P[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^k&(A^R))+P[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=k+(A^R&(L^A))+P[3]+4107603335&4294967295,k=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(k^L))+P[8]+1163531501&4294967295,R=k+(I<<20&4294967295|I>>>12),I=A+(k^L&(R^k))+P[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^k&(A^R))+P[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=k+(A^R&(L^A))+P[7]+1735328473&4294967295,k=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(k^L))+P[12]+2368359562&4294967295,R=k+(I<<20&4294967295|I>>>12),I=A+(R^k^L)+P[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^k)+P[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=k+(L^A^R)+P[11]+1839030562&4294967295,k=L+(I<<16&4294967295|I>>>16),I=R+(k^L^A)+P[14]+4259657740&4294967295,R=k+(I<<23&4294967295|I>>>9),I=A+(R^k^L)+P[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^k)+P[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=k+(L^A^R)+P[7]+4139469664&4294967295,k=L+(I<<16&4294967295|I>>>16),I=R+(k^L^A)+P[10]+3200236656&4294967295,R=k+(I<<23&4294967295|I>>>9),I=A+(R^k^L)+P[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^k)+P[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=k+(L^A^R)+P[3]+3572445317&4294967295,k=L+(I<<16&4294967295|I>>>16),I=R+(k^L^A)+P[6]+76029189&4294967295,R=k+(I<<23&4294967295|I>>>9),I=A+(R^k^L)+P[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^k)+P[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=k+(L^A^R)+P[15]+530742520&4294967295,k=L+(I<<16&4294967295|I>>>16),I=R+(k^L^A)+P[2]+3299628645&4294967295,R=k+(I<<23&4294967295|I>>>9),I=A+(k^(R|~L))+P[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~k))+P[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=k+(A^(L|~R))+P[14]+2878612391&4294967295,k=L+(I<<15&4294967295|I>>>17),I=R+(L^(k|~A))+P[5]+4237533241&4294967295,R=k+(I<<21&4294967295|I>>>11),I=A+(k^(R|~L))+P[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~k))+P[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=k+(A^(L|~R))+P[10]+4293915773&4294967295,k=L+(I<<15&4294967295|I>>>17),I=R+(L^(k|~A))+P[1]+2240044497&4294967295,R=k+(I<<21&4294967295|I>>>11),I=A+(k^(R|~L))+P[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~k))+P[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=k+(A^(L|~R))+P[6]+2734768916&4294967295,k=L+(I<<15&4294967295|I>>>17),I=R+(L^(k|~A))+P[13]+1309151649&4294967295,R=k+(I<<21&4294967295|I>>>11),I=A+(k^(R|~L))+P[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~k))+P[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=k+(A^(L|~R))+P[2]+718787259&4294967295,k=L+(I<<15&4294967295|I>>>17),I=R+(L^(k|~A))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+L&4294967295}a.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var R=A-this.blockSize,P=this.B,k=this.h,L=0;L<A;){if(k==0)for(;L<=R;)o(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<A;)if(P[k++]=M.charCodeAt(L++),k==this.blockSize){o(this,P),k=0;break}}else for(;L<A;)if(P[k++]=M[L++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=A},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var R=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=R&255,R/=256;for(this.u(M),M=Array(16),A=R=0;4>A;++A)for(var P=0;32>P;P+=8)M[R++]=this.g[A]>>>P&255;return M};function u(M,A){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=A(M)}function h(M,A){this.h=A;for(var R=[],P=!0,k=M.length-1;0<=k;k--){var L=M[k]|0;P&&L==A||(R[k]=L,P=!1)}this.g=R}var d={};function p(M){return-128<=M&&128>M?u(M,function(A){return new h([A|0],0>A?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return z(g(-M));for(var A=[],R=1,P=0;M>=R;P++)A[P]=M/R|0,R*=4294967296;return new h(A,0)}function _(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return z(_(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),P=T,k=0;k<M.length;k+=8){var L=Math.min(8,M.length-k),I=parseInt(M.substring(k,k+L),A);8>L?(L=g(Math.pow(A,L)),P=P.j(L).add(g(I))):(P=P.j(R),P=P.add(g(I)))}return P}var T=p(0),S=p(1),C=p(16777216);r=h.prototype,r.m=function(){if(X(this))return-z(this).m();for(var M=0,A=1,R=0;R<this.g.length;R++){var P=this.i(R);M+=(0<=P?P:4294967296+P)*A,A*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if(X(this))return"-"+z(this).toString(M);for(var A=g(Math.pow(M,6)),R=this,P="";;){var k=Re(R,A).g;R=ne(R,k.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=k,V(R))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function X(M){return M.h==-1}r.l=function(M){return M=ne(this,M),X(M)?-1:V(M)?0:1};function z(M){for(var A=M.g.length,R=[],P=0;P<A;P++)R[P]=~M.g[P];return new h(R,~M.h).add(S)}r.abs=function(){return X(this)?z(this):this},r.add=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],P=0,k=0;k<=A;k++){var L=P+(this.i(k)&65535)+(M.i(k)&65535),I=(L>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);P=I>>>16,L&=65535,I&=65535,R[k]=I<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ne(M,A){return M.add(z(A))}r.j=function(M){if(V(this)||V(M))return T;if(X(this))return X(M)?z(this).j(z(M)):z(z(this).j(M));if(X(M))return z(this.j(z(M)));if(0>this.l(C)&&0>M.l(C))return g(this.m()*M.m());for(var A=this.g.length+M.g.length,R=[],P=0;P<2*A;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<M.g.length;k++){var L=this.i(P)>>>16,I=this.i(P)&65535,qe=M.i(k)>>>16,et=M.i(k)&65535;R[2*P+2*k]+=I*et,se(R,2*P+2*k),R[2*P+2*k+1]+=L*et,se(R,2*P+2*k+1),R[2*P+2*k+1]+=I*qe,se(R,2*P+2*k+1),R[2*P+2*k+2]+=L*qe,se(R,2*P+2*k+2)}for(P=0;P<A;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=A;P<2*A;P++)R[P]=0;return new h(R,0)};function se(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function oe(M,A){this.g=M,this.h=A}function Re(M,A){if(V(A))throw Error("division by zero");if(V(M))return new oe(T,T);if(X(M))return A=Re(z(M),A),new oe(z(A.g),z(A.h));if(X(A))return A=Re(M,z(A)),new oe(z(A.g),A.h);if(30<M.g.length){if(X(M)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,P=A;0>=P.l(M);)R=fe(R),P=fe(P);var k=q(R,1),L=q(P,1);for(P=q(P,2),R=q(R,2);!V(P);){var I=L.add(P);0>=I.l(M)&&(k=k.add(R),L=I),P=q(P,1),R=q(R,1)}return A=ne(M,k.j(A)),new oe(k,A)}for(k=T;0<=M.l(A);){for(R=Math.max(1,Math.floor(M.m()/A.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=g(R),I=L.j(A);X(I)||0<I.l(M);)R-=P,L=g(R),I=L.j(A);V(L)&&(L=S),k=k.add(L),M=ne(M,I)}return new oe(k,M)}r.A=function(M){return Re(this,M).h},r.and=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],P=0;P<A;P++)R[P]=this.i(P)&M.i(P);return new h(R,this.h&M.h)},r.or=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],P=0;P<A;P++)R[P]=this.i(P)|M.i(P);return new h(R,this.h|M.h)},r.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],P=0;P<A;P++)R[P]=this.i(P)^M.i(P);return new h(R,this.h^M.h)};function fe(M){for(var A=M.g.length+1,R=[],P=0;P<A;P++)R[P]=M.i(P)<<1|M.i(P-1)>>>31;return new h(R,M.h)}function q(M,A){var R=A>>5;A%=32;for(var P=M.g.length-R,k=[],L=0;L<P;L++)k[L]=0<A?M.i(L+R)>>>A|M.i(L+R+1)<<32-A:M.i(L+R);return new h(k,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,aS=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ka=h}).apply(typeof wT<"u"?wT:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sS,pu,oS,Bh,Op,lS,uS,cS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=t(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in v))break e;v=v[j]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,j={next:function(){if(!b&&v<c.length){var W=v++;return{value:y(W,c[W]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function C(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function V(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,j,W){for(var de=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)de[nt-2]=arguments[nt];return y.prototype[j].apply(b,de)}}function X(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function z(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const j=c.length||0,W=b.length||0;c.length=j+W;for(let de=0;de<W;de++)c[j+de]=b[de]}else c.push(b)}}class ne{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function oe(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var fe=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function q(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)c[v]=b[v];for(let W=0;W<R.length;W++)v=R[W],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){d.setTimeout(()=>{throw c},0)}function I(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class qe{constructor(){this.h=this.g=null}add(y,v){const b=et.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var et=new ne(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,Be=new qe,O=()=>{const c=d.Promise.resolve(void 0);ce=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){L(v)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var be=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c})();function je(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(fe){e:{try{Re(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&je.aa.h.call(this)}}V(je,le);var Oe={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),yt=0;function rr(c,y,v,b,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=j,this.key=++yt,this.da=this.fa=!1}function Rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _n(c){this.src=c,this.g={},this.h=0}_n.prototype.add=function(c,y,v,b,j){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var de=hi(c,y,b,j);return-1<de?(y=c[de],v||(y.fa=!1)):(y=new rr(y,this.src,W,!!b,j),y.fa=v,c.push(y)),y};function kr(c,y){var v=y.type;if(v in c.g){var b=c.g[v],j=Array.prototype.indexOf.call(b,y,void 0),W;(W=0<=j)&&Array.prototype.splice.call(b,j,1),W&&(Rt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function hi(c,y,v,b){for(var j=0;j<c.length;++j){var W=c[j];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==b)return j}return-1}var An="closure_lm_"+(1e6*Math.random()|0),es={};function Fs(c,y,v,b,j){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Fs(c,y[W],v,b,j);return null}return v=Gi(v),c&&c[Ut]?c.K(y,v,g(b)?!!b.capture:!1,j):Rn(c,y,v,!1,b,j)}function Rn(c,y,v,b,j,W){if(!y)throw Error("Invalid event type");var de=g(j)?!!j.capture:!!j,nt=ir(c);if(nt||(c[An]=nt=new _n(c)),v=nt.add(y,v,b,de,W),v.proxy)return v;if(b=ol(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)be||(j=de),j===void 0&&(j=!1),c.addEventListener(y.toString(),b,j);else if(c.attachEvent)c.attachEvent(fi(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ol(){function c(v){return y.call(c.src,c.listener,v)}const y=br;return c}function ts(c,y,v,b,j){if(Array.isArray(y))for(var W=0;W<y.length;W++)ts(c,y[W],v,b,j);else b=g(b)?!!b.capture:!!b,v=Gi(v),c&&c[Ut]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],v=hi(W,v,b,j),-1<v&&(Rt(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=ir(c))&&(y=c.g[y.toString()],c=-1,y&&(c=hi(y,v,b,j)),(v=-1<c?y[c]:null)&&qi(v))}function qi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ut])kr(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(fi(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=ir(y))?(kr(v,c),v.h==0&&(v.src=null,y[An]=null)):Rt(c)}}}function fi(c){return c in es?es[c]:es[c]="on"+c}function br(c,y){if(c.da)c=!0;else{y=new je(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&qi(c),c=v.call(b,y)}return c}function ir(c){return c=c[An],c instanceof _n?c:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(c){return typeof c=="function"?c:(c[Fi]||(c[Fi]=function(y){return c.handleEvent(y)}),c[Fi])}function lt(){he.call(this),this.i=new _n(this),this.M=this,this.F=null}V(lt,he),lt.prototype[Ut]=!0,lt.prototype.removeEventListener=function(c,y,v,b){ts(this,c,y,v,b)};function Ge(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var j=y;y=new le(b,c),P(y,j)}if(j=!0,v)for(var W=v.length-1;0<=W;W--){var de=y.g=v[W];j=vn(de,b,!0,y)&&j}if(de=y.g=c,j=vn(de,b,!0,y)&&j,j=vn(de,b,!1,y)&&j,v)for(W=0;W<v.length;W++)de=y.g=v[W],j=vn(de,b,!1,y)&&j}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)Rt(v[b]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},lt.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function vn(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,W=0;W<y.length;++W){var de=y[W];if(de&&!de.da&&de.capture==v){var nt=de.listener,Qt=de.ha||de.src;de.fa&&kr(c.i,de),j=nt.call(Qt,b)!==!1&&j}}return j&&!b.defaultPrevented}function zt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Gs(c){c.g=zt(()=>{c.g=null,c.i&&(c.i=!1,Gs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ar extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(c){he.call(this),this.h=c,this.g={}}V(Lr,he);var Ur=[];function zr(c){q(c.g,function(y,v){this.g.hasOwnProperty(v)&&qi(y)},c),c.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),zr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=d.JSON.stringify,di=d.JSON.parse,sr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Yi(){}Yi.prototype.h=null;function mi(c){return c.h||(c.h=c.i())}function ns(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){le.call(this,"d")}V(Ar,le);function Qi(){le.call(this,"c")}V(Qi,le);var In={},Br=null;function jr(){return Br=Br||new lt}In.La="serverreachability";function Ki(c){le.call(this,In.La,c)}V(Ki,le);function N(c){const y=jr();Ge(y,new Ki(y))}In.STAT_EVENT="statevent";function B(c,y){le.call(this,In.STAT_EVENT,c),this.stat=y}V(B,le);function G(c){const y=jr();Ge(y,new B(y,c))}In.Ma="timingevent";function ie(c,y){le.call(this,In.Ma,c),this.size=y}V(ie,le);function ue(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function Ae(c,y,v,b,j,W){c.info(function(){if(c.g)if(W)for(var de="",nt=W.split("&"),Qt=0;Qt<nt.length;Qt++){var rt=nt[Qt].split("=");if(1<rt.length){var tn=rt[0];rt=rt[1];var Kt=tn.split("_");de=2<=Kt.length&&Kt[1]=="type"?de+(tn+"="+rt+"&"):de+(tn+"=redacted&")}}else de=null;else de=W;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+v+`
`+de})}function Te(c,y,v,b,j,W,de){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+v+`
`+W+" "+de})}function we(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Se(c,v)+(b?" "+b:"")})}function De(c,y){c.info(function(){return"TIMEOUT: "+y})}ye.prototype.info=function(){};function Se(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var de=1;de<j.length;de++)j[de]=""}}}}return Hn(v)}catch{return y}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tt;function dt(){}V(dt,Yi),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},tt=new dt;function ut(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}var ct={},Vn={};function ln(c,y,v){c.L=1,c.v=as(Gn(y)),c.m=v,c.P=!0,Jt(c,null)}function Jt(c,y){c.F=Date.now(),qn(c),c.A=Gn(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),fl(v.i,"t",b),c.C=0,v=c.j.J,c.h=new ze,c.g=vc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new ar(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ur[0]=j.toString()),j=Ur);for(var W=0;W<j.length;W++){var de=Fs(v,j[W],b||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),N(),Ae(c.i,c.u,c.A,c.l,c.R,c.m)}ut.prototype.ca=function(c){c=c.target;const y=this.M;y&&fr(c)==3?y.j():this.Y(c)},ut.prototype.Y=function(c){try{if(c==this.g)e:{const Kt=fr(this.g);var y=this.g.Ba();const Ti=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||Kt!=4||y==7||(y==8||0>=Ti?N(3):N(2)),Fn(this);var v=this.g.Z();this.X=v;t:if(Cn(this)){var b=hc(this.g);c="";var j=b.length,W=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Dn(this);var de="";break t}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(W&&y==j-1)});b.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=v==200,Te(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Qt=this.g;if((nt=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(nt)){var rt=nt;break t}}rt=null}if(v=rt)we(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ct(this,v);else{this.o=!1,this.s=3,G(12),Pe(this),Dn(this);break e}}if(this.P){v=!0;let cn;for(;!this.J&&this.C<de.length;)if(cn=$i(this,de),cn==Vn){Kt==4&&(this.s=4,G(14),v=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==ct){this.s=4,G(15),we(this.i,this.l,de,"[Invalid Chunk]"),v=!1;break}else we(this.i,this.l,cn,null),Ct(this,cn);if(Cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||de.length!=0||this.h.h||(this.s=1,G(16),v=!1),this.o=this.o&&v,!v)we(this.i,this.l,de,"[Invalid Chunked Response]"),Pe(this),Dn(this);else if(0<de.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),ds(tn),tn.M=!0,G(11))}}else we(this.i,this.l,de,null),Ct(this,de);Kt==4&&Pe(this),this.o&&!this.J&&(Kt==4?gc(this.j,this):(this.o=!1,qn(this)))}else Zf(this.g),v==400&&0<de.indexOf("Unknown SID")?(this.s=3,G(12)):(this.s=0,G(13)),Pe(this),Dn(this)}}}catch{}finally{}};function Cn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $i(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Vn:(v=Number(y.substring(v,b)),isNaN(v)?ct:(b+=1,b+v>y.length?Vn:(y=y.slice(b,b+v),c.C=b+v,y)))}ut.prototype.cancel=function(){this.J=!0,Pe(this)};function qn(c){c.S=Date.now()+c.I,lr(c,c.I)}function lr(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ue(S(c.ba,c),y)}function Fn(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ut.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(De(this.i,this.A),this.L!=2&&(N(),G(17)),Pe(this),this.s=2,Dn(this)):lr(this,this.S-c)};function Dn(c){c.j.G==0||c.J||gc(c.j,c)}function Pe(c){Fn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,zr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ct(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Xi(v.h,c))){if(!c.K&&Xi(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)eo(v),Zs(v);else break e;yl(v),G(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=ue(S(v.Za,v),6e3));if(1>=Ir(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ei(v,11)}else if((c.K||v.g==c)&&eo(v),!se(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let rt=j[y];if(v.T=rt[0],rt=rt[1],v.G==2)if(rt[0]=="c"){v.K=rt[1],v.ia=rt[2];const tn=rt[3];tn!=null&&(v.la=tn,v.j.info("VER="+v.la));const Kt=rt[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));const Ti=rt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(b=1.5*Ti,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const cn=c.g;if(cn){const Kr=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var W=b.h;W.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Wi(W,W.h),W.h=null))}if(b.D){const vl=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(b.ya=vl,_t(b.I,b.D,vl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var de=c;if(b.qa=_c(b,b.J?b.ia:null,b.W),de.K){Nn(b.h,de);var nt=de,Qt=b.L;Qt&&(nt.I=Qt),nt.B&&(Fn(nt),qn(nt)),b.g=de}else mc(b);0<v.i.length&&Js(v)}else rt[0]!="stop"&&rt[0]!="close"||Ei(v,7);else v.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ei(v,7):pl(v):rt[0]!="noop"&&v.l&&v.l.ta(rt),v.v=0)}}N(4)}catch{}}var Rr=class{constructor(c,y){this.g=c,this.map=y}};function un(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ir(c){return c.h?1:c.g?c.g.size:0}function Xi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Wi(c,y){c.g?c.g.add(y):c.h=y}function Nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}un.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ll(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return X(c.i)}function Kf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function Ys(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function ul(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ys(c),b=Kf(c),j=b.length,W=0;W<j;W++)y.call(void 0,b[W],v&&v[W],c)}var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $f(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),j=null;if(0<=b){var W=c[v].substring(0,b);j=c[v].substring(b+1)}else W=c[v];y(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Bt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Bt){this.h=c.h,is(this,c.j),this.o=c.o,this.g=c.g,Zi(this,c.s),this.l=c.l;var y=c.i,v=new gi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),pi(this,v),this.m=c.m}else c&&(y=String(c).match(rs))?(this.h=!1,is(this,y[1]||"",!0),this.o=ur(y[2]||""),this.g=ur(y[3]||"",!0),Zi(this,y[4]),this.l=ur(y[5]||"",!0),pi(this,y[6]||"",!0),this.m=ur(y[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}Bt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ss(y,cl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ss(y,cl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ss(v,v.charAt(0)=="/"?Xf:hl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ss(v,Qs)),c.join("")};function Gn(c){return new Bt(c)}function is(c,y,v){c.j=v?ur(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Zi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function pi(c,y,v){y instanceof gi?(c.i=y,uc(c.i,c.h)):(v||(y=ss(y,Wf)),c.i=new gi(y,c.h))}function _t(c,y,v){c.i.set(y,v)}function as(c){return _t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ur(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ss(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,lc),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var cl=/[#\/\?@]/g,hl=/[#\?:]/g,Xf=/[#\?]/g,Wf=/[#\?@]/g,Qs=/#/g;function gi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cr(c){c.g||(c.g=new Map,c.h=0,c.i&&$f(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=gi.prototype,r.add=function(c,y){cr(this),this.i=null,c=Hr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function yi(c,y){cr(c),y=Hr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function _i(c,y){return cr(c),y=Hr(c,y),c.g.has(y)}r.forEach=function(c,y){cr(this),this.g.forEach(function(v,b){v.forEach(function(j){c.call(y,j,b,this)},this)},this)},r.na=function(){cr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const j=c[b];for(let W=0;W<j.length;W++)v.push(y[b])}return v},r.V=function(c){cr(this);let y=[];if(typeof c=="string")_i(this,c)&&(y=y.concat(this.g.get(Hr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return cr(this),this.i=null,c=Hr(this,c),_i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function fl(c,y,v){yi(c,y),0<v.length&&(c.i=null,c.g.set(Hr(c,y),X(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const W=encodeURIComponent(String(b)),de=this.V(b);for(b=0;b<de.length;b++){var j=W;de[b]!==""&&(j+="="+encodeURIComponent(String(de[b]))),c.push(j)}}return this.i=c.join("&")};function Hr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function uc(c,y){y&&!c.j&&(cr(c),c.i=null,c.g.forEach(function(v,b){var j=b.toLowerCase();b!=j&&(yi(this,b),fl(this,j,v))},c)),c.j=y}function os(c,y){const v=new ye;if(d.Image){const b=new Image;b.onload=C(hr,v,"TestLoadImage: loaded",!0,y,b),b.onerror=C(hr,v,"TestLoadImage: error",!1,y,b),b.onabort=C(hr,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=C(hr,v,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Cr(c,y){const v=new ye,b=new AbortController,j=setTimeout(()=>{b.abort(),hr(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(W=>{clearTimeout(j),W.ok?hr(v,"TestPingServer: ok",!0,y):hr(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),hr(v,"TestPingServer: error",!1,y)})}function hr(c,y,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function ls(){this.g=new sr}function qr(c,y,v){const b=v||"";try{ul(c,function(j,W){let de=j;g(j)&&(de=Hn(j)),y.push(b+W+"="+encodeURIComponent(de))})}catch(j){throw y.push(b+"type="+encodeURIComponent("_badmap")),j}}function Ji(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Ji,Yi),Ji.prototype.g=function(){return new vi(this.l,this.j)},Ji.prototype.i=(function(c){return function(){return c}})({});function vi(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(vi,lt),r=vi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Fr(this):Gr(this),this.readyState==3&&dl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Fr(this))},r.Qa=function(c){this.g&&(this.response=c,Fr(this))},r.ga=function(){this.g&&Fr(this)};function Fr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ml(c){let y="";return q(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function en(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=ml(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):_t(c,y,v))}function ft(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(ft,lt);var Ks=/^https?$/i,us=["POST","PUT"];r=ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?mi(this.o):mi(tt),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){cc(this,W);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const W of b.keys())v.set(W,b.get(W));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(us,y,void 0))||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of v)this.g.setRequestHeader(W,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){cc(this,W)}};function cc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,$s(c),Yr(c)}function $s(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},r.bb=function(){Xs(this)};function Xs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||fr(c)!=4||c.Z()!=2)){if(c.u&&fr(c)==4)zt(c.Ea,0,c);else if(Ge(c,"readystatechange"),fr(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=de===0){var j=String(c.D).match(rs)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),b=!Ks.test(j?j.toLowerCase():"")}v=b}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var W=2<fr(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",$s(c)}}finally{Yr(c)}}}}function Yr(c,y){if(c.g){cs(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=b}catch{}}}function cs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function fr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),di(y)}};function hc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(c){const y={};c=(c.g&&2<=fr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(se(c[b]))continue;var v=k(c[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[j]||[];y[j]=W,W.push(v)}M(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ws(c){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,c),this.cb=hs("retryDelaySeedMs",1e4,c),this.Wa=hs("forwardChannelMaxRetries",2,c),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new un(c&&c.concurrentRequestLimit),this.Da=new ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,b){G(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=_c(this,null,this.W),Js(this)};function pl(c){if(fc(c),c.G==3){var y=c.U++,v=Gn(c.I);if(_t(v,"SID",c.K),_t(v,"RID",y),_t(v,"TYPE","terminate"),fs(c,v),y=new ut(c,c.j,y),y.L=2,y.v=as(Gn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=vc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qn(y)}yc(c)}function Zs(c){c.g&&(ds(c),c.g.cancel(),c.g=null)}function fc(c){Zs(c),c.u&&(d.clearTimeout(c.u),c.u=null),eo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Js(c){if(!bt(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||O(),ge||(ce(),ge=!0),Be.add(y,c),c.B=0}}function Jf(c,y){return Ir(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ue(S(c.Ga,c,y),_l(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ut(this,this.j,c);let W=this.o;if(this.S&&(W?(W=A(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=dc(this,j,y),v=Gn(this.I),_t(v,"RID",c),_t(v,"CVER",22),this.D&&_t(v,"X-HTTP-Session-Id",this.D),fs(this,v),W&&(this.O?y="headers="+encodeURIComponent(String(ml(W)))+"&"+y:this.m&&en(v,this.m,W)),Wi(this.h,j),this.Ua&&_t(v,"TYPE","init"),this.P?(_t(v,"$req",y),_t(v,"SID","null"),j.T=!0,ln(j,v,null)):ln(j,v,y),this.G=2}}else this.G==3&&(c?gl(this,c):this.i.length==0||bt(this.h)||gl(this))};function gl(c,y){var v;y?v=y.l:v=c.U++;const b=Gn(c.I);_t(b,"SID",c.K),_t(b,"RID",v),_t(b,"AID",c.T),fs(c,b),c.m&&c.o&&en(b,c.m,c.o),v=new ut(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=dc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Wi(c.h,v),ln(v,b,y)}function fs(c,y){c.H&&q(c.H,function(v,b){_t(y,b,v)}),c.l&&ul({},function(v,b){_t(y,b,v)})}function dc(c,y,v){v=Math.min(c.i.length,v);var b=c.l?S(c.l.Na,c.l,c):null;e:{var j=c.i;let W=-1;for(;;){const de=["count="+v];W==-1?0<v?(W=j[0].g,de.push("ofs="+W)):W=0:de.push("ofs="+W);let nt=!0;for(let Qt=0;Qt<v;Qt++){let rt=j[Qt].g;const tn=j[Qt].map;if(rt-=W,0>rt)W=Math.max(0,j[Qt].g-100),nt=!1;else try{qr(tn,de,"req"+rt+"_")}catch{b&&b(tn)}}if(nt){b=de.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function mc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||O(),ge||(ce(),ge=!0),Be.add(y,c),c.v=0}}function yl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ue(S(c.Fa,c),_l(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ue(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,G(10),Zs(this),pc(this))};function ds(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function pc(c){c.g=new ut(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Gn(c.qa);_t(y,"RID","rpc"),_t(y,"SID",c.K),_t(y,"AID",c.T),_t(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&_t(y,"TO",c.ja),_t(y,"TYPE","xmlhttp"),fs(c,y),c.m&&c.o&&en(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=as(Gn(y)),v.m=null,v.P=!0,Jt(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Zs(this),yl(this),G(19))};function eo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function gc(c,y){var v=null;if(c.g==y){eo(c),ds(c),c.g=null;var b=2}else if(Xi(c.h,y))v=y.D,Nn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;b=jr(),Ge(b,new ie(b,v)),Js(c)}else mc(c);else if(j=y.s,j==3||j==0&&0<y.X||!(b==1&&Jf(c,y)||b==2&&yl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function _l(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ei(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),b=c.Xa;const j=!b;b=new Bt(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||is(b,"https"),as(b),j?os(b.toString(),v):Cr(b.toString(),v)}else G(2);c.G=0,c.l&&c.l.sa(y),yc(c),fc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),G(2)):(this.j.info("Failed to ping google.com"),G(1))};function yc(c){if(c.G=0,c.ka=[],c.l){const y=ll(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function _c(c,y,v){var b=v instanceof Bt?Gn(v):new Bt(v);if(b.g!="")y&&(b.g=y+"."+b.g),Zi(b,b.s);else{var j=d.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var W=new Bt(null);b&&is(W,b),y&&(W.g=y),j&&Zi(W,j),v&&(W.l=v),b=W}return v=c.D,y=c.ya,v&&y&&_t(b,v,y),_t(b,"VER",c.la),fs(c,b),b}function vc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ft(new Ji({eb:v})):new ft(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ec(){}r=Ec.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function to(){}to.prototype.g=function(c,y){return new On(c,y)};function On(c,y){lt.call(this),this.g=new Ws(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qr(this)}V(On,lt),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){pl(this.g)},On.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Hn(c),c=v);y.i.push(new Rr(y.Ya++,c)),y.G==3&&Js(y)},On.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,On.aa.N.call(this)};function Tc(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Tc,Ar);function wc(){Qi.call(this),this.status=1}V(wc,Qi);function Qr(c){this.g=c}V(Qr,Ec),Qr.prototype.ua=function(){Ge(this.g,"a")},Qr.prototype.ta=function(c){Ge(this.g,new Tc(c))},Qr.prototype.sa=function(c){Ge(this.g,new wc)},Qr.prototype.ra=function(){Ge(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,cS=function(){return new to},uS=function(){return jr()},lS=In,Op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Bh=ve,He.COMPLETE="complete",oS=He,ns.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",lt.prototype.listen=lt.prototype.K,pu=ns,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,sS=ft}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const ST="@firebase/firestore",bT="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new og("@firebase/firestore");function Po(){return Ls.logLevel}function _e(r,...e){if(Ls.logLevel<=We.DEBUG){const t=e.map(_g);Ls.debug(`Firestore (${nl}): ${r}`,...t)}}function Bi(r,...e){if(Ls.logLevel<=We.ERROR){const t=e.map(_g);Ls.error(`Firestore (${nl}): ${r}`,...t)}}function Qo(r,...e){if(Ls.logLevel<=We.WARN){const t=e.map(_g);Ls.warn(`Firestore (${nl}): ${r}`,...t)}}function _g(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,hS(r,a,t)}function hS(r,e,t){let a=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Bi(a),new Error(a)}function st(r,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,r||hS(e,o,a)}function Ue(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class LN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class UN{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let u=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ii,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ii)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(st(typeof a.accessToken=="string",31837,{l:a}),new fS(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class zN{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BN{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new zN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const a=u=>{u.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,_e("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=HN(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<t&&(a+=e.charAt(o[u]%62))}return a}}function Ze(r,e){return r<e?-1:r>e?1:0}function Mp(r,e){const t=Math.min(r.length,e.length);for(let a=0;a<t;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return lp(o)===lp(u)?Ze(o,u):lp(o)?1:-1}return Ze(r.length,e.length)}const qN=55296,FN=57343;function lp(r){const e=r.charCodeAt(0);return e>=qN&&e<=FN}function Ko(r,e,t){return r.length===e.length&&r.every(((a,o)=>t(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="__name__";class ei{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Ne(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const u=ei.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ze(e.length,t.length)}static compareSegments(e,t){const a=ei.isNumericId(e),o=ei.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?ei.extractNumericId(e).compare(ei.extractNumericId(t)):Mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ka.fromString(e.substring(4,e.length-2))}}class wt extends ei{construct(e,t,a){return new wt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((o=>o.length>0)))}return new wt(t)}static emptyPath(){return new wt([])}}const GN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends ei{construct(e,t,a){return new pn(e,t,a)}static isValidIdentifier(e){return GN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RT}static keyField(){return new pn([RT])}static fromServerFormat(e){const t=[];let a="",o=0;const u=()=>{if(a.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(t)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(wt.fromString(e))}static fromName(e){return new Ce(wt.fromString(e).popFirst(5))}static empty(){return new Ce(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r,e,t){if(!t)throw new pe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function YN(r,e,t,a){if(e===!0&&a===!0)throw new pe(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function IT(r){if(!Ce.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function CT(r){if(Ce.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne(12329,{type:typeof r})}function Ba(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cf(r);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ju(r,e){if(!mS(r))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){t=`JSON missing required field: '${a}'`;break}const h=r[a];if(o&&typeof h!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${a}' field to equal '${u.value}'`;break}}if(t)throw new pe(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=-62135596800,NT=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*NT);return new It(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<DT)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NT}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ju(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Gt("string",It._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new It(0,0))}static max(){return new Ve(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=-1;function QN(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(a===1e9?new It(t+1,0):new It(t,a));return new ja(o,Ce.empty(),e)}function KN(r){return new ja(r.readTime,r.key,Pu)}class ja{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new ja(Ve.min(),Ce.empty(),Pu)}static max(){return new ja(Ve.max(),Ce.empty(),Pu)}}function $N(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(r.documentKey,e.documentKey),t!==0?t:Ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==XN)throw r;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(a,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.reject(t)}static resolve(e){return new ae(((t,a)=>{t(e)}))}static reject(e){return new ae(((t,a)=>{a(e)}))}static waitFor(e){return new ae(((t,a)=>{let o=0,u=0,h=!1;e.forEach((d=>{++o,d.next((()=>{++u,h&&u===o&&t()}),(p=>a(p)))})),h=!0,u===o&&t()}))}static or(e){let t=ae.resolve(!1);for(const a of e)t=t.next((o=>o?ae.resolve(o):a()));return t}static forEach(e,t){const a=[];return e.forEach(((o,u)=>{a.push(t.call(this,o,u))})),this.waitFor(a)}static mapArray(e,t){return new ae(((a,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((_=>{h[g]=_,++d,d===u&&a(h)}),(_=>o(_)))}}))}static doWhile(e,t){return new ae(((a,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):a()};u()}))}}function ZN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function il(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=-1;function ec(r){return r==null}function of(r){return r===0&&1/r==-1/0}function JN(r){return typeof r=="number"&&Number.isInteger(r)&&!of(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="";function eO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=OT(e)),e=tO(r.get(t),e);return OT(e)}function tO(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case pS:t+="";break;default:t+=u}}return t}function OT(r){return r+pS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Wa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function gS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||mn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?a(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,t,a,o,u){this.key=e,this.value=t,this.color=a??mn.RED,this.left=o??mn.EMPTY,this.right=u??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,u){return new mn(e??this.key,t??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,a),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,a,o,u){return this}insert(e,t,a){return new mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PT(this.data.getIterator())}getIteratorFrom(e){return new PT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class PT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new tr([])}unionWith(e){let t=new Wt(pn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yS("Invalid base64 string: "+u):u}})(e);return new yn(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const nO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(r){if(st(!!r,39018),typeof r=="string"){let e=0;const t=nO.exec(r);if(st(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qa(r){return typeof r=="string"?yn.fromBase64String(r):yn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="server_timestamp",vS="__type__",ES="__previous_value__",TS="__local_write_time__";function Tg(r){return(r?.mapValue?.fields||{})[vS]?.stringValue===_S}function Nf(r){const e=r.mapValue.fields[ES];return Tg(e)?Nf(e):e}function xu(r){const e=Ha(r.mapValue.fields[TS].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t,a,o,u,h,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const lf="(default)";class Vu{constructor(e,t){this.projectId=e,this.database=t||lf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="__type__",iO="__max__",Dh={mapValue:{}},SS="__vector__",uf="value";function Fa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tg(r)?4:sO(r)?9007199254740991:aO(r)?10:11:Ne(28295,{value:r})}function li(r,e){if(r===e)return!0;const t=Fa(r);if(t!==Fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xu(r).isEqual(xu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ha(o.timestampValue),d=Ha(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return qa(o.bytesValue).isEqual(qa(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=kt(o.doubleValue),d=kt(u.doubleValue);return h===d?of(h)===of(d):isNaN(h)&&isNaN(d)}return!1})(r,e);case 9:return Ko(r.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(MT(h)!==MT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!li(h[p],d[p])))return!1;return!0})(r,e);default:return Ne(52216,{left:r})}}function ku(r,e){return(r.values||[]).find((t=>li(t,e)))!==void 0}function $o(r,e){if(r===e)return 0;const t=Fa(r),a=Fa(e);if(t!==a)return Ze(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const d=kt(u.integerValue||u.doubleValue),p=kt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return xT(r.timestampValue,e.timestampValue);case 4:return xT(xu(r),xu(e));case 5:return Mp(r.stringValue,e.stringValue);case 6:return(function(u,h){const d=qa(u),p=qa(h);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Ze(d[g],p[g]);if(_!==0)return _}return Ze(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const d=Ze(kt(u.latitude),kt(h.latitude));return d!==0?d:Ze(kt(u.longitude),kt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return VT(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const d=u.fields||{},p=h.fields||{},g=d[uf]?.arrayValue,_=p[uf]?.arrayValue,T=Ze(g?.values?.length||0,_?.values?.length||0);return T!==0?T:VT(g,_)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Dh.mapValue&&h===Dh.mapValue)return 0;if(u===Dh.mapValue)return 1;if(h===Dh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=Mp(p[T],_[T]);if(S!==0)return S;const C=$o(d[p[T]],g[_[T]]);if(C!==0)return C}return Ze(p.length,_.length)})(r.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function xT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ze(r,e);const t=Ha(r),a=Ha(e),o=Ze(t.seconds,a.seconds);return o!==0?o:Ze(t.nanos,a.nanos)}function VT(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const u=$o(t[o],a[o]);if(u)return u}return Ze(t.length,a.length)}function Xo(r){return Pp(r)}function Pp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const a=Ha(t);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return qa(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ce.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let a="[",o=!0;for(const u of t.values||[])o?o=!1:a+=",",a+=Pp(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(t){const a=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Pp(t.fields[h])}`;return o+"}"})(r.mapValue):Ne(61005,{value:r})}function jh(r){switch(Fa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(r);return e?16+jh(e):16;case 5:return 2*r.stringValue.length;case 6:return qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+jh(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Wa(a.fields,((u,h)=>{o+=u.length+jh(h)})),o})(r.mapValue);default:throw Ne(13486,{value:r})}}function kT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xp(r){return!!r&&"integerValue"in r}function wg(r){return!!r&&"arrayValue"in r}function LT(r){return!!r&&"nullValue"in r}function UT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hh(r){return!!r&&"mapValue"in r}function aO(r){return(r?.mapValue?.fields||{})[wS]?.stringValue===SS}function Tu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Wa(r.mapValue.fields,((t,a)=>e.mapValue.fields[t]=Tu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tu(r.arrayValue.values[t]);return e}return{...r}}function sO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=pn.emptyPath(),a={},o=[];e.forEach(((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,a,o),a={},o=[],t=d.popLast()}h?a[d.lastSegment()]=Tu(h):o.push(d.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,a,o)}delete(e){const t=this.field(e.popLast());Hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];Hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){Wa(t,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Pn(Tu(this.value))}}function bS(r){const e=[];return Wa(r.fields,((t,a)=>{const o=new pn([t]);if(Hh(a)){const u=bS(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,a,o,u,h,d){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new on(e,0,Ve.min(),Ve.min(),Ve.min(),Pn.empty(),0)}static newFoundDocument(e,t,a,o){return new on(e,1,t,Ve.min(),a,o,0)}static newNoDocument(e,t){return new on(e,2,t,Ve.min(),Ve.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,Ve.min(),Ve.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t){this.position=e,this.inclusive=t}}function zT(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=Ce.comparator(Ce.fromName(h.referenceValue),t.key):a=$o(h,t.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function BT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!li(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t="asc"){this.field=e,this.dir=t}}function oO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{}class Ft extends AS{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new uO(e,t,a):t==="array-contains"?new fO(e,a):t==="in"?new dO(e,a):t==="not-in"?new mO(e,a):t==="array-contains-any"?new pO(e,a):new Ft(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new cO(e,a):new hO(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($o(t,this.value)):t!==null&&Fa(this.value)===Fa(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends AS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new xr(e,t)}matches(e){return RS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RS(r){return r.op==="and"}function IS(r){return lO(r)&&RS(r)}function lO(r){for(const e of r.filters)if(e instanceof xr)return!1;return!0}function Vp(r){if(r instanceof Ft)return r.field.canonicalString()+r.op.toString()+Xo(r.value);if(IS(r))return r.filters.map((e=>Vp(e))).join(",");{const e=r.filters.map((t=>Vp(t))).join(",");return`${r.op}(${e})`}}function CS(r,e){return r instanceof Ft?(function(a,o){return o instanceof Ft&&a.op===o.op&&a.field.isEqual(o.field)&&li(a.value,o.value)})(r,e):r instanceof xr?(function(a,o){return o instanceof xr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,h,d)=>u&&CS(h,o.filters[d])),!0):!1})(r,e):void Ne(19439)}function DS(r){return r instanceof Ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xo(t.value)}`})(r):r instanceof xr?(function(t){return t.op.toString()+" {"+t.getFilters().map(DS).join(" ,")+"}"})(r):"Filter"}class uO extends Ft{constructor(e,t,a){super(e,t,a),this.key=Ce.fromName(a.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class cO extends Ft{constructor(e,t){super(e,"in",t),this.keys=NS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hO extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=NS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function NS(r,e){return(e.arrayValue?.values||[]).map((t=>Ce.fromName(t.referenceValue)))}class fO extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&ku(t.arrayValue,this.value)}}class dO extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}}class mO extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}}class pO extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>ku(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t=null,a=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function jT(r,e=null,t=[],a=[],o=null,u=null,h=null){return new gO(r,e,t,a,o,u,h)}function Sg(r){const e=Ue(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>Vp(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),ec(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>Xo(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>Xo(a))).join(",")),e.Te=t}return e.Te}function bg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!oO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!CS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!BT(r.startAt,e.startAt)&&BT(r.endAt,e.endAt)}function kp(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t=null,a=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yO(r,e,t,a,o,u,h,d){return new al(r,e,t,a,o,u,h,d)}function Ag(r){return new al(r)}function HT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function OS(r){return r.collectionGroup!==null}function wu(r){const e=Ue(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Wt(pn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Lu(u,a))})),t.has(pn.keyField().canonicalString())||e.Ie.push(new Lu(pn.keyField(),a))}return e.Ie}function ai(r){const e=Ue(r);return e.Ee||(e.Ee=_O(e,wu(r))),e.Ee}function _O(r,e){if(r.limitType==="F")return jT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lu(o.field,u)}));const t=r.endAt?new cf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new cf(r.startAt.position,r.startAt.inclusive):null;return jT(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function Lp(r,e){const t=r.filters.concat([e]);return new al(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function hf(r,e,t){return new al(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Of(r,e){return bg(ai(r),ai(e))&&r.limitType===e.limitType}function MS(r){return`${Sg(ai(r))}|lt:${r.limitType}`}function xo(r){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((o=>DS(o))).join(", ")}]`),ec(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((o=>Xo(o))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((o=>Xo(o))).join(",")),`Target(${a})`})(ai(r))}; limitType=${r.limitType})`}function Mf(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ce.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of wu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(h,d,p){const g=zT(h,d,p);return h.inclusive?g<=0:g<0})(a.startAt,wu(a),o)||a.endAt&&!(function(h,d,p){const g=zT(h,d,p);return h.inclusive?g>=0:g>0})(a.endAt,wu(a),o))})(r,e)}function vO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function PS(r){return(e,t)=>{let a=!1;for(const o of wu(r)){const u=EO(o,e,t);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function EO(r,e,t){const a=r.field.isKeyField()?Ce.comparator(e.key,t.key):(function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?$o(p,g):Ne(42886)})(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ne(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,((t,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return gS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new Ot(Ce.comparator);function ji(){return TO}const xS=new Ot(Ce.comparator);function gu(...r){let e=xS;for(const t of r)e=e.insert(t.key,t);return e}function VS(r){let e=xS;return r.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function Ms(){return Su()}function kS(){return Su()}function Su(){return new Hs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wO=new Ot(Ce.comparator),SO=new Wt(Ce.comparator);function Je(...r){let e=SO;for(const t of r)e=e.add(t);return e}const bO=new Wt(Ze);function AO(){return bO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function LS(r){return{integerValue:""+r}}function RO(r,e){return JN(e)?LS(e):Rg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function IO(r,e,t){return r instanceof Uu?(function(o,u){const h={fields:{[vS]:{stringValue:_S},[TS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tg(u)&&(u=Nf(u)),u&&(h.fields[ES]=u),{mapValue:h}})(t,e):r instanceof zu?zS(r,e):r instanceof Bu?BS(r,e):(function(o,u){const h=US(o,u),d=qT(h)+qT(o.Ae);return xp(h)&&xp(o.Ae)?LS(d):Rg(o.serializer,d)})(r,e)}function CO(r,e,t){return r instanceof zu?zS(r,e):r instanceof Bu?BS(r,e):t}function US(r,e){return r instanceof ff?(function(a){return xp(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Uu extends Pf{}class zu extends Pf{constructor(e){super(),this.elements=e}}function zS(r,e){const t=jS(e);for(const a of r.elements)t.some((o=>li(o,a)))||t.push(a);return{arrayValue:{values:t}}}class Bu extends Pf{constructor(e){super(),this.elements=e}}function BS(r,e){let t=jS(e);for(const a of r.elements)t=t.filter((o=>!li(o,a)));return{arrayValue:{values:t}}}class ff extends Pf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function qT(r){return kt(r.integerValue||r.doubleValue)}function jS(r){return wg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t){this.field=e,this.transform=t}}function NO(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof zu&&o instanceof zu||a instanceof Bu&&o instanceof Bu?Ko(a.elements,o.elements,li):a instanceof ff&&o instanceof ff?li(a.Ae,o.Ae):a instanceof Uu&&o instanceof Uu})(r.transform,e.transform)}class OO{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xf{}function HS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ig(r.key,jn.none()):new tc(r.key,r.data,jn.none());{const t=r.data,a=Pn.empty();let o=new Wt(pn.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Za(r.key,a,new tr(o.toArray()),jn.none())}}function MO(r,e,t){r instanceof tc?(function(o,u,h){const d=o.value.clone(),p=GT(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Za?(function(o,u,h){if(!qh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=GT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(qS(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function bu(r,e,t,a){return r instanceof tc?(function(u,h,d,p){if(!qh(u.precondition,h))return d;const g=u.value.clone(),_=YT(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,t,a):r instanceof Za?(function(u,h,d,p){if(!qh(u.precondition,h))return d;const g=YT(u.fieldTransforms,p,h),_=h.data;return _.setAll(qS(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,t,a):(function(u,h,d){return qh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d})(r,e,t)}function PO(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=US(a.transform,o||null);u!=null&&(t===null&&(t=Pn.empty()),t.set(a.field,u))}return t||null}function FT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ko(a,o,((u,h)=>NO(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tc extends xf{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Za extends xf{constructor(e,t,a,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qS(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}})),e}function GT(r,e,t){const a=new Map;st(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);a.set(u.field,CO(h,d,t[o]))}return a}function YT(r,e,t){const a=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);a.set(o.field,IO(u,h,e))}return a}class Ig extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FS extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MO(u,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=bu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=bu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=kS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=HS(h,d);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ve.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((t,a)=>FT(t,a)))&&Ko(this.baseMutations,e.baseMutations,((t,a)=>FT(t,a)))}}class Cg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){st(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return wO})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Cg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,at;function GS(r){switch(r){case J.OK:return Ne(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ne(15467,{code:r})}}function YS(r){if(r===void 0)return Bi("GRPC error has no .code"),J.UNKNOWN;switch(r){case qt.OK:return J.OK;case qt.CANCELLED:return J.CANCELLED;case qt.UNKNOWN:return J.UNKNOWN;case qt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case qt.INTERNAL:return J.INTERNAL;case qt.UNAVAILABLE:return J.UNAVAILABLE;case qt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case qt.NOT_FOUND:return J.NOT_FOUND;case qt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case qt.ABORTED:return J.ABORTED;case qt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case qt.DATA_LOSS:return J.DATA_LOSS;default:return Ne(39323,{code:r})}}(at=qt||(qt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new ka([4294967295,4294967295],0);function QT(r){const e=LO().encode(r),t=new aS;return t.update(e),new Uint8Array(t.digest())}function KT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ka([t,a],0),new ka([o,u],0)]}class Dg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(a<0)throw new yu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ka.fromNumber(this.ge)}ye(e,t,a){let o=e.add(t.multiply(ka.fromNumber(a)));return o.compare(UO)===1&&(o=new ka([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=QT(e),[a,o]=KT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);if(!this.we(h))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Dg(u,o,t);return a.forEach((d=>h.insert(d))),h}insert(e){if(this.ge===0)return;const t=QT(e),[a,o]=KT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t,a,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Vf(Ve.min(),o,new Ot(Ze),ji(),Je())}}class nc{constructor(e,t,a,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new nc(a,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,a,o){this.be=e,this.removedTargetIds=t,this.key=a,this.De=o}}class QS{constructor(e,t){this.targetId=e,this.Ce=t}}class KS{constructor(e,t,a=yn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class $T{constructor(){this.ve=0,this.Fe=XT(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),a=Je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Ne(38017,{changeType:u})}})),new nc(this.Me,this.xe,e,t,a)}qe(){this.Oe=!1,this.Fe=XT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zO{constructor(e){this.Ge=e,this.ze=new Map,this.je=ji(),this.Je=Nh(),this.He=Nh(),this.Ye=new Ot(Ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,a=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(kp(u))if(a===0){const h=new Ce(u.path);this.et(t,h,on.newNoDocument(h,Ve.min()))}else st(a===1,20013,{expectedCount:a});else{const h=this._t(t);if(h!==a){const d=this.ut(e),p=d?this.ct(d,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=qa(a).toUint8Array()}catch(p){if(p instanceof yS)return Qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Dg(h,o,u)}catch(p){return Qo(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let o=0;return a.forEach((u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const d=this.ot(h);if(d){if(u.current&&kp(d.target)){const p=new Ce(d.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,on.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}}));let a=Je();this.He.forEach(((u,h)=>{let d=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Vf(e,t,this.Ye,this.je,a);return this.je=ji(),this.Je=Nh(),this.He=Nh(),this.Ye=new Ot(Ze),o}Xe(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,a),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new $T,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Wt(Ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Wt(Ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $T),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Nh(){return new Ot(Ce.comparator)}function XT(){return new Ot(Ce.comparator)}const BO={asc:"ASCENDING",desc:"DESCENDING"},jO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HO={and:"AND",or:"OR"};class qO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Up(r,e){return r.useProto3Json||ec(e)?e:{value:e}}function df(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $S(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function FO(r,e){return df(r,e.toTimestamp())}function nr(r){return st(!!r,49232),Ve.fromTimestamp((function(t){const a=Ha(t);return new It(a.seconds,a.nanos)})(r))}function Ng(r,e){return zp(r,e).canonicalString()}function zp(r,e){const t=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function XS(r){const e=wt.fromString(r);return st(nb(e),10190,{key:e.toString()}),e}function mf(r,e){return Ng(r.databaseId,e.path)}function Au(r,e){const t=XS(e);if(t.get(1)!==r.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ce(ZS(t))}function WS(r,e){return Ng(r.databaseId,e)}function GO(r){const e=XS(r);return e.length===4?wt.emptyPath():ZS(e)}function Bp(r){return new wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZS(r){return st(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function WT(r,e,t){return{name:mf(r,e),fields:t.value.mapValue.fields}}function YO(r,e){return"found"in e?(function(a,o){st(!!o.found,43571),o.found.name,o.found.updateTime;const u=Au(a,o.found.name),h=nr(o.found.updateTime),d=o.found.createTime?nr(o.found.createTime):Ve.min(),p=new Pn({mapValue:{fields:o.found.fields}});return on.newFoundDocument(u,h,d,p)})(r,e):"missing"in e?(function(a,o){st(!!o.missing,3894),st(!!o.readTime,22933);const u=Au(a,o.missing),h=nr(o.readTime);return on.newNoDocument(u,h)})(r,e):Ne(7234,{result:e})}function QO(r,e){let t;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(st(_===void 0||typeof _=="string",58123),yn.fromBase64String(_||"")):(st(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),yn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(g){const _=g.code===void 0?J.UNKNOWN:YS(g.code);return new pe(_,g.message||"")})(h);t=new KS(a,o,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Au(r,a.document.name),u=nr(a.document.updateTime),h=a.document.createTime?nr(a.document.createTime):Ve.min(),d=new Pn({mapValue:{fields:a.document.fields}}),p=on.newFoundDocument(o,u,h,d),g=a.targetIds||[],_=a.removedTargetIds||[];t=new Fh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Au(r,a.document),u=a.readTime?nr(a.readTime):Ve.min(),h=on.newNoDocument(o,u),d=a.removedTargetIds||[];t=new Fh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Au(r,a.document),u=a.removedTargetIds||[];t=new Fh([],u,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new kO(o,u),d=a.targetId;t=new QS(d,h)}}return t}function JS(r,e){let t;if(e instanceof tc)t={update:WT(r,e.key,e.value)};else if(e instanceof Ig)t={delete:mf(r,e.key)};else if(e instanceof Za)t={update:WT(r,e.key,e.data),updateMask:nM(e.fieldMask)};else{if(!(e instanceof FS))return Ne(16599,{Vt:e.type});t={verify:mf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(u,h){const d=h.transform;if(d instanceof Uu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ff)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Ne(20930,{transform:h.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ne(27497)})(r,e.precondition)),t}function KO(r,e){return r&&r.length>0?(st(e!==void 0,14353),r.map((t=>(function(o,u){let h=o.updateTime?nr(o.updateTime):nr(u);return h.isEqual(Ve.min())&&(h=nr(u)),new OO(h,o.transformResults||[])})(t,e)))):[]}function $O(r,e){return{documents:[WS(r,e.path)]}}function XO(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=WS(r,o);const u=(function(g){if(g.length!==0)return tb(xr.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:Vo(S.field),direction:JO(S.dir)}})(_)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Up(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function WO(r){let e=GO(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){st(a===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(T){const S=eb(T);return S instanceof xr&&IS(S)?S.getFilters():[S]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((S=>(function(V){return new Lu(ko(V.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,ec(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(T){const S=!!T.before,C=T.values||[];return new cf(C,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const S=!T.before,C=T.values||[];return new cf(C,S)})(t.endAt)),yO(e,o,h,u,d,"F",p,g)}function ZO(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eb(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=ko(t.unaryFilter.field);return Ft.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ko(t.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ko(t.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ko(t.unaryFilter.field);return Ft.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ft.create(ko(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return xr.create(t.compositeFilter.filters.map((a=>eb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(r):Ne(30097,{filter:r})}function JO(r){return BO[r]}function eM(r){return jO[r]}function tM(r){return HO[r]}function Vo(r){return{fieldPath:r.canonicalString()}}function ko(r){return pn.fromServerFormat(r.fieldPath)}function tb(r){return r instanceof Ft?(function(t){if(t.op==="=="){if(UT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(LT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(UT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(LT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:eM(t.op),value:t.value}}})(r):r instanceof xr?(function(t){const a=t.getFilters().map((o=>tb(o)));return a.length===1?a[0]:{compositeFilter:{op:tM(t.op),filters:a}}})(r):Ne(54877,{filter:r})}function nM(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t,a,o,u=Ve.min(),h=Ve.min(),d=yn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.yt=e}}function iM(r){const e=WO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.Cn=new sM}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ja.min())}updateCollectionGroup(e,t,a){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class sM{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Wt(wt.comparator),u=!o.has(a);return this.index[t]=o.add(a),u}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Wt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rb=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(rb,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="LruGarbageCollector",oM=1048576;function e0([r,e],[t,a]){const o=Ze(r,t);return o===0?Ze(e,a):o}class lM{constructor(e){this.Ir=e,this.buffer=new Wt(e0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();e0(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uM{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(JT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){il(t)?_e(JT,"Ignoring IndexedDB error during garbage collection: ",t):await rl(t)}await this.Vr(3e5)}))}}class cM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(Df.ce);const a=new lM(t);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.mr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(ZT)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let a,o,u,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(a=T,d=Date.now(),this.removeTargets(e,a,t)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((T=>(g=Date.now(),Po()<=We.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function hM(r,e){return new cM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.changes=new Hs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ae.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(a!==null&&bu(a.mutation,o,tr.empty(),It.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,Je()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=Je()){const o=Ms();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,a).next((u=>{let h=gu();return u.forEach(((d,p)=>{h=h.insert(d,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const a=Ms();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,Je())))}populateOverlays(e,t,a){const o=[];return a.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,d)=>{t.set(h,d)}))}))}computeViews(e,t,a,o){let u=ji();const h=Su(),d=(function(){return Su()})();return t.forEach(((p,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Za)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),bu(_.mutation,g,_.mutation.getFieldMask(),It.now())):h.set(g.key,tr.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>h.set(g,_))),t.forEach(((g,_)=>d.set(g,new dM(_,h.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const a=Su();let o=new Ot(((h,d)=>h-d)),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const d of h)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=a.get(p)||tr.empty();_=d.applyToLocalView(g,_),a.set(p,_);const T=(o.get(d.batchId)||Je()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,T=kS();_.forEach((S=>{if(!u.has(S)){const C=HS(t.get(S),a.get(S));C!==null&&T.set(S,C),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ae.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,o){return(function(h){return Ce.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-u.size):ae.resolve(Ms());let d=Pu,p=u;return h.next((g=>ae.forEach(g,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Je()))).next((_=>({batchId:d,changes:VS(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((a=>{let o=gu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const u=t.collectionGroup;let h=gu();return this.indexManager.getCollectionParents(e,u).next((d=>ae.forEach(d,(p=>{const g=(function(T,S){return new al(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((_=>{_.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,u,o)))).next((h=>{u.forEach(((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,on.newInvalidDocument(_)))}));let d=gu();return h.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&bu(_.mutation,g,tr.empty(),It.now()),Mf(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}})(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:iM(o.bundledQuery),readTime:nr(o.readTime)}})(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.overlays=new Ot(Ce.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Ms();return ae.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((o,u)=>{this.St(e,t,u)})),ae.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ae.resolve()}getOverlaysForCollection(e,t,a){const o=Ms(),u=t.length+1,h=new Ce(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let u=new Ot(((g,_)=>g-_));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=Ms(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ms(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return ae.resolve(d)}St(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new VO(t,a));let u=this.qr.get(t);u===void 0&&(u=Je(),this.qr.set(t,u)),this.qr.set(t,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.Qr=new Wt(sn.$r),this.Ur=new Wt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const a=new sn(e,t);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Gr(new sn(e,t))}zr(e,t){e.forEach((a=>this.removeReference(a,t)))}jr(e){const t=new Ce(new wt([])),a=new sn(t,e),o=new sn(t,e+1),u=[];return this.Ur.forEachInRange([a,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ce(new wt([])),a=new sn(t,e),o=new sn(t,e+1);let u=Je();return this.Ur.forEachInRange([a,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new sn(e,0),a=this.Qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class sn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ce.comparator(e.key,t.key)||Ze(e.Yr,t.Yr)}static Kr(e,t){return Ze(e.Yr,t.Yr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(sn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new xO(u,t,a,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new sn(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.ei(a),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Eg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new sn(t,0),o=new sn(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(h=>{const d=this.Xr(h.Yr);u.push(d)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Wt(Ze);return t.forEach((o=>{const u=new sn(o,0),h=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(d=>{a=a.add(d.Yr)}))})),ae.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let u=a;Ce.isDocumentKey(u)||(u=u.child(""));const h=new sn(new Ce(u),0);let d=new Wt(Ze);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),h),ae.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){st(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ae.forEach(t.mutations,(o=>{const u=new sn(o.key,t.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,t){const a=new sn(t,0),o=this.Zr.firstAfterOrEqual(a);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ae.resolve(a?a.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let a=ji();return t.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))})),ae.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let u=ji();const h=t.path,d=new Ce(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||$N(KN(_),a)<=0||(o.has(_.key)||Mf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,t,a,o){Ne(9500)}ii(e,t){return ae.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new EM(this)}getSize(e){return ae.resolve(this.size)}}class EM extends fM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.persistence=e,this.si=new Hs((t=>Sg(t)),bg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Og,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,t){return this.si.forEach(((a,o)=>t(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,a){let o=0;const u=[];return this.si.forEach(((h,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),ae.waitFor(u).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const a=this.si.get(t)||null;return ae.resolve(a)}addMatchingKeys(e,t,a){return this._i.Wr(t,a),ae.resolve()}removeMatchingKeys(e,t,a){this._i.zr(t,a);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const a=this._i.Hr(t);return ae.resolve(a)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new yM,this.referenceDelegate=e(this),this.Pi=new TM(this),this.indexManager=new aM,this.remoteDocumentCache=(function(o){return new vM(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new rM(t),this.Ii=new pM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ui[e.toKey()];return a||(a=new _M(t,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,a){_e("MemoryPersistence","Starting transaction:",e);const o=new wM(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ae.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,t))))}}class wM extends WN{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Ri=new Og,this.Vi=null}static mi(e){return new Mg(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.fi.delete(a.toString()),ae.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.fi.add(a.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(a=>{const o=Ce.fromPath(a);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((a=>{a?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class pf{constructor(e,t){this.persistence=e,this.pi=new Hs((a=>eO(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=hM(this,t)}static mi(e,t){return new pf(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((o=>a+o))))}wr(e){let t=0;return this.pr(e,(a=>{t++})).next((()=>t))}pr(e,t){return ae.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ae.resolve():t(o)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((d=>{d||(a++,u.removeEntry(h,Ve.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jh(e.data.value)),t}br(e,t,a){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ae.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Es=a,this.ds=o}static As(e,t){let a=Je(),o=Je();for(const u of t.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pg(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rC()?8:ZN(bn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,o){const u={result:null};return this.ys(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,t,o,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new SM;return this.Ss(e,t,h).next((d=>{if(u.result=d,this.Vs)return this.bs(e,t,h,d.size)}))})).next((()=>u.result))}bs(e,t,a,o){return a.documentReadCount<this.fs?(Po()<=We.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Po()<=We.DEBUG&&_e("QueryEngine","Query:",xo(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Po()<=We.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(t))):ae.resolve())}ys(e,t){if(HT(t))return ae.resolve(null);let a=ai(t);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=hf(t,null,"F"),a=ai(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const h=Je(...u);return this.ps.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,h,p.readTime)?this.ys(e,hf(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,a,o){return HT(t)||o.isEqual(Ve.min())?ae.resolve(null):this.ps.getDocuments(e,a).next((u=>{const h=this.Ds(t,u);return this.Cs(t,h,a,o)?ae.resolve(null):(Po()<=We.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(t)),this.vs(e,h,t,QN(o,Pu)).next((d=>d)))}))}Ds(e,t){let a=new Wt(PS(e));return t.forEach(((o,u)=>{Mf(e,u)&&(a=a.add(u))})),a}Cs(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,a){return Po()<=We.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",xo(t)),this.ps.getDocumentsMatchingQuery(e,t,ja.min(),a)}vs(e,t,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LocalStore",AM=3e8;class RM{constructor(e,t,a,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Ot(Ze),this.xs=new Hs((u=>Sg(u)),bg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function IM(r,e,t,a){return new RM(r,e,t,a)}async function ab(r,e){const t=Ue(r);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],d=[];let p=Je();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:d})))}))}))}function CM(r,e){const t=Ue(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const T=g.batch,S=T.keys();let C=ae.resolve();return S.forEach((V=>{C=C.next((()=>_.getEntry(p,V))).next((X=>{const z=g.docVersions.get(V);st(z!==null,48541),X.version.compareTo(z)<0&&(T.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),_.addEntry(X)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(t,a,e,u).next((()=>u.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let p=Je();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(a,o)))}))}function sb(r){const e=Ue(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function DM(r,e){const t=Ue(r),a=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;d.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,T))));let C=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(yn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,a)),o=o.insert(T,C),(function(X,z,ne){return X.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=AM?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,C,_)&&d.push(t.Pi.updateTargetData(u,C))}));let p=ji(),g=Je();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),d.push(NM(u,h,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!a.isEqual(Ve.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));d.push(_)}return ae.waitFor(d).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function NM(r,e,t){let a=Je(),o=Je();return t.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let h=ji();return t.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):_e(xg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function OM(r,e){const t=Ue(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Eg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function MM(r,e){const t=Ue(r);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return t.Pi.getTargetData(a,e).next((u=>u?(o=u,ae.resolve(o)):t.Pi.allocateTargetId(a).next((h=>(o=new Oa(e,h,"TargetPurposeListen",a.currentSequenceNumber),t.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=t.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(a.targetId,a),t.xs.set(e,a.targetId)),a}))}async function jp(r,e,t){const a=Ue(r),o=a.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!il(h))throw h;_e(xg,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function t0(r,e,t){const a=Ue(r);let o=Ve.min(),u=Je();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,_){const T=Ue(p),S=T.xs.get(_);return S!==void 0?ae.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,_)})(a,h,ai(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,d.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(h,e,t?o:Ve.min(),t?u:Je()))).next((d=>(PM(a,vO(e),d),{documents:d,Qs:u})))))}function PM(r,e,t){let a=r.Os.get(e)||Ve.min();t.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class n0{constructor(){this.activeTargetIds=AO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xM{constructor(){this.Mo=new n0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,a){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new n0,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="ConnectivityMonitor";class i0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(r0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(r0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function Hp(){return Oh===null?Oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="RestConnection",kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===lf?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,t,a,o,u){const h=Hp(),d=this.zo(e,t.toUriEncodedString());_e(up,`Sending RPC '${e}' ${h}:`,d,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),_=Jo(g);return this.Jo(e,d,p,a,_).then((T=>(_e(up,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Qo(up,`RPC '${e}' ${h} failed with error: `,T,"url: ",d,"request:",a),T}))}Ho(e,t,a,o,u,h){return this.Go(e,t,a,o,u)}jo(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const a=kM[e];return`${this.Uo}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class zM extends LM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,o,u){const h=Hp();return new Promise(((d,p)=>{const g=new sS;g.setWithCredentials(!0),g.listenOnce(oS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Bh.NO_ERROR:const T=g.getResponseJson();_e(wn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case Bh.TIMEOUT:_e(wn,`RPC '${e}' ${h} timed out`),p(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const S=g.getStatus();if(_e(wn,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C?.error;if(V&&V.status&&V.message){const X=(function(ne){const se=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(se)>=0?se:J.UNKNOWN})(V.status);p(new pe(X,V.message))}else p(new pe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_e(wn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);_e(wn,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,a,15)}))}T_(e,t,a){const o=Hp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=cS(),d=uS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const _=u.join("");_e(wn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=h.createWebChannel(_,p);this.I_(T);let S=!1,C=!1;const V=new UM({Yo:z=>{C?_e(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(_e(wn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),_e(wn,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),X=(z,ne,se)=>{z.listen(ne,(oe=>{try{se(oe)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return X(T,pu.EventType.OPEN,(()=>{C||(_e(wn,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),X(T,pu.EventType.CLOSE,(()=>{C||(C=!0,_e(wn,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(T))})),X(T,pu.EventType.ERROR,(z=>{C||(C=!0,Qo(wn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),V.a_(new pe(J.UNAVAILABLE,"The operation could not be completed")))})),X(T,pu.EventType.MESSAGE,(z=>{if(!C){const ne=z.data[0];st(!!ne,16349);const se=ne,oe=se?.error||se[0]?.error;if(oe){_e(wn,`RPC '${e}' stream ${o} received error:`,oe);const Re=oe.status;let fe=(function(A){const R=qt[A];if(R!==void 0)return YS(R)})(Re),q=oe.message;fe===void 0&&(fe=J.INTERNAL,q="Unknown error status: "+Re+" with message "+oe.message),C=!0,V.a_(new pe(fe,q)),T.close()}else _e(wn,`RPC '${e}' stream ${o} received:`,ne),V.u_(ne)}})),X(d,lS.STAT_EVENT,(z=>{z.stat===Op.PROXY?_e(wn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Op.NOPROXY&&_e(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(r){return new qO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-a);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="PersistentStream";class ob{constructor(e,t,a,o,u,h,d,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Bi(t.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===t&&this.G_(a,o)}),(a=>{e((()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,t){const a=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(a0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(_e(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BM extends ob{constructor(e,t,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=QO(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ve.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ve.min():h.readTime?nr(h.readTime):Ve.min()})(e);return this.listener.H_(t,a)}Y_(e){const t={};t.database=Bp(this.serializer),t.addTarget=(function(u,h){let d;const p=h.target;if(d=kp(p)?{documents:$O(u,p)}:{query:XO(u,p).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=$S(u,h.resumeToken);const g=Up(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ve.min())>0){d.readTime=df(u,h.snapshotVersion.toTimestamp());const g=Up(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const a=ZO(this.serializer,e);a&&(t.labels=a),this.q_(t)}Z_(e){const t={};t.database=Bp(this.serializer),t.removeTarget=e,this.q_(t)}}class jM extends ob{constructor(e,t,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=KO(e.writeResults,e.commitTime),a=nr(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=Bp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>JS(this.serializer,a)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{}class qM extends HM{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,zp(t,a),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(J.UNKNOWN,u.toString())}))}Ho(e,t,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Ho(e,zp(t,a),o,h,d,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bi(t),this.aa=!1):_e("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class GM{constructor(e,t,a,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{a.enqueueAndForget((async()=>{qs(this)&&(_e(Us,"Restarting streams for network reachability change."),await(async function(p){const g=Ue(p);g.Ea.add(4),await rc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Lf(g)})(this))}))})),this.Ra=new FM(a,o)}}async function Lf(r){if(qs(r))for(const e of r.da)await e(!0)}async function rc(r){for(const e of r.da)await e(!1)}function lb(r,e){const t=Ue(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),zg(t)?Ug(t):sl(t).O_()&&Lg(t,e))}function kg(r,e){const t=Ue(r),a=sl(t);t.Ia.delete(e),a.O_()&&ub(t,e),t.Ia.size===0&&(a.O_()?a.L_():qs(t)&&t.Ra.set("Unknown"))}function Lg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(r).Y_(e)}function ub(r,e){r.Va.Ue(e),sl(r).Z_(e)}function Ug(r){r.Va=new zO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),sl(r).start(),r.Ra.ua()}function zg(r){return qs(r)&&!sl(r).x_()&&r.Ia.size>0}function qs(r){return Ue(r).Ea.size===0}function cb(r){r.Va=void 0}async function YM(r){r.Ra.set("Online")}async function QM(r){r.Ia.forEach(((e,t)=>{Lg(r,e)}))}async function KM(r,e){cb(r),zg(r)?(r.Ra.ha(e),Ug(r)):r.Ra.set("Unknown")}async function $M(r,e,t){if(r.Ra.set("Online"),e instanceof KS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))})(r,e)}catch(a){_e(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await gf(r,a)}else if(e instanceof Fh?r.Va.Ze(e):e instanceof QS?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ve.min()))try{const a=await sb(r.localStore);t.compareTo(a)>=0&&await(function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,h))}})),d.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(yn.EMPTY_BYTE_STRING,_.snapshotVersion)),ub(u,p);const T=new Oa(_.target,p,g,_.sequenceNumber);Lg(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(a){_e(Us,"Failed to raise snapshot:",a),await gf(r,a)}}async function gf(r,e,t){if(!il(e))throw e;r.Ea.add(1),await rc(r),r.Ra.set("Offline"),t||(t=()=>sb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{_e(Us,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Lf(r)}))}function hb(r,e){return e().catch((t=>gf(r,t,e)))}async function Uf(r){const e=Ue(r),t=Ga(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Eg;for(;XM(e);)try{const o=await OM(e.localStore,a);if(o===null){e.Ta.length===0&&t.L_();break}a=o.batchId,WM(e,o)}catch(o){await gf(e,o)}fb(e)&&db(e)}function XM(r){return qs(r)&&r.Ta.length<10}function WM(r,e){r.Ta.push(e);const t=Ga(r);t.O_()&&t.X_&&t.ea(e.mutations)}function fb(r){return qs(r)&&!Ga(r).x_()&&r.Ta.length>0}function db(r){Ga(r).start()}async function ZM(r){Ga(r).ra()}async function JM(r){const e=Ga(r);for(const t of r.Ta)e.ea(t.mutations)}async function eP(r,e,t){const a=r.Ta.shift(),o=Cg.from(a,e,t);await hb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Uf(r)}async function tP(r,e){e&&Ga(r).X_&&await(async function(a,o){if((function(h){return GS(h)&&h!==J.ABORTED})(o.code)){const u=a.Ta.shift();Ga(a).B_(),await hb(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Uf(a)}})(r,e),fb(r)&&db(r)}async function s0(r,e){const t=Ue(r);t.asyncQueue.verifyOperationInProgress(),_e(Us,"RemoteStore received new credentials");const a=qs(t);t.Ea.add(3),await rc(t),a&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lf(t)}async function nP(r,e){const t=Ue(r);e?(t.Ea.delete(2),await Lf(t)):e||(t.Ea.add(2),await rc(t),t.Ra.set("Unknown"))}function sl(r){return r.ma||(r.ma=(function(t,a,o){const u=Ue(t);return u.sa(),new BM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:YM.bind(null,r),t_:QM.bind(null,r),r_:KM.bind(null,r),H_:$M.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zg(r)?Ug(r):r.Ra.set("Unknown")):(await r.ma.stop(),cb(r))}))),r.ma}function Ga(r){return r.fa||(r.fa=(function(t,a,o){const u=Ue(t);return u.sa(),new jM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZM.bind(null,r),r_:tP.bind(null,r),ta:JM.bind(null,r),na:eP.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Uf(r)):(await r.fa.stop(),r.Ta.length>0&&(_e(Us,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,a,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,u){const h=Date.now()+a,d=new Bg(e,t,h,o,u);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(r,e){if(Bi("AsyncQueue",`${e}: ${r}`),il(r))return new pe(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Ce.comparator(t.key,a.key):(t,a)=>Ce.comparator(t.key,a.key),this.keyedMap=gu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Fo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.ga=new Ot(Ce.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class Zo{constructor(e,t,a,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,u){const h=[];return t.forEach((d=>{h.push({type:0,doc:d})})),new Zo(e,t,Fo.emptySet(t),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iP{constructor(){this.queries=l0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=Ue(t),u=o.queries;o.queries=l0(),u.forEach(((h,d)=>{for(const p of d.Sa)p.onError(a)}))})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function l0(){return new Hs((r=>MS(r)),Of)}async function mb(r,e){const t=Ue(r);let a=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new rP,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=jg(h,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Hg(t)}async function pb(r,e){const t=Ue(r),a=e.query;let o=3;const u=t.queries.get(a);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function aP(r,e){const t=Ue(r);let a=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(a=!0);h.wa=o}}a&&Hg(t)}function sP(r,e,t){const a=Ue(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);a.queries.delete(e)}function Hg(r){r.Ca.forEach((e=>{e.next()}))}var qp,u0;(u0=qp||(qp={})).Ma="default",u0.Cache="cache";class gb{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Zo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.key=e}}class _b{constructor(e){this.key=e}}class oP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=PS(e),this.tu=new Fo(this.eu)}get nu(){return this.Ya}ru(e,t){const a=t?t.iu:new o0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const S=o.get(_),C=Mf(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),X=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let z=!1;S&&C?S.data.isEqual(C.data)?V!==X&&(a.track({type:3,doc:C}),z=!0):this.su(S,C)||(a.track({type:2,doc:C}),z=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!S&&C?(a.track({type:0,doc:C}),z=!0):S&&!C&&(a.track({type:1,doc:S}),z=!0,(p||g)&&(d=!0)),z&&(C?(h=h.add(C),u=X?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{tu:h,iu:a,Cs:d,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,T)=>(function(C,V){const X=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:z})}};return X(C)-X(V)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(a),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Zo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const t=[];return e.forEach((a=>{this.Xa.has(a)||t.push(new _b(a))})),this.Xa.forEach((a=>{e.has(a)||t.push(new yb(a))})),t}cu(e){this.Ya=e.Qs,this.Xa=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qg="SyncEngine";class lP{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class uP{constructor(e){this.key=e,this.hu=!1}}class cP{constructor(e,t,a,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Hs((d=>MS(d)),Of),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ce.comparator),this.Au=new Map,this.Ru=new Og,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hP(r,e,t=!0){const a=bb(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await vb(a,e,t,!0),o}async function fP(r,e){const t=bb(r);await vb(t,e,!0,!1)}async function vb(r,e,t,a){const o=await MM(r.localStore,ai(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return a&&(d=await dP(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&lb(r.remoteStore,o),d}async function dP(r,e,t,a,o){r.pu=(T,S,C)=>(async function(X,z,ne,se){let oe=z.view.ru(ne);oe.Cs&&(oe=await t0(X.localStore,z.query,!1).then((({documents:M})=>z.view.ru(M,oe))));const Re=se&&se.targetChanges.get(z.targetId),fe=se&&se.targetMismatches.get(z.targetId)!=null,q=z.view.applyChanges(oe,X.isPrimaryClient,Re,fe);return h0(X,z.targetId,q.au),q.snapshot})(r,T,S,C);const u=await t0(r.localStore,e,!0),h=new oP(e,u.Qs),d=h.ru(u.documents),p=nc.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);h0(r,t,g.au);const _=new lP(e,t,h);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function mP(r,e,t){const a=Ue(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((h=>!Of(h,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await jp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),t&&kg(a.remoteStore,o.targetId),Fp(a,o.targetId)})).catch(rl)):(Fp(a,o.targetId),await jp(a.localStore,o.targetId,!0))}async function pP(r,e){const t=Ue(r),a=t.Tu.get(e),o=t.Iu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),kg(t.remoteStore,a.targetId))}async function gP(r,e,t){const a=SP(r);try{const o=await(function(h,d){const p=Ue(h),g=It.now(),_=d.reduce(((C,V)=>C.add(V.key)),Je());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let V=ji(),X=Je();return p.Ns.getEntries(C,_).next((z=>{V=z,V.forEach(((ne,se)=>{se.isValidDocument()||(X=X.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,V))).next((z=>{T=z;const ne=[];for(const se of d){const oe=PO(se,T.get(se.key).overlayedDocument);oe!=null&&ne.push(new Za(se.key,oe,bS(oe.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,ne,d)})).next((z=>{S=z;const ne=z.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(C,z.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:VS(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(h,d,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new Ot(Ze)),g=g.insert(d,p),h.Vu[h.currentUser.toKey()]=g})(a,o.batchId,t),await ic(a,o.changes),await Uf(a.remoteStore)}catch(o){const u=jg(o,"Failed to persist write");t.reject(u)}}async function Eb(r,e){const t=Ue(r);try{const a=await DM(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?st(h.hu,14607):o.removedDocuments.size>0&&(st(h.hu,42227),h.hu=!1))})),await ic(t,a,e)}catch(a){await rl(a)}}function c0(r,e,t){const a=Ue(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Tu.forEach(((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(h,d){const p=Ue(h);p.onlineState=d;let g=!1;p.queries.forEach(((_,T)=>{for(const S of T.Sa)S.va(d)&&(g=!0)})),g&&Hg(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function yP(r,e,t){const a=Ue(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Au.get(e),u=o&&o.key;if(u){let h=new Ot(Ce.comparator);h=h.insert(u,on.newNoDocument(u,Ve.min()));const d=Je().add(u),p=new Vf(Ve.min(),new Map,new Ot(Ze),h,d);await Eb(a,p),a.du=a.du.remove(u),a.Au.delete(e),Fg(a)}else await jp(a.localStore,e,!1).then((()=>Fp(a,e,t))).catch(rl)}async function _P(r,e){const t=Ue(r),a=e.batch.batchId;try{const o=await CM(t.localStore,e);wb(t,a,null),Tb(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await ic(t,o)}catch(o){await rl(o)}}async function vP(r,e,t){const a=Ue(r);try{const o=await(function(h,d){const p=Ue(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(st(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(a.localStore,e);wb(a,e,t),Tb(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await ic(a,o)}catch(o){await rl(o)}}function Tb(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function wb(r,e,t){const a=Ue(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Fp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),t&&r.Pu.yu(a,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||Sb(r,a)}))}function Sb(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(kg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Fg(r))}function h0(r,e,t){for(const a of t)a instanceof yb?(r.Ru.addReference(a.key,e),EP(r,a)):a instanceof _b?(_e(qg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Sb(r,a.key)):Ne(19791,{wu:a})}function EP(r,e){const t=e.key,a=t.path.canonicalString();r.du.get(t)||r.Eu.has(a)||(_e(qg,"New document in limbo: "+t),r.Eu.add(a),Fg(r))}function Fg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ce(wt.fromString(e)),a=r.fu.next();r.Au.set(a,new uP(t)),r.du=r.du.insert(t,a),lb(r.remoteStore,new Oa(ai(Ag(t.path)),a,"TargetPurposeLimboResolution",Df.ce))}}async function ic(r,e,t){const a=Ue(r),o=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((d,p)=>{h.push(a.pu(p,e,t).then((g=>{if((g||t)&&a.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Pg.As(p.targetId,g);u.push(_)}})))})),await Promise.all(h),a.Pu.H_(o),await(async function(p,g){const _=Ue(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ae.forEach(g,(S=>ae.forEach(S.Es,(C=>_.persistence.referenceDelegate.addReference(T,S.targetId,C))).next((()=>ae.forEach(S.ds,(C=>_.persistence.referenceDelegate.removeReference(T,S.targetId,C)))))))))}catch(T){if(!il(T))throw T;_e(xg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const C=_.Ms.get(S),V=C.snapshotVersion,X=C.withLastLimboFreeSnapshotVersion(V);_.Ms=_.Ms.insert(S,X)}}})(a.localStore,u))}async function TP(r,e){const t=Ue(r);if(!t.currentUser.isEqual(e)){_e(qg,"User change. New user:",e.toKey());const a=await ab(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new pe(J.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ic(t,a.Ls)}}function wP(r,e){const t=Ue(r),a=t.Au.get(e);if(a&&a.hu)return Je().add(a.key);{let o=Je();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const d=t.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function bb(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yP.bind(null,e),e.Pu.H_=aP.bind(null,e.eventManager),e.Pu.yu=sP.bind(null,e.eventManager),e}function SP(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_P.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vP.bind(null,e),e}class yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return IM(this.persistence,new bM,e.initialUser,this.serializer)}Cu(e){return new ib(Mg.mi,this.serializer)}Du(e){return new xM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yf.provider={build:()=>new yf};class bP extends yf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){st(this.persistence.referenceDelegate instanceof pf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new uM(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new ib((a=>pf.mi(a,t)),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>c0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=TP.bind(null,this.syncEngine),await nP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iP})()}createDatastore(e){const t=kf(e.databaseInfo.databaseId),a=(function(u){return new zM(u)})(e.databaseInfo);return(function(u,h,d,p){return new qM(u,h,d,p)})(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,o,u,h,d){return new GM(a,o,u,h,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>c0(this.syncEngine,t,0)),(function(){return i0.v()?new i0:new VM})())}createSyncEngine(e,t){return(function(o,u,h,d,p,g,_){const T=new cP(o,u,h,d,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const a=Ue(t);_e(Us,"RemoteStore shutting down."),a.Ea.add(5),await rc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new pe(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,u){const h=Ue(o),d={documents:u.map((T=>mf(h.serializer,T)))},p=await h.Ho("BatchGetDocuments",h.serializer.databaseId,wt.emptyPath(),d,u.length),g=new Map;p.forEach((T=>{const S=YO(h.serializer,T);g.set(S.key.toString(),S)}));const _=[];return u.forEach((T=>{const S=g.get(T.toString());st(!!S,55234,{key:T}),_.push(S)})),_})(this.datastore,e);return t.forEach((a=>this.recordVersion(a))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ig(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,a)=>{const o=Ce.fromPath(a);this.mutations.push(new FS(o,this.precondition(o)))})),await(async function(a,o){const u=Ue(a),h={writes:o.map((d=>JS(u.serializer,d)))};await u.Go("Commit",u.serializer.databaseId,wt.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ne(50498,{Gu:e.constructor.name});t=Ve.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new pe(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ve.min())?jn.exists(!1):jn.updateTime(t):jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ve.min()))throw new pe(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jn.updateTime(t)}return jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,a,o,u){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=o,this.deferred=u,this.zu=a.maxAttempts,this.M_=new Vg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new AP(this.datastore),t=this.Hu(e);t&&t.then((a=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(a)})).catch((o=>{this.Yu(o)}))))})).catch((a=>{this.Yu(a)}))}))}Hu(e){try{const t=this.updateFunction(e);return!ec(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!GS(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="FirestoreClient";class IP{constructor(e,t,a,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{_e(Ya,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(_e(Ya,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=jg(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function hp(r,e){r.asyncQueue.verifyOperationInProgress(),_e(Ya,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await ab(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function f0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await CP(r);_e(Ya,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((a=>s0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>s0(e.remoteStore,o))),r._onlineComponents=e}async function CP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_e(Ya,"Using user provided OfflineComponentProvider");try{await hp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Qo("Error using user provided cache. Falling back to memory cache: "+t),await hp(r,new yf)}}else _e(Ya,"Using default OfflineComponentProvider"),await hp(r,new bP(void 0));return r._offlineComponents}async function Gg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_e(Ya,"Using user provided OnlineComponentProvider"),await f0(r,r._uninitializedComponentsProvider._online)):(_e(Ya,"Using default OnlineComponentProvider"),await f0(r,new Gp))),r._onlineComponents}function DP(r){return Gg(r).then((e=>e.syncEngine))}function NP(r){return Gg(r).then((e=>e.datastore))}async function Rb(r){const e=await Gg(r),t=e.eventManager;return t.onListen=hP.bind(null,e.syncEngine),t.onUnlisten=mP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pP.bind(null,e.syncEngine),t}function OP(r,e,t={}){const a=new ii;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,p,g){const _=new Ab({next:S=>{_.Nu(),h.enqueueAndForget((()=>pb(u,T)));const C=S.docs.has(d);!C&&S.fromCache?g.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&S.fromCache&&p&&p.source==="server"?g.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new gb(Ag(d.path),_,{includeMetadataChanges:!0,qa:!0});return mb(u,T)})(await Rb(r),r.asyncQueue,e,t,a))),a.promise}function MP(r,e,t={}){const a=new ii;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,p,g){const _=new Ab({next:S=>{_.Nu(),h.enqueueAndForget((()=>pb(u,T))),S.fromCache&&p.source==="server"?g.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new gb(d,_,{includeMetadataChanges:!0,qa:!0});return mb(u,T)})(await Rb(r),r.asyncQueue,e,t,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firestore.googleapis.com",m0=!0;class p0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=m0}else this.host=e.host,this.ssl=e.ssl??m0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oM)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ib(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new kN;switch(a.type){case"firstParty":return new BN(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=d0.get(t);a&&(_e("ComponentProvider","Removing Datastore"),d0.delete(t),a.terminate())})(this),Promise.resolve()}}function PP(r,e,t,a={}){r=Ba(r,zf);const o=Jo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;o&&(yw(`https://${d}`),_w("Firestore",!0)),u.host!==Cb&&u.host!==d&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:a};if(!Ps(p,h)&&(r._setSettings(p),a.mockUserToken)){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Sn.MOCK_USER;else{g=KI(a.mockUserToken,r._app?.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Sn(T)}r._authCredentials=new LN(new fS(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class Lt{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Ju(t,Lt._jsonSchema))return new Lt(e,a||null,new Ce(wt.fromString(t.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Gt("string",Lt._jsonSchemaVersion),referencePath:Gt("string")};class La extends Ja{constructor(e,t,a){super(e,t,Ag(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ce(e))}withConverter(e){return new La(this.firestore,e,this._path)}}function Ru(r,e,...t){if(r=Zt(r),dS("collection","path",e),r instanceof zf){const a=wt.fromString(e,...t);return CT(a),new La(r,null,a)}{if(!(r instanceof Lt||r instanceof La))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(wt.fromString(e,...t));return CT(a),new La(r.firestore,null,a)}}function wr(r,e,...t){if(r=Zt(r),arguments.length===1&&(e=vg.newId()),dS("doc","path",e),r instanceof zf){const a=wt.fromString(e,...t);return IT(a),new Lt(r,null,new Ce(a))}{if(!(r instanceof Lt||r instanceof La))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(wt.fromString(e,...t));return IT(a),new Lt(r.firestore,r instanceof La?r.converter:null,new Ce(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="AsyncQueue";class y0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vg(this,"async_queue_retry"),this._c=()=>{const a=cp();a&&_e(g0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=cp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=cp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ii;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!il(e))throw e;_e(g0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Bi("INTERNAL UNHANDLED ERROR: ",_0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Bg.createAndSchedule(this,e,t,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:_0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function _0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ac extends zf{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new y0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y0(e),this._firestoreClient=void 0,await e}}}function xP(r,e){const t=typeof r=="object"?r:ww(),a=typeof r=="string"?r:lf,o=ug(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=YI("firestore");u&&PP(o,...u)}return o}function Bf(r){if(r._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VP(r),r._firestoreClient}function VP(r){const e=r._freezeSettings(),t=(function(o,u,h,d){return new rO(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ib(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new IP(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new er(yn.fromBase64String(e))}catch(t){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new er(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ju(e,er._jsonSchema))return er.fromBase64String(e.bytes)}}er._jsonSchemaVersion="firestore/bytes/1.0",er._jsonSchema={type:Gt("string",er._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(Ju(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Gt("string",si._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ju(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new oi(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Gt("string",oi._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=/^__.*__$/;class LP{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}class Db{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:r})}}class Yg{constructor(e,t,a,o,u,h){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.gc(e),a}yc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _f(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nb(this.Ac)&&kP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UP{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||kf(e)}Cc(e,t,a,o=!1){return new Yg({Ac:e,methodName:t,Dc:a,path:pn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(r){const e=r._freezeSettings(),t=kf(r._databaseId);return new UP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Ob(r,e,t,a,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,t,o);$g("Data must be an object, but it was:",h,a);const d=Mb(a,h);let p,g;if(u.merge)p=new tr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=Yp(e,T,t);if(!h.contains(S))throw new pe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);xb(_,S)||_.push(S)}p=new tr(_),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new LP(new Pn(d),p,g)}class qf extends Hf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}class Kg extends Hf{_toFieldTransform(e){return new DO(e.path,new Uu)}isEqual(e){return e instanceof Kg}}function zP(r,e,t,a){const o=r.Cc(1,e,t);$g("Data must be an object, but it was:",o,a);const u=[],h=Pn.empty();Wa(a,((p,g)=>{const _=Xg(e,p,t);g=Zt(g);const T=o.yc(_);if(g instanceof qf)u.push(_);else{const S=sc(g,T);S!=null&&(u.push(_),h.set(_,S))}}));const d=new tr(u);return new Db(h,d,o.fieldTransforms)}function BP(r,e,t,a,o,u){const h=r.Cc(1,e,t),d=[Yp(e,a,t)],p=[o];if(u.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Yp(e,u[S])),p.push(u[S+1]);const g=[],_=Pn.empty();for(let S=d.length-1;S>=0;--S)if(!xb(g,d[S])){const C=d[S];let V=p[S];V=Zt(V);const X=h.yc(C);if(V instanceof qf)g.push(C);else{const z=sc(V,X);z!=null&&(g.push(C),_.set(C,z))}}const T=new tr(g);return new Db(_,T,h.fieldTransforms)}function jP(r,e,t,a=!1){return sc(t,r.Cc(a?4:3,e))}function sc(r,e){if(Pb(r=Zt(r)))return $g("Unsupported field value:",e,r),Mb(r,e);if(r instanceof Hf)return(function(a,o){if(!Nb(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let h=0;for(const d of a){let p=sc(d,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Zt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return RO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=It.fromDate(a);return{timestampValue:df(o.serializer,u)}}if(a instanceof It){const u=new It(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:df(o.serializer,u)}}if(a instanceof si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof er)return{bytesValue:$S(o.serializer,a._byteString)};if(a instanceof Lt){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ng(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof oi)return(function(h,d){return{mapValue:{fields:{[wS]:{stringValue:SS},[uf]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Rg(d.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Cf(a)}`)})(r,e)}function Mb(r,e){const t={};return gS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(r,((a,o)=>{const u=sc(o,e.mc(a));u!=null&&(t[a]=u)})),{mapValue:{fields:t}}}function Pb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof si||r instanceof er||r instanceof Lt||r instanceof Hf||r instanceof oi)}function $g(r,e,t){if(!Pb(t)||!mS(t)){const a=Cf(t);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Yp(r,e,t){if((e=Zt(e))instanceof jf)return e._internalPath;if(typeof e=="string")return Xg(r,e);throw _f("Field path arguments must be of type string or ",r,!1,void 0,t)}const HP=new RegExp("[~\\*/\\[\\]]");function Xg(r,e,t){if(e.search(HP)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new jf(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _f(r,e,t,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new pe(J.INVALID_ARGUMENT,d+r+p)}function xb(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t,a,o,u){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ff("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qP extends vf{data(){return super.data()}}function Ff(r,e){return typeof e=="string"?Xg(r,e):e instanceof jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class Zg extends Wg{}function Gh(r,e,...t){let a=[];e instanceof Wg&&a.push(e),a=a.concat(t),(function(u){const h=u.filter((p=>p instanceof Jg)).length,d=u.filter((p=>p instanceof Gf)).length;if(h>1||h>0&&d>0)throw new pe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Gf extends Zg{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Gf(e,t,a)}_apply(e){const t=this._parse(e);return Vb(e._query,t),new Ja(e.firestore,e.converter,Lp(e._query,t))}_parse(e){const t=Qg(e.firestore);return(function(u,h,d,p,g,_,T){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new pe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){E0(T,_);const V=[];for(const X of T)V.push(v0(p,u,X));S={arrayValue:{values:V}}}else S=v0(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||E0(T,_),S=jP(d,h,T,_==="in"||_==="not-in");return Ft.create(g,_,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Qp(r,e,t){const a=e,o=Ff("where",r);return Gf._create(o,a,t)}class Jg extends Wg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jg(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)Vb(h,p),h=Lp(h,p)})(e._query,t),new Ja(e.firestore,e.converter,Lp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ey extends Zg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ey(e,t)}_apply(e){const t=(function(o,u,h){if(o.startAt!==null)throw new pe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(u,h)})(e._query,this._field,this._direction);return new Ja(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new al(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function GP(r,e="asc"){const t=e,a=Ff("orderBy",r);return ey._create(a,t)}class ty extends Zg{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new ty(e,t,a)}_apply(e){return new Ja(e.firestore,e.converter,hf(e._query,this._limit,this._limitType))}}function YP(r){return ty._create("limit",r,"F")}function v0(r,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new pe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OS(e)&&t.indexOf("/")!==-1)throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(wt.fromString(t));if(!Ce.isDocumentKey(a))throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return kT(r,new Ce(a))}if(t instanceof Lt)return kT(r,t._key);throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(t)}.`)}function E0(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vb(r,e){const t=(function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kb{convertValue(e,t="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Wa(e,((o,u)=>{a[o]=this.convertValue(u,t)})),a}convertVectorValue(e){const t=e.fields?.[uf].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new oi(t)}convertGeoPoint(e){return new si(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Nf(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=Ha(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=wt.fromString(e);st(nb(a),9688,{name:e});const o=new Vu(a.get(1),a.get(3)),u=new Ce(a.popFirst(5));return o.isEqual(t)||Bi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(r,e,t){let a;return a=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,a}class QP extends kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}}class zo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends vf{constructor(e,t,a,o,u,h){super(e,t,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Ff("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ua._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:Gt("string",Ua._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Yh extends Ua{data(e={}){return super.data(e)}}class Go{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new zo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new Yh(this._firestore,this._userDataWriter,a.key,a,new zo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((d=>{const p=new Yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new zo(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new Yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new zo(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:KP(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r){r=Ba(r,Lt);const e=Ba(r.firestore,ac);return OP(Bf(e),r._key).then((t=>XP(e,r,t)))}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:Gt("string",Go._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class ny extends kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}}function Qh(r){r=Ba(r,Ja);const e=Ba(r.firestore,ac),t=Bf(e),a=new ny(e);return FP(r._query),MP(t,r._query).then((o=>new Go(e,a,r,o)))}function ju(r,e,t){r=Ba(r,Lt);const a=Ba(r.firestore,ac),o=Lb(r.converter,e,t);return $P(a,[Ob(Qg(a),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,jn.none())])}function $P(r,e){return(function(a,o){const u=new ii;return a.asyncQueue.enqueueAndForget((async()=>gP(await DP(a),o,u))),u.promise})(Bf(r),e)}function XP(r,e,t){const a=t.docs.get(e._key),o=new ny(r);return new Ua(r,o,e._key,a,new zo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={maxAttempts:5};function _u(r,e){if((r=Zt(r)).firestore!==e)throw new pe(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Qg(e)}get(e){const t=_u(e,this._firestore),a=new QP(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return Ne(24041);const u=o[0];if(u.isFoundDocument())return new vf(this._firestore,a,u.key,u,t.converter);if(u.isNoDocument())return new vf(this._firestore,a,t._key,null,t.converter);throw Ne(18433,{doc:u})}))}set(e,t,a){const o=_u(e,this._firestore),u=Lb(o.converter,t,a),h=Ob(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,a);return this._transaction.set(o._key,h),this}update(e,t,a,...o){const u=_u(e,this._firestore);let h;return h=typeof(t=Zt(t))=="string"||t instanceof jf?BP(this._dataReader,"Transaction.update",u._key,t,a,o):zP(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=_u(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends ZP{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_u(e,this._firestore),a=new ny(this._firestore);return super.get(e).then((o=>new Ua(this._firestore,a,t._key,o._document,new zo(!1,!1),t.converter)))}}function ex(r,e,t){r=Ba(r,ac);const a={...WP,...t};return(function(u){if(u.maxAttempts<1)throw new pe(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(a),(function(u,h,d){const p=new ii;return u.asyncQueue.enqueueAndForget((async()=>{const g=await NP(u);new RP(u.asyncQueue,g,d,h,p).ju()})),p.promise})(Bf(r),(o=>e(new JP(r,o))),a)}function T0(){return new Kg("serverTimestamp")}(function(e,t=!0){(function(o){nl=o})(el),Yo(new xs("firestore",((a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new ac(new UN(a.getProvider("auth-internal")),new jN(h,a.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(g.options.projectId,_)})(h,o),h);return u={useFetchStreams:t,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Va(ST,bT,e),Va(ST,bT,"esm2020")})();var tx="firebase",nx="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Va(tx,nx,"app");const rx={apiKey:"AIzaSyAPdjCA0-eBPHzOP4mg8S5eJvCpeRK_wH4",authDomain:"streaks-b68de.firebaseapp.com",projectId:"streaks-b68de",storageBucket:"streaks-b68de.firebasestorage.app",messagingSenderId:"392608226549",appId:"1:392608226549:web:2ecbe2c628e56353f839bc",measurementId:"G-1XGVS7R7MY"},Ub=Tw(rx),Yf=xN(Ub),gn=xP(Ub),ix={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ax=(r,e,t)=>{let a;const o=ix[r];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function fp(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const sx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ox={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ux={date:fp({formats:sx,defaultWidth:"full"}),time:fp({formats:ox,defaultWidth:"full"}),dateTime:fp({formats:lx,defaultWidth:"full"})},cx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hx=(r,e,t,a)=>cx[r];function cu(r){return(e,t)=>{const a=t?.context?String(t.context):"standalone";let o;if(a==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,d=t?.width?String(t.width):h;o=r.formattingValues[d]||r.formattingValues[h]}else{const h=r.defaultWidth,d=t?.width?String(t.width):r.defaultWidth;o=r.values[d]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const fx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},px={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_x=(r,e)=>{const t=Number(r),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},vx={ordinalNumber:_x,era:cu({values:fx,defaultWidth:"wide"}),quarter:cu({values:dx,defaultWidth:"wide",argumentCallback:r=>r-1}),month:cu({values:mx,defaultWidth:"wide"}),day:cu({values:px,defaultWidth:"wide"}),dayPeriod:cu({values:gx,defaultWidth:"wide",formattingValues:yx,defaultFormattingWidth:"wide"})};function hu(r){return(e,t={})=>{const a=t.width,o=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],d=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(d)?Tx(d,T=>T.test(h)):Ex(d,T=>T.test(h));let g;g=r.valueCallback?r.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const _=e.slice(h.length);return{value:g,rest:_}}}function Ex(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Tx(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function wx(r){return(e,t={})=>{const a=e.match(r.matchPattern);if(!a)return null;const o=a[0],u=e.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=t.valueCallback?t.valueCallback(h):h;const d=e.slice(o.length);return{value:h,rest:d}}}const Sx=/^(\d+)(th|st|nd|rd)?/i,bx=/\d+/i,Ax={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rx={any:[/^b/i,/^(a|c)/i]},Ix={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cx={any:[/1/i,/2/i,/3/i,/4/i]},Dx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ox={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Px={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vx={ordinalNumber:wx({matchPattern:Sx,parsePattern:bx,valueCallback:r=>parseInt(r,10)}),era:hu({matchPatterns:Ax,defaultMatchWidth:"wide",parsePatterns:Rx,defaultParseWidth:"any"}),quarter:hu({matchPatterns:Ix,defaultMatchWidth:"wide",parsePatterns:Cx,defaultParseWidth:"any",valueCallback:r=>r+1}),month:hu({matchPatterns:Dx,defaultMatchWidth:"wide",parsePatterns:Nx,defaultParseWidth:"any"}),day:hu({matchPatterns:Ox,defaultMatchWidth:"wide",parsePatterns:Mx,defaultParseWidth:"any"}),dayPeriod:hu({matchPatterns:Px,defaultMatchWidth:"any",parsePatterns:xx,defaultParseWidth:"any"})},kx={code:"en-US",formatDistance:ax,formatLong:ux,formatRelative:hx,localize:vx,match:Vx,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Lx={};function oc(){return Lx}const zb=6048e5,Ux=864e5,w0=Symbol.for("constructDateFrom");function Qa(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&w0 in r?r[w0](e):r instanceof Date?new r.constructor(e):new Date(e)}function Vr(r,e){return Qa(e||r,r)}function S0(r){const e=Vr(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function zx(r,...e){const t=Qa.bind(null,e.find(a=>typeof a=="object"));return e.map(t)}function b0(r,e){const t=Vr(r,e?.in);return t.setHours(0,0,0,0),t}function Bx(r,e,t){const[a,o]=zx(t?.in,r,e),u=b0(a),h=b0(o),d=+u-S0(u),p=+h-S0(h);return Math.round((d-p)/Ux)}function jx(r,e){const t=Vr(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Hx(r,e){const t=Vr(r,e?.in);return Bx(t,jx(t))+1}function Hu(r,e){const t=oc(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,o=Vr(r,e?.in),u=o.getDay(),h=(u<a?7:0)+u-a;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function Ef(r,e){return Hu(r,{...e,weekStartsOn:1})}function Bb(r,e){const t=Vr(r,e?.in),a=t.getFullYear(),o=Qa(t,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=Ef(o),h=Qa(t,0);h.setFullYear(a,0,4),h.setHours(0,0,0,0);const d=Ef(h);return t.getTime()>=u.getTime()?a+1:t.getTime()>=d.getTime()?a:a-1}function qx(r,e){const t=Bb(r,e),a=Qa(r,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),Ef(a)}function Fx(r,e){const t=Vr(r,e?.in),a=+Ef(t)-+qx(t);return Math.round(a/zb)+1}function jb(r,e){const t=Vr(r,e?.in),a=t.getFullYear(),o=oc(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,h=Qa(e?.in||r,0);h.setFullYear(a+1,0,u),h.setHours(0,0,0,0);const d=Hu(h,e),p=Qa(e?.in||r,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const g=Hu(p,e);return+t>=+d?a+1:+t>=+g?a:a-1}function Gx(r,e){const t=oc(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,o=jb(r,e),u=Qa(e?.in||r,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),Hu(u,e)}function Yx(r,e){const t=Vr(r,e?.in),a=+Hu(t,e)-+Gx(t,e);return Math.round(a/zb)+1}function gt(r,e){const t=r<0?"-":"",a=Math.abs(r).toString().padStart(e,"0");return t+a}const wa={y(r,e){const t=r.getFullYear(),a=t>0?t:1-t;return gt(e==="yy"?a%100:a,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):gt(t+1,2)},d(r,e){return gt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return gt(r.getHours()%12||12,e.length)},H(r,e){return gt(r.getHours(),e.length)},m(r,e){return gt(r.getMinutes(),e.length)},s(r,e){return gt(r.getSeconds(),e.length)},S(r,e){const t=e.length,a=r.getMilliseconds(),o=Math.trunc(a*Math.pow(10,t-3));return gt(o,e.length)}},Oo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},A0={G:function(r,e,t){const a=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const a=r.getFullYear(),o=a>0?a:1-a;return t.ordinalNumber(o,{unit:"year"})}return wa.y(r,e)},Y:function(r,e,t,a){const o=jb(r,a),u=o>0?o:1-o;if(e==="YY"){const h=u%100;return gt(h,2)}return e==="Yo"?t.ordinalNumber(u,{unit:"year"}):gt(u,e.length)},R:function(r,e){const t=Bb(r);return gt(t,e.length)},u:function(r,e){const t=r.getFullYear();return gt(t,e.length)},Q:function(r,e,t){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return gt(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(r,e,t){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return gt(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(r,e,t){const a=r.getMonth();switch(e){case"M":case"MM":return wa.M(r,e);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(r,e,t){const a=r.getMonth();switch(e){case"L":return String(a+1);case"LL":return gt(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(r,e,t,a){const o=Yx(r,a);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):gt(o,e.length)},I:function(r,e,t){const a=Fx(r);return e==="Io"?t.ordinalNumber(a,{unit:"week"}):gt(a,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):wa.d(r,e)},D:function(r,e,t){const a=Hx(r);return e==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):gt(a,e.length)},E:function(r,e,t){const a=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(r,e,t,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return gt(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return gt(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const a=r.getDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return gt(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const a=r.getHours();let o;switch(a===12?o=Oo.noon:a===0?o=Oo.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const a=r.getHours();let o;switch(a>=17?o=Oo.evening:a>=12?o=Oo.afternoon:a>=4?o=Oo.morning:o=Oo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let a=r.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return wa.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):wa.H(r,e)},K:function(r,e,t){const a=r.getHours()%12;return e==="Ko"?t.ordinalNumber(a,{unit:"hour"}):gt(a,e.length)},k:function(r,e,t){let a=r.getHours();return a===0&&(a=24),e==="ko"?t.ordinalNumber(a,{unit:"hour"}):gt(a,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):wa.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):wa.s(r,e)},S:function(r,e){return wa.S(r,e)},X:function(r,e,t){const a=r.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return I0(a);case"XXXX":case"XX":return Ns(a);case"XXXXX":case"XXX":default:return Ns(a,":")}},x:function(r,e,t){const a=r.getTimezoneOffset();switch(e){case"x":return I0(a);case"xxxx":case"xx":return Ns(a);case"xxxxx":case"xxx":default:return Ns(a,":")}},O:function(r,e,t){const a=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+R0(a,":");case"OOOO":default:return"GMT"+Ns(a,":")}},z:function(r,e,t){const a=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+R0(a,":");case"zzzz":default:return"GMT"+Ns(a,":")}},t:function(r,e,t){const a=Math.trunc(+r/1e3);return gt(a,e.length)},T:function(r,e,t){return gt(+r,e.length)}};function R0(r,e=""){const t=r>0?"-":"+",a=Math.abs(r),o=Math.trunc(a/60),u=a%60;return u===0?t+String(o):t+String(o)+e+gt(u,2)}function I0(r,e){return r%60===0?(r>0?"-":"+")+gt(Math.abs(r)/60,2):Ns(r,e)}function Ns(r,e=""){const t=r>0?"-":"+",a=Math.abs(r),o=gt(Math.trunc(a/60),2),u=gt(a%60,2);return t+o+e+u}const C0=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Hb=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Qx=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],a=t[1],o=t[2];if(!o)return C0(r,e);let u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",C0(a,e)).replace("{{time}}",Hb(o,e))},Kx={p:Hb,P:Qx},$x=/^D+$/,Xx=/^Y+$/,Wx=["D","DD","YY","YYYY"];function Zx(r){return $x.test(r)}function Jx(r){return Xx.test(r)}function eV(r,e,t){const a=tV(r,e,t);if(console.warn(a),Wx.includes(r))throw new RangeError(a)}function tV(r,e,t){const a=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function nV(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function rV(r){return!(!nV(r)&&typeof r!="number"||isNaN(+Vr(r)))}const iV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sV=/^'([^]*?)'?$/,oV=/''/g,lV=/[a-zA-Z]/;function uV(r,e,t){const a=oc(),o=t?.locale??a.locale??kx,u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,h=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d=Vr(r,t?.in);if(!rV(d))throw new RangeError("Invalid time value");let p=e.match(aV).map(_=>{const T=_[0];if(T==="p"||T==="P"){const S=Kx[T];return S(_,o.formatLong)}return _}).join("").match(iV).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const T=_[0];if(T==="'")return{isToken:!1,value:cV(_)};if(A0[T])return{isToken:!0,value:_};if(T.match(lV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:_}});o.localize.preprocessor&&(p=o.localize.preprocessor(d,p));const g={firstWeekContainsDate:u,weekStartsOn:h,locale:o};return p.map(_=>{if(!_.isToken)return _.value;const T=_.value;(!t?.useAdditionalWeekYearTokens&&Jx(T)||!t?.useAdditionalDayOfYearTokens&&Zx(T))&&eV(T,e,String(r));const S=A0[T[0]];return S(d,T,o.localize,g)}).join("")}function cV(r){const e=r.match(sV);return e?e[1].replace(oV,"'"):r}function hV(){return Object.assign({},oc())}function D0(r,e,t){const a=hV(),o=mV(r,t.timeZone,t.locale??a.locale);return"formatToParts"in o?fV(o,e):dV(o,e)}function fV(r,e){const t=r.formatToParts(e);for(let a=t.length-1;a>=0;--a)if(t[a].type==="timeZoneName")return t[a].value}function dV(r,e){const t=r.format(e).replace(/\u200E/g,""),a=/ [\w-+ ]+$/.exec(t);return a?a[0].substr(1):""}function mV(r,e,t){return new Intl.DateTimeFormat(t?[t.code,"en-US"]:void 0,{timeZone:e,timeZoneName:r})}function pV(r,e){const t=EV(e);return"formatToParts"in t?yV(t,r):_V(t,r)}const gV={year:0,month:1,day:2,hour:3,minute:4,second:5};function yV(r,e){try{const t=r.formatToParts(e),a=[];for(let o=0;o<t.length;o++){const u=gV[t[o].type];u!==void 0&&(a[u]=parseInt(t[o].value,10))}return a}catch(t){if(t instanceof RangeError)return[NaN];throw t}}function _V(r,e){const t=r.format(e),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t);return[parseInt(a[3],10),parseInt(a[1],10),parseInt(a[2],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10)]}const dp={},N0=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),vV=N0==="06/25/2014, 00:00:00"||N0==="06/25/2014 00:00:00";function EV(r){return dp[r]||(dp[r]=vV?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),dp[r]}function qb(r,e,t,a,o,u,h){const d=new Date(0);return d.setUTCFullYear(r,e,t),d.setUTCHours(a,o,u,h),d}const O0=36e5,TV=6e4,mp={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function ry(r,e,t){if(!r)return 0;let a=mp.timezoneZ.exec(r);if(a)return 0;let o,u;if(a=mp.timezoneHH.exec(r),a)return o=parseInt(a[1],10),M0(o)?-(o*O0):NaN;if(a=mp.timezoneHHMM.exec(r),a){o=parseInt(a[2],10);const h=parseInt(a[3],10);return M0(o,h)?(u=Math.abs(o)*O0+h*TV,a[1]==="+"?-u:u):NaN}if(bV(r)){e=new Date(e||Date.now());const h=t?e:wV(e),d=Kp(h,r);return-(t?d:SV(e,d,r))}return NaN}function wV(r){return qb(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}function Kp(r,e){const t=pV(r,e),a=qb(t[0],t[1]-1,t[2],t[3]%24,t[4],t[5],0).getTime();let o=r.getTime();const u=o%1e3;return o-=u>=0?u:1e3+u,a-o}function SV(r,e,t){let o=r.getTime()-e;const u=Kp(new Date(o),t);if(e===u)return e;o-=u-e;const h=Kp(new Date(o),t);return u===h?u:Math.max(u,h)}function M0(r,e){return-23<=r&&r<=23&&(e==null||0<=e&&e<=59)}const P0={};function bV(r){if(P0[r])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:r}),P0[r]=!0,!0}catch{return!1}}const AV=60*1e3,RV={X:function(r,e,t){const a=pp(t.timeZone,r);if(a===0)return"Z";switch(e){case"X":return x0(a);case"XXXX":case"XX":return Lo(a);case"XXXXX":case"XXX":default:return Lo(a,":")}},x:function(r,e,t){const a=pp(t.timeZone,r);switch(e){case"x":return x0(a);case"xxxx":case"xx":return Lo(a);case"xxxxx":case"xxx":default:return Lo(a,":")}},O:function(r,e,t){const a=pp(t.timeZone,r);switch(e){case"O":case"OO":case"OOO":return"GMT"+IV(a,":");case"OOOO":default:return"GMT"+Lo(a,":")}},z:function(r,e,t){switch(e){case"z":case"zz":case"zzz":return D0("short",r,t);case"zzzz":default:return D0("long",r,t)}}};function pp(r,e){const t=r?ry(r,e,!0)/AV:e?.getTimezoneOffset()??0;if(Number.isNaN(t))throw new RangeError("Invalid time zone specified: "+r);return t}function Tf(r,e){const t=r<0?"-":"";let a=Math.abs(r).toString();for(;a.length<e;)a="0"+a;return t+a}function Lo(r,e=""){const t=r>0?"-":"+",a=Math.abs(r),o=Tf(Math.floor(a/60),2),u=Tf(Math.floor(a%60),2);return t+o+e+u}function x0(r,e){return r%60===0?(r>0?"-":"+")+Tf(Math.abs(r)/60,2):Lo(r,e)}function IV(r,e=""){const t=r>0?"-":"+",a=Math.abs(r),o=Math.floor(a/60),u=a%60;return u===0?t+String(o):t+String(o)+e+Tf(u,2)}function V0(r){const e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),+r-+e}const CV=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,gp=36e5,k0=6e4,DV=2,xn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:CV};function Fb(r,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(r===null)return new Date(NaN);const t=e.additionalDigits==null?DV:Number(e.additionalDigits);if(t!==2&&t!==1&&t!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]")return new Date(r.getTime());if(typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]")return new Date(r);if(Object.prototype.toString.call(r)!=="[object String]")return new Date(NaN);const a=NV(r),{year:o,restDateString:u}=OV(a.date,t),h=MV(u,o);if(h===null||isNaN(h.getTime()))return new Date(NaN);if(h){const d=h.getTime();let p=0,g;if(a.time&&(p=PV(a.time),p===null||isNaN(p)))return new Date(NaN);if(a.timeZone||e.timeZone){if(g=ry(a.timeZone||e.timeZone,new Date(d+p)),isNaN(g))return new Date(NaN)}else g=V0(new Date(d+p)),g=V0(new Date(d+p+g));return new Date(d+p+g)}else return new Date(NaN)}function NV(r){const e={};let t=xn.dateTimePattern.exec(r),a;if(t?(e.date=t[1],a=t[3]):(t=xn.datePattern.exec(r),t?(e.date=t[1],a=t[2]):(e.date=null,a=r)),a){const o=xn.timeZone.exec(a);o?(e.time=a.replace(o[1],""),e.timeZone=o[1].trim()):e.time=a}return e}function OV(r,e){if(r){const t=xn.YYY[e],a=xn.YYYYY[e];let o=xn.YYYY.exec(r)||a.exec(r);if(o){const u=o[1];return{year:parseInt(u,10),restDateString:r.slice(u.length)}}if(o=xn.YY.exec(r)||t.exec(r),o){const u=o[1];return{year:parseInt(u,10)*100,restDateString:r.slice(u.length)}}}return{year:null}}function MV(r,e){if(e===null)return null;let t,a,o;if(!r||!r.length)return t=new Date(0),t.setUTCFullYear(e),t;let u=xn.MM.exec(r);if(u)return t=new Date(0),a=parseInt(u[1],10)-1,U0(e,a)?(t.setUTCFullYear(e,a),t):new Date(NaN);if(u=xn.DDD.exec(r),u){t=new Date(0);const h=parseInt(u[1],10);return kV(e,h)?(t.setUTCFullYear(e,0,h),t):new Date(NaN)}if(u=xn.MMDD.exec(r),u){t=new Date(0),a=parseInt(u[1],10)-1;const h=parseInt(u[2],10);return U0(e,a,h)?(t.setUTCFullYear(e,a,h),t):new Date(NaN)}if(u=xn.Www.exec(r),u)return o=parseInt(u[1],10)-1,z0(o)?L0(e,o):new Date(NaN);if(u=xn.WwwD.exec(r),u){o=parseInt(u[1],10)-1;const h=parseInt(u[2],10)-1;return z0(o,h)?L0(e,o,h):new Date(NaN)}return null}function PV(r){let e,t,a=xn.HH.exec(r);if(a)return e=parseFloat(a[1].replace(",",".")),yp(e)?e%24*gp:NaN;if(a=xn.HHMM.exec(r),a)return e=parseInt(a[1],10),t=parseFloat(a[2].replace(",",".")),yp(e,t)?e%24*gp+t*k0:NaN;if(a=xn.HHMMSS.exec(r),a){e=parseInt(a[1],10),t=parseInt(a[2],10);const o=parseFloat(a[3].replace(",","."));return yp(e,t,o)?e%24*gp+t*k0+o*1e3:NaN}return null}function L0(r,e,t){e=e||0,t=t||0;const a=new Date(0);a.setUTCFullYear(r,0,4);const o=a.getUTCDay()||7,u=e*7+t+1-o;return a.setUTCDate(a.getUTCDate()+u),a}const xV=[31,28,31,30,31,30,31,31,30,31,30,31],VV=[31,29,31,30,31,30,31,31,30,31,30,31];function Gb(r){return r%400===0||r%4===0&&r%100!==0}function U0(r,e,t){if(e<0||e>11)return!1;if(t!=null){if(t<1)return!1;const a=Gb(r);if(a&&t>VV[e]||!a&&t>xV[e])return!1}return!0}function kV(r,e){if(e<1)return!1;const t=Gb(r);return!(t&&e>366||!t&&e>365)}function z0(r,e){return!(r<0||r>52||e!=null&&(e<0||e>6))}function yp(r,e,t){return!(r<0||r>=25||e!=null&&(e<0||e>=60)||t!=null&&(t<0||t>=60))}const LV=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function UV(r,e,t={}){e=String(e);const a=e.match(LV);if(a){const o=Fb(t.originalDate||r,t);e=a.reduce(function(u,h){if(h[0]==="'")return u;const d=u.indexOf(h),p=u[d-1]==="'",g=u.replace(h,"'"+RV[h[0]](o,h,t)+"'");return p?g.substring(0,d-1)+g.substring(d+1):g},e)}return uV(r,e,t)}function zV(r,e,t){r=Fb(r,t);const a=ry(e,r,!0),o=new Date(r.getTime()-a),u=new Date(0);return u.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),u.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),u}function BV(r,e,t,a){return a={...a,timeZone:e,originalDate:r},UV(zV(r,e,{timeZone:a.timeZone}),t,a)}function $p(r,e){return BV(r,e,"yyyy-MM-dd")}function iy(){return Intl.DateTimeFormat().resolvedOptions().timeZone}async function jV(r,e,t){try{console.log("Starting signup process for:",r,t);const o=(await _2(Yf,r,e)).user;console.log("User created:",o.uid),await new Promise(p=>setTimeout(p,1e3)),console.log("Reserving username:",t);const u=wr(gn,"usernames",t);if((await Ma(u)).exists())throw console.log("Username already taken"),new Error("Username already taken");await ju(u,{uid:o.uid}),console.log("Username reserved successfully"),console.log("Creating profile for user:",o.uid);const d=wr(gn,"profiles",o.uid);await ju(d,{username:t,currentTimezone:iy(),createdAt:new Date,updatedAt:new Date}),console.log("Profile created successfully")}catch(a){throw console.error("Signup error:",a),a}}async function HV(r,e){await v2(Yf,r,e)}async function qV(){await S2(Yf)}function Yb(r){return w2(Yf,r)}function FV({onSuccess:r}){const[e,t]=Y.useState(!1),[a,o]=Y.useState(""),[u,h]=Y.useState(""),[d,p]=Y.useState(""),[g,_]=Y.useState(""),[T,S]=Y.useState(!1),C=async V=>{V.preventDefault(),_(""),S(!0);try{e?await jV(a,u,d):await HV(a,u),r()}catch(X){_(X instanceof Error?X.message:"An error occurred")}finally{S(!1)}};return me.jsxs("div",{className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[me.jsx("h2",{className:"text-2xl mb-4",children:e?"Sign Up":"Sign In"}),me.jsxs("form",{onSubmit:C,children:[me.jsxs("div",{className:"mb-4",children:[me.jsx("label",{className:"block text-gray-700",children:"Email"}),me.jsx("input",{type:"email",value:a,onChange:V=>o(V.target.value),className:"w-full p-2 border rounded",required:!0})]}),me.jsxs("div",{className:"mb-4",children:[me.jsx("label",{className:"block text-gray-700",children:"Password"}),me.jsx("input",{type:"password",value:u,onChange:V=>h(V.target.value),className:"w-full p-2 border rounded",required:!0})]}),e&&me.jsxs("div",{className:"mb-4",children:[me.jsx("label",{className:"block text-gray-700",children:"Username"}),me.jsx("input",{type:"text",value:d,onChange:V=>p(V.target.value),className:"w-full p-2 border rounded",required:!0})]}),g&&me.jsx("p",{className:"text-red-500 mb-4",children:g}),me.jsx("button",{type:"submit",disabled:T,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700",children:T?"Loading...":e?"Sign Up":"Sign In"})]}),me.jsx("button",{onClick:()=>t(!e),className:"mt-4 text-blue-600 hover:underline",children:e?"Already have an account? Sign In":"Need an account? Sign Up"})]})}function GV(){const r=Gu(),e=()=>{r("/app")};return me.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:me.jsx(FV,{onSuccess:e})})}async function YV(r,e,t,a){try{const o=wr(Ru(gn,"challenges")),u={ownerUid:r.uid,name:e,isGroup:t,visibility:a,members:[r.uid],startDate:new Date,streakPolicy:{window:"calendar",resetHour:0},createdAt:new Date,updatedAt:new Date};console.log("Creating challenge:",u),await ju(o,u),console.log("Challenge created with ID:",o.id);const h=wr(gn,"challengeParticipants",`${o.id}_${r.uid}`),d={uid:r.uid,challengeId:o.id,currentStreak:0,longestStreak:0,lastCheckinDate:null,createdAt:new Date,updatedAt:new Date};return console.log("Creating participant:",d),await ju(h,d),console.log("Participant created"),o.id}catch(o){throw console.error("Error in createChallenge:",o),o}}async function QV(r){try{console.log("Getting challenges for user:",r.uid);const e=Gh(Ru(gn,"challenges"),Qp("members","array-contains",r.uid));console.log("Executing query...");const t=await Qh(e);console.log("Query completed, found",t.docs.length,"challenges");const a=t.docs.map(o=>{const u=o.data();return console.log("Challenge doc:",o.id,u),{id:o.id,...u}});return console.log("Challenges:",a),a}catch(e){throw console.error("Error in getUserChallenges:",e),e}}async function KV(r,e){const t=iy(),a=new Date,o=$p(a,t),u=`${r}_${e.uid}_${o}`,h=wr(gn,"checkins",u);if(console.log("Checking in for challenge:",r,"user:",e.uid),(await Ma(h)).exists()){console.log("Already checked in today");return}console.log("Starting transaction for check-in"),await ex(gn,async p=>{const g=wr(gn,"challengeParticipants",`${r}_${e.uid}`);console.log("Getting participant document:",g.path);const _=await p.get(g);let T;_.exists()?(T=_.data(),console.log("Participant data:",T)):(console.log("Participant document not found, creating it"),T={uid:e.uid,challengeId:r,currentStreak:0,longestStreak:0,lastCheckinDate:null,createdAt:new Date,updatedAt:new Date},p.set(g,T));const S=T.lastCheckinDate;let C=1;if(S){const V=$p(new Date(a.getTime()-864e5),t);S===V&&(C=T.currentStreak+1)}console.log("Creating check-in document:",u),p.set(h,{uid:e.uid,challengeId:r,date:o,at:T0()}),console.log("Updating participant document with streak:",C),p.update(g,{currentStreak:C,longestStreak:Math.max(T.longestStreak||0,C),lastCheckinDate:o,updatedAt:T0()})}),console.log("Check-in transaction completed successfully")}async function Kh(r,e){const t=iy(),a=$p(new Date,t),o=`${r}_${e.uid}_${a}`;return(await Ma(wr(gn,"checkins",o))).exists()}function $V({id:r,name:e,currentStreak:t,hasCheckedToday:a}){return me.jsxs("div",{className:"bg-white p-4 rounded shadow mb-4",children:[me.jsx("h3",{className:"text-lg font-bold",children:e}),me.jsxs("p",{children:["Current Streak: ",t]}),me.jsxs("p",{children:["Checked Today: ",a?"Yes":"No"]}),me.jsx(Na,{to:`/challenge/${r}`,className:"text-blue-600 hover:underline",children:"Open"})]})}function Qf(){const r=Gu(),e=async()=>{await qV(),r("/")};return me.jsx("nav",{className:"bg-blue-600 text-white p-4",children:me.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[me.jsx(Na,{to:"/app",className:"text-xl font-bold",children:"Streaks"}),me.jsxs("div",{className:"space-x-4",children:[me.jsx(Na,{to:"/app",className:"hover:underline",children:"Dashboard"}),me.jsx(Na,{to:"/leaderboard",className:"hover:underline",children:"Leaderboard"}),me.jsx(Na,{to:"/profile",className:"hover:underline",children:"Profile"}),me.jsx("button",{onClick:e,className:"hover:underline",children:"Sign Out"})]})]})})}function XV(){const[r,e]=Y.useState(null),[t,a]=Y.useState([]),[o,u]=Y.useState(!0),h=Gu(),d=Y.useCallback(async g=>{try{const _=await QV(g),T=await Promise.all(_.map(async S=>{const C=await Kh(S.id,g);let V=0;try{const X=wr(gn,"challengeParticipants",`${S.id}_${g.uid}`),z=await Ma(X);z.exists()&&(V=z.data().currentStreak||0)}catch(X){console.error("Error fetching participant data:",X)}return{...S,hasCheckedToday:C,currentStreak:V}}));a(T),console.log("Loaded challenges:",T)}catch(_){console.error("Error loading challenges:",_),setTimeout(()=>{g&&d(g)},1e3)}finally{u(!1)}},[]);Y.useEffect(()=>Yb(_=>{if(!_){h("/");return}e(_),d(_)}),[h,d]);const p=async()=>{const g=prompt("Challenge name:");if(g&&r)try{await YV(r,g,!1,"public"),d(r)}catch{alert("Error creating challenge")}};return o?me.jsx("div",{children:"Loading..."}):me.jsxs("div",{children:[me.jsx(Qf,{}),me.jsxs("div",{className:"container mx-auto p-4",children:[me.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Your Challenges"}),me.jsxs("p",{className:"mb-4",children:["Found ",t.length," challenges"]}),me.jsxs("div",{className:"mb-4 space-x-2",children:[me.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Create Challenge"}),me.jsx("button",{onClick:()=>r&&d(r),className:"bg-gray-600 text-white px-4 py-2 rounded",children:"Refresh Challenges"})]}),t.length===0?me.jsx("p",{children:"No challenges found. Try creating one!"}):t.map(g=>me.jsx($V,{id:g.id,name:g.name,currentStreak:g.currentStreak,hasCheckedToday:g.hasCheckedToday},g.id))]})]})}function WV({challengeId:r,user:e,onCheckIn:t,disabled:a}){const[o,u]=Y.useState(!1),h=async()=>{u(!0);try{await KV(r,e),t()}catch{alert("Error checking in")}finally{u(!1)}};return me.jsx("button",{onClick:h,disabled:a||o,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:bg-gray-400",children:o?"Checking In...":"Check In"})}function ZV({username:r,currentStreak:e,hasCheckedToday:t}){return me.jsxs("div",{className:"flex justify-between items-center p-2 border-b",children:[me.jsx("span",{children:r}),me.jsxs("div",{className:"flex items-center space-x-2",children:[me.jsxs("span",{children:["Streak: ",e]}),me.jsx("div",{className:`w-4 h-4 rounded-full ${t?"bg-green-500":"bg-red-500"}`})]})]})}function JV(){const{id:r}=VR(),[e,t]=Y.useState(null),[a,o]=Y.useState(null),[u,h]=Y.useState([]),[d,p]=Y.useState(!1),[g,_]=Y.useState(!0),T=Gu(),S=Y.useCallback(async V=>{try{console.log("Loading challenge:",V);const X=await Ma(wr(gn,"challenges",V));if(!X.exists()){alert("Challenge not found"),T("/app");return}const z={id:X.id,...X.data()};console.log("Challenge loaded:",z),o(z);const ne=z.members;console.log("Member UIDs:",ne);const se=await Promise.all(ne.map(async oe=>{console.log("Loading data for member:",oe);const Re=await Ma(wr(gn,"profiles",oe));console.log("Profile data for",oe,":",Re.exists()?Re.data():"Profile not found");const fe=await Ma(wr(gn,"challengeParticipants",`${V}_${oe}`)),q=await Kh(V,{uid:oe});return{username:Re.exists()&&Re.data()?.username?Re.data().username:`User ${oe.slice(0,8)}`,currentStreak:fe.exists()&&fe.data()?.currentStreak||0,hasCheckedToday:q}}));if(console.log("Member profiles loaded:",se),h(se),e){const oe=await Kh(V,e);p(oe)}_(!1)}catch(X){console.error("Error loading challenge:",X),_(!1)}},[T,e]);Y.useEffect(()=>Yb(X=>{if(!X){T("/");return}t(X),r&&S(r)}),[r,T,S]),Y.useEffect(()=>{e&&(async()=>{const X=wr(gn,"profiles",e.uid);(await Ma(X)).exists()||(console.log("Creating missing profile for user:",e.uid),await ju(X,{username:e.email?.split("@")[0]||`user${e.uid.slice(0,8)}`,currentTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,createdAt:new Date,updatedAt:new Date}))})()},[e]);const C=async()=>{if(r&&e){await S(r);const V=await Kh(r,e);p(V)}};return g?me.jsx("div",{children:"Loading..."}):!a||!e?me.jsx("div",{children:"Not found"}):me.jsxs("div",{children:[me.jsx(Qf,{}),me.jsxs("div",{className:"container mx-auto p-4",children:[me.jsx("h1",{className:"text-2xl font-bold mb-4",children:a.name}),me.jsx(WV,{challengeId:a.id,user:e,onCheckIn:C,disabled:d}),me.jsx("h2",{className:"text-xl mt-8 mb-4",children:"Members"}),u.map((V,X)=>me.jsx(ZV,{username:V.username,currentStreak:V.currentStreak,hasCheckedToday:V.hasCheckedToday},X))]})]})}async function e4(){const r=Gh(Ru(gn,"challengeParticipants"),GP("currentStreak","desc"),YP(100)),e=await Qh(r),t=[];for(const a of e.docs){const o=a.data(),u=await Qh(Gh(Ru(gn,"challenges"),Qp("__name__","==",o.challengeId)));if(u.empty)continue;const h=u.docs[0].data();if(h.visibility!=="public")continue;const d=await Qh(Gh(Ru(gn,"profiles"),Qp("__name__","==",o.uid)));if(d.empty)continue;const p=d.docs[0].data();t.push({username:p.username,challengeName:h.name,currentStreak:o.currentStreak})}return t}function t4(){const[r,e]=Y.useState([]),[t,a]=Y.useState(!0);return Y.useEffect(()=>{e4().then(e).finally(()=>a(!1))},[]),t?me.jsx("div",{children:"Loading..."}):me.jsxs("div",{children:[me.jsx(Qf,{}),me.jsxs("div",{className:"container mx-auto p-4",children:[me.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Public Leaderboard"}),r.map((o,u)=>me.jsxs("div",{className:"flex justify-between p-2 border-b",children:[me.jsxs("span",{children:[o.username,"  ",o.challengeName]}),me.jsx("span",{children:o.currentStreak})]},u))]})]})}function n4(){return me.jsxs("div",{children:[me.jsx(Qf,{}),me.jsxs("div",{className:"container mx-auto p-4",children:[me.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Profile"}),me.jsx("p",{children:"Profile page placeholder."})]})]})}const r4=SI([{path:"/",element:me.jsx(LI,{})},{path:"/auth",element:me.jsx(GV,{})},{path:"/app",element:me.jsx(XV,{})},{path:"/challenge/:id",element:me.jsx(JV,{})},{path:"/leaderboard",element:me.jsx(t4,{})},{path:"/profile",element:me.jsx(n4,{})}],{basename:"/streaks"});function i4(){return me.jsx(kI,{router:r4})}A1.createRoot(document.getElementById("root")).render(me.jsx(Y.StrictMode,{children:me.jsx(i4,{})}));
